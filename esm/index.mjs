var WU=Object.create;var lD=Object.defineProperty;var VU=Object.getOwnPropertyDescriptor;var YU=Object.getOwnPropertyNames;var KU=Object.getPrototypeOf,XU=Object.prototype.hasOwnProperty;var WS=(p,b)=>()=>(b||p((b={exports:{}}).exports,b),b.exports);var ZU=(p,b,x,T)=>{if(b&&typeof b=="object"||typeof b=="function")for(let I of YU(b))!XU.call(p,I)&&I!==x&&lD(p,I,{get:()=>b[I],enumerable:!(T=VU(b,I))||T.enumerable});return p};var uD=(p,b,x)=>(x=p!=null?WU(KU(p)):{},ZU(b||!p||!p.__esModule?lD(x,"default",{value:p,enumerable:!0}):x,p));var sA=WS((Pw,qD)=>{(function(p,b){typeof Pw=="object"&&typeof qD<"u"?b(Pw):typeof define=="function"&&define.amd?define(["exports"],b):b((p=typeof globalThis<"u"?globalThis:p||self).vega={})})(Pw,function(p){"use strict";function b(e,t,n){return e.fields=t||[],e.fname=n,e}function x(e){return e==null?null:e.fname}function T(e){return e==null?null:e.fields}function I(e){return e.length===1?B(e[0]):P(e)}let B=e=>function(t){return t[e]},P=e=>{let t=e.length;return function(n){for(let a=0;a<t;++a)n=n[e[a]];return n}};function F(e){throw Error(e)}function j(e){let t=[],n=e.length,a,r,i,o=null,u=0,c="";function f(){t.push(c+e.substring(a,r)),c="",a=r+1}for(e+="",a=r=0;r<n;++r)if(i=e[r],i==="\\")c+=e.substring(a,r++),a=r;else if(i===o)f(),o=null,u=-1;else{if(o)continue;a===u&&i==='"'||a===u&&i==="'"?(a=r+1,o=i):i!=="."||u?i==="["?(r>a&&f(),u=a=r+1):i==="]"&&(u||F("Access path missing open bracket: "+e),u>0&&f(),u=0,a=r+1):r>a?f():a=r+1}return u&&F("Access path missing closing bracket: "+e),o&&F("Access path missing closing quote: "+e),r>a&&(r++,f()),t}function W(e,t,n){let a=j(e);return e=a.length===1?a[0]:e,b((n&&n.get||I)(a),[e],t||e)}let V=W("id"),Q=b(e=>e,[],"identity"),ae=b(()=>0,[],"zero"),pe=b(()=>1,[],"one"),Z=b(()=>!0,[],"true"),te=b(()=>!1,[],"false");function ue(e,t,n){let a=[t].concat([].slice.call(n));console[e].apply(console,a)}let he=0,me=1,Re=2,Ne=3,Le=4;function ze(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue,a=e||he;return{level(r){return arguments.length?(a=+r,this):a},error(){return a>=me&&n(t||"error","ERROR",arguments),this},warn(){return a>=Re&&n(t||"warn","WARN",arguments),this},info(){return a>=Ne&&n(t||"log","INFO",arguments),this},debug(){return a>=Le&&n(t||"log","DEBUG",arguments),this}}}var Ee=Array.isArray;function ye(e){return e===Object(e)}let be=e=>e!=="__proto__";function Se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((a,r)=>{for(let i in r)if(i==="signals")a.signals=We(a.signals,r.signals);else{let o=i==="legend"?{layout:1}:i==="style"||null;ke(a,i,r[i],o)}return a},{})}function ke(e,t,n,a){if(!be(t))return;let r,i;if(ye(n)&&!Ee(n))for(r in i=ye(e[t])?e[t]:e[t]={},n)a&&(a===!0||a[r])?ke(i,r,n[r]):be(r)&&(i[r]=n[r]);else e[t]=n}function We(e,t){if(e==null)return t;let n={},a=[];function r(i){n[i.name]||(n[i.name]=1,a.push(i))}return t.forEach(r),e.forEach(r),a}function Pe(e){return e[e.length-1]}function De(e){return e==null||e===""?null:+e}let lt=e=>t=>e*Math.exp(t),gt=e=>t=>Math.log(e*t),kt=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),an=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,cn=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Gt(e,t,n,a){let r=n(e[0]),i=n(Pe(e)),o=(i-r)*t;return[a(r-o),a(i-o)]}function _t(e,t){return Gt(e,t,De,Q)}function St(e,t){var n=Math.sign(e[0]);return Gt(e,t,gt(n),lt(n))}function Kt(e,t,n){return Gt(e,t,cn(n),cn(1/n))}function Ve(e,t,n){return Gt(e,t,kt(n),an(n))}function Ze(e,t,n,a,r){let i=a(e[0]),o=a(Pe(e)),u=t!=null?a(t):(i+o)/2;return[r(u+(i-u)*n),r(u+(o-u)*n)]}function Xt(e,t,n){return Ze(e,t,n,De,Q)}function yt(e,t,n){let a=Math.sign(e[0]);return Ze(e,t,n,gt(a),lt(a))}function Zt(e,t,n,a){return Ze(e,t,n,cn(a),cn(1/a))}function Dt(e,t,n,a){return Ze(e,t,n,kt(a),an(a))}function At(e){return 1+~~(new Date(e).getMonth()/3)}function ft(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ce(e){return e!=null?Ee(e)?e:[e]:[]}function Ye(e,t,n){let a,r=e[0],i=e[1];return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function Je(e){return typeof e=="function"}let Yr="descending";function Ml(e,t,n){n=n||{},t=Ce(t)||[];let a=[],r=[],i={},o=n.comparator||Pn;return Ce(e).forEach((u,c)=>{u!=null&&(a.push(t[c]===Yr?-1:1),r.push(u=Je(u)?u:W(u,null,n)),(T(u)||[]).forEach(f=>i[f]=1))}),r.length===0?null:b(o(r,a),Object.keys(i))}let Jt=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),Pn=(e,t)=>e.length===1?Kr(e[0],t[0]):Ei(e,t,e.length),Kr=(e,t)=>function(n,a){return Jt(e(n),e(a))*t},Ei=(e,t,n)=>(t.push(0),function(a,r){let i,o=0,u=-1;for(;o===0&&++u<n;)i=e[u],o=Jt(i(a),i(r));return o*t[u]});function dn(e){return Je(e)?e:()=>e}function Ko(e,t){let n;return a=>{n&&clearTimeout(n),n=setTimeout(()=>(t(a),n=null),e)}}function pt(e){for(let t,n,a=1,r=arguments.length;a<r;++a)for(n in t=arguments[a],t)e[n]=t[n];return e}function $n(e,t){let n,a,r,i,o=0;if(e&&(n=e.length))if(t==null){for(a=e[o];o<n&&(a==null||a!=a);a=e[++o]);for(r=i=a;o<n;++o)a=e[o],a!=null&&(a<r&&(r=a),a>i&&(i=a))}else{for(a=t(e[o]);o<n&&(a==null||a!=a);a=t(e[++o]));for(r=i=a;o<n;++o)a=t(e[o]),a!=null&&(a<r&&(r=a),a>i&&(i=a))}return[r,i]}function nr(e,t){let n=e.length,a,r,i,o,u,c=-1;if(t==null){for(;++c<n;)if(r=e[c],r!=null&&r>=r){a=i=r;break}if(c===n)return[-1,-1];for(o=u=c;++c<n;)r=e[c],r!=null&&(a>r&&(a=r,o=c),i<r&&(i=r,u=c))}else{for(;++c<n;)if(r=t(e[c],c,e),r!=null&&r>=r){a=i=r;break}if(c===n)return[-1,-1];for(o=u=c;++c<n;)r=t(e[c],c,e),r!=null&&(a>r&&(a=r,o=c),i<r&&(i=r,u=c))}return[o,u]}let so=Object.prototype.hasOwnProperty;function et(e,t){return so.call(e,t)}let Fa={};function ca(e){let t,n={};function a(i){return et(n,i)&&n[i]!==Fa}let r={size:0,empty:0,object:n,has:a,get:i=>a(i)?n[i]:void 0,set(i,o){return a(i)||(++r.size,n[i]===Fa&&--r.empty),n[i]=o,this},delete(i){return a(i)&&(--r.size,++r.empty,n[i]=Fa),this},clear(){r.size=r.empty=0,r.object=n={}},test(i){return arguments.length?(t=i,r):t},clean(){let i={},o=0;for(let u in n){let c=n[u];c===Fa||t&&t(c)||(i[u]=c,++o)}r.size=o,r.empty=0,r.object=n=i}};return e&&Object.keys(e).forEach(i=>{r.set(i,e[i])}),r}function ar(e,t,n,a,r,i){if(!n&&n!==0)return i;let o=+n,u,c=e[0],f=Pe(e);f<c&&(u=c,c=f,f=u),u=Math.abs(t-c);let m=Math.abs(f-t);return u<m&&u<=o?a:m<=o?r:i}function Me(e,t,n){let a=e.prototype=Object.create(t.prototype);return Object.defineProperty(a,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),pt(a,n)}function _a(e,t,n,a){let r,i=t[0],o=t[t.length-1];return i>o&&(r=i,i=o,o=r),a=a===void 0||a,((n=n===void 0||n)?i<=e:i<e)&&(a?e<=o:e<o)}function Xr(e){return typeof e=="boolean"}function En(e){return Object.prototype.toString.call(e)==="[object Date]"}function wi(e){return e&&Je(e[Symbol.iterator])}function Pa(e){return typeof e=="number"}function _i(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Mt(e){return typeof e=="string"}function ki(e,t,n){e&&(e=t?Ce(e).map(u=>u.replace(/\\(.)/g,"$1")):Ce(e));let a=e&&e.length,r=n&&n.get||I,i=u=>r(t?[u]:j(u)),o;if(a)if(a===1){let u=i(e[0]);o=function(c){return""+u(c)}}else{let u=e.map(i);o=function(c){let f=""+u[0](c),m=0;for(;++m<a;)f+="|"+u[m](c);return f}}else o=function(){return""};return b(o,e,"key")}function lo(e,t){let n=e[0],a=Pe(e),r=+t;return r?r===1?a:n+r*(a-n):n}let Xo=1e4;function Ll(e){let t,n,a;e=+e||Xo;let r=()=>{t={},n={},a=0},i=(o,u)=>(++a>e&&(n=t,t={},a=1),t[o]=u);return r(),{clear:r,has:o=>et(t,o)||et(n,o),get:o=>et(t,o)?t[o]:et(n,o)?i(o,n[o]):void 0,set:(o,u)=>et(t,o)?t[o]=u:i(o,u)}}function Fs(e,t,n,a){let r=t.length,i=n.length;if(!i)return t;if(!r)return n;let o=a||new t.constructor(r+i),u=0,c=0,f=0;for(;u<r&&c<i;++f)o[f]=e(t[u],n[c])>0?n[c++]:t[u++];for(;u<r;++u,++f)o[f]=t[u];for(;c<i;++c,++f)o[f]=n[c];return o}function uo(e,t){let n="";for(;--t>=0;)n+=e;return n}function Vu(e,t,n,a){let r=n||" ",i=e+"",o=t-i.length;return o<=0?i:a==="left"?uo(r,o)+i:a==="center"?uo(r,~~(o/2))+i+uo(r,Math.ceil(o/2)):i+uo(r,o)}function Zr(e){return e&&Pe(e)-e[0]||0}function it(e){return Ee(e)?"["+e.map(it)+"]":ye(e)||Mt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Fl(e){return e==null||e===""?null:!(!e||e==="false"||e==="0")&&!!e}let Id=e=>Pa(e)||En(e)?e:Date.parse(e);function Od(e,t){return t=t||Id,e==null||e===""?null:t(e)}function Dd(e){return e==null||e===""?null:e+""}function rr(e){let t={},n=e.length;for(let a=0;a<n;++a)t[e[a]]=!0;return t}function ph(e,t,n,a){let r=a??"\u2026",i=e+"",o=i.length,u=Math.max(0,t-r.length);return o<=t?i:n==="left"?r+i.slice(o-u):n==="center"?i.slice(0,Math.ceil(u/2))+r+i.slice(o-~~(u/2)):i.slice(0,u)+r}function Zo(e,t,n){if(e)if(t){let a=e.length;for(let r=0;r<a;++r){let i=t(e[r]);i&&n(i,r,e)}}else e.forEach(n)}var l0={},Yu={},Jo=34,Pl=10,$a=13;function Md(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function u0(e){var t=Object.create(null),n=[];return e.forEach(function(a){for(var r in a)r in t||n.push(t[r]=r)}),n}function ir(e,t){var n=e+"",a=n.length;return a<t?new Array(t-a+1).join(0)+n:n}function kA(e){var t,n=e.getUTCHours(),a=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+ir(-t,6):t>9999?"+"+ir(t,6):ir(t,4))+"-"+ir(e.getUTCMonth()+1,2)+"-"+ir(e.getUTCDate(),2)+(i?"T"+ir(n,2)+":"+ir(a,2)+":"+ir(r,2)+"."+ir(i,3)+"Z":r?"T"+ir(n,2)+":"+ir(a,2)+":"+ir(r,2)+"Z":a||n?"T"+ir(n,2)+":"+ir(a,2)+"Z":"")}function xA(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function a(u,c){var f,m=[],g=u.length,v=0,E=0,k=g<=0,_=!1;function R(){if(k)return Yu;if(_)return _=!1,l0;var N,$,M=v;if(u.charCodeAt(M)===Jo){for(;v++<g&&u.charCodeAt(v)!==Jo||u.charCodeAt(++v)===Jo;);return(N=v)>=g?k=!0:($=u.charCodeAt(v++))===Pl?_=!0:$===$a&&(_=!0,u.charCodeAt(v)===Pl&&++v),u.slice(M+1,N-1).replace(/""/g,'"')}for(;v<g;){if(($=u.charCodeAt(N=v++))===Pl)_=!0;else if($===$a)_=!0,u.charCodeAt(v)===Pl&&++v;else if($!==n)continue;return u.slice(M,N)}return k=!0,u.slice(M,g)}for(u.charCodeAt(g-1)===Pl&&--g,u.charCodeAt(g-1)===$a&&--g;(f=R())!==Yu;){for(var O=[];f!==l0&&f!==Yu;)O.push(f),f=R();c&&(O=c(O,E++))==null||m.push(O)}return m}function r(u,c){return u.map(function(f){return c.map(function(m){return o(f[m])}).join(e)})}function i(u){return u.map(o).join(e)}function o(u){return u==null?"":u instanceof Date?kA(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:function(u,c){var f,m,g=a(u,function(v,E){if(f)return f(v,E-1);m=v,f=c?function(k,_){var R=Md(k);return function(O,N){return _(R(O),N,k)}}(v,c):Md(v)});return g.columns=m||[],g},parseRows:a,format:function(u,c){return c==null&&(c=u0(u)),[c.map(o).join(e)].concat(r(u,c)).join(`
`)},formatBody:function(u,c){return c==null&&(c=u0(u)),r(u,c).join(`
`)},formatRows:function(u){return u.map(i).join(`
`)},formatRow:i,formatValue:o}}function n_(e){return e}function SA(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return a_(e,n)})}:a_(e,t)}function a_(e,t){var n=t.id,a=t.bbox,r=t.properties==null?{}:t.properties,i=r_(e,t);return n==null&&a==null?{type:"Feature",properties:r,geometry:i}:a==null?{type:"Feature",id:n,properties:r,geometry:i}:{type:"Feature",id:n,bbox:a,properties:r,geometry:i}}function r_(e,t){var n=function(f){if(f==null)return n_;var m,g,v=f.scale[0],E=f.scale[1],k=f.translate[0],_=f.translate[1];return function(R,O){O||(m=g=0);var N=2,$=R.length,M=new Array($);for(M[0]=(m+=R[0])*v+k,M[1]=(g+=R[1])*E+_;N<$;)M[N]=R[N],++N;return M}}(e.transform),a=e.arcs;function r(f,m){m.length&&m.pop();for(var g=a[f<0?~f:f],v=0,E=g.length;v<E;++v)m.push(n(g[v],v));f<0&&function(k,_){for(var R,O=k.length,N=O-_;N<--O;)R=k[N],k[N++]=k[O],k[O]=R}(m,E)}function i(f){return n(f)}function o(f){for(var m=[],g=0,v=f.length;g<v;++g)r(f[g],m);return m.length<2&&m.push(m[0]),m}function u(f){for(var m=o(f);m.length<4;)m.push(m[0]);return m}function c(f){return f.map(u)}return function f(m){var g,v=m.type;switch(v){case"GeometryCollection":return{type:v,geometries:m.geometries.map(f)};case"Point":g=i(m.coordinates);break;case"MultiPoint":g=m.coordinates.map(i);break;case"LineString":g=o(m.arcs);break;case"MultiLineString":g=m.arcs.map(o);break;case"Polygon":g=c(m.arcs);break;case"MultiPolygon":g=m.arcs.map(c);break;default:return null}return{type:v,coordinates:g}}(t)}function i_(e,t){var n={},a={},r={},i=[],o=-1;function u(c,f){for(var m in c){var g=c[m];delete f[g.start],delete g.start,delete g.end,g.forEach(function(v){n[v<0?~v:v]=1}),i.push(g)}}return t.forEach(function(c,f){var m,g=e.arcs[c<0?~c:c];g.length<3&&!g[1][0]&&!g[1][1]&&(m=t[++o],t[o]=c,t[f]=m)}),t.forEach(function(c){var f,m,g=function(R){var O,N=e.arcs[R<0?~R:R],$=N[0];return e.transform?(O=[0,0],N.forEach(function(M){O[0]+=M[0],O[1]+=M[1]})):O=N[N.length-1],R<0?[O,$]:[$,O]}(c),v=g[0],E=g[1];if(f=r[v])if(delete r[f.end],f.push(c),f.end=E,m=a[E]){delete a[m.start];var k=m===f?f:f.concat(m);a[k.start=f.start]=r[k.end=m.end]=k}else a[f.start]=r[f.end]=f;else if(f=a[E])if(delete a[f.start],f.unshift(c),f.start=v,m=r[v]){delete r[m.end];var _=m===f?f:m.concat(f);a[_.start=m.start]=r[_.end=f.end]=_}else a[f.start]=r[f.end]=f;else a[(f=[c]).start=v]=r[f.end=E]=f}),u(r,a),u(a,r),t.forEach(function(c){n[c<0?~c:c]||i.push([c])}),i}function c0(e){return r_(e,o_.apply(this,arguments))}function o_(e,t,n){var a,r,i;if(arguments.length>1)a=function(o,u,c){var f,m=[],g=[];function v(O){var N=O<0?~O:O;(g[N]||(g[N]=[])).push({i:O,g:f})}function E(O){O.forEach(v)}function k(O){O.forEach(E)}function _(O){O.forEach(k)}function R(O){switch(f=O,O.type){case"GeometryCollection":O.geometries.forEach(R);break;case"LineString":E(O.arcs);break;case"MultiLineString":case"Polygon":k(O.arcs);break;case"MultiPolygon":_(O.arcs)}}return R(u),g.forEach(c==null?function(O){m.push(O[0].i)}:function(O){c(O[0].g,O[O.length-1].g)&&m.push(O[0].i)}),m}(0,t,n);else for(r=0,a=new Array(i=e.arcs.length);r<i;++r)a[r]=r;return{type:"MultiLineString",arcs:i_(e,a)}}function xi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ps(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function or(e){let t,n,a;function r(i,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.length;if(u<c){if(t(o,o)!==0)return c;do{let f=u+c>>>1;n(i[f],o)<0?u=f+1:c=f}while(u<c)}return u}return e.length!==2?(t=xi,n=(i,o)=>xi(e(i),o),a=(i,o)=>e(i)-o):(t=e===xi||e===Ps?e:Si,n=e,a=e),{left:r,center:function(i,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=r(i,o,u,(arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.length)-1);return c>u&&a(i[c-1],o)>-a(i[c],o)?c-1:c},right:function(i,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.length;if(u<c){if(t(o,o)!==0)return c;do{let f=u+c>>>1;n(i[f],o)<=0?u=f+1:c=f}while(u<c)}return u}}}function Si(){return 0}function ka(e){return e===null?NaN:+e}let hh=or(xi),$l=hh.right,s_=hh.left;or(ka).center;var Ku=$l;class Ba{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,a=0;for(let r=0;r<this._n&&r<32;r++){let i=n[r],o=t+i,u=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);u&&(n[a++]=u),t=o}return n[a]=t,this._n=a+1,this}valueOf(){let t=this._partials,n,a,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,a=t[--i],o=n+a,r=a-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(a=2*r,n=o+a,a==n-o&&(o=n))}return o}}class l_ extends Map{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[a,r]of t)this.set(a,r)}get(t){return super.get(d0(this,t))}has(t){return super.has(d0(this,t))}set(t,n){return super.set(u_(this,t),n)}delete(t){return super.delete(c_(this,t))}}class mh extends Set{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let a of t)this.add(a)}has(t){return super.has(d0(this,t))}add(t){return super.add(u_(this,t))}delete(t){return super.delete(c_(this,t))}}function d0(e,t){let{_intern:n,_key:a}=e,r=a(t);return n.has(r)?n.get(r):t}function u_(e,t){let{_intern:n,_key:a}=e,r=a(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function c_(e,t){let{_intern:n,_key:a}=e,r=a(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function d_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}let AA=Math.sqrt(50),TA=Math.sqrt(10),CA=Math.sqrt(2);function gh(e,t,n){let a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),i=a/Math.pow(10,r),o=i>=AA?10:i>=TA?5:i>=CA?2:1,u,c,f;return r<0?(f=Math.pow(10,-r)/o,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,r)*o,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?gh(e,t,2*n):[u,c,f]}function f0(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];let a=t<e,[r,i,o]=a?gh(t,e,n):gh(e,t,n);if(!(i>=r))return[];let u=i-r+1,c=new Array(u);if(a)if(o<0)for(let f=0;f<u;++f)c[f]=(i-f)/-o;else for(let f=0;f<u;++f)c[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)c[f]=(r+f)/-o;else for(let f=0;f<u;++f)c[f]=(r+f)*o;return c}function p0(e,t,n){return gh(e=+e,t=+t,n=+n)[2]}function Ai(e,t,n){n=+n;let a=(t=+t)<(e=+e),r=a?p0(t,e,n):p0(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}function $s(e,t){let n;if(t===void 0)for(let a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);else{let a=-1;for(let r of e)(r=t(r,++a,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Xu(e,t){let n;if(t===void 0)for(let a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);else{let a=-1;for(let r of e)(r=t(r,++a,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Jr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,r=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(r=r===void 0?f_:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xi;if(i===xi)return f_;if(typeof i!="function")throw new TypeError("compare is not a function");return(o,u)=>{let c=i(o,u);return c||c===0?c:(i(u,u)===0)-(i(o,o)===0)}}(r);a>n;){if(a-n>600){let c=a-n+1,f=t-n+1,m=Math.log(c),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(c-g)/c)*(f-c/2<0?-1:1);Jr(e,t,Math.max(n,Math.floor(t-f*g/c+v)),Math.min(a,Math.floor(t+(c-f)*g/c+v)),r)}let i=e[t],o=n,u=a;for(sn(e,n,t),r(e[a],i)>0&&sn(e,n,a);o<u;){for(sn(e,o,u),++o,--u;r(e[o],i)<0;)++o;for(;r(e[u],i)>0;)--u}r(e[n],i)===0?sn(e,n,u):(++u,sn(e,u,a)),u<=t&&(n=u+1),t<=u&&(a=u-1)}return e}function sn(e,t,n){let a=e[t];e[t]=e[n],e[n]=a}function Zu(e,t,n){if(e=Float64Array.from(function*(u,c){if(c===void 0)for(let f of u)f!=null&&(f=+f)>=f&&(yield f);else{let f=-1;for(let m of u)(m=c(m,++f,u))!=null&&(m=+m)>=m&&(yield m)}}(e,n)),(a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return Xu(e);if(t>=1)return $s(e);var a,r=(a-1)*t,i=Math.floor(r),o=$s(Jr(e,i).subarray(0,i+1));return o+(Xu(e.subarray(i+1))-o)*(r-i)}}function h0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ka;if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,r=(a-1)*t,i=Math.floor(r),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(r-i)}}function Ju(e,t){return Zu(e,.5,t)}function bh(e){return Array.from(function*(t){for(let n of t)yield*n}(e))}function Zn(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(r);++a<r;)i[a]=e+a*n;return i}function p_(e,t){let n=0;if(t===void 0)for(let a of e)(a=+a)&&(n+=a);else{let a=-1;for(let r of e)(r=+t(r,++a,e))&&(n+=r)}return n}function RA(e){return e instanceof mh?e:new mh(e)}function yh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Qu(e){return(e=yh(Math.abs(e)))?e[1]:NaN}var h_,NA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(e){if(!(t=NA.exec(e)))throw new Error("invalid format: "+e);var t;return new m0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function m0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}function vh(e,t){var n=yh(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}Bl.prototype=m0.prototype,m0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var g0={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vh(100*e,t),r:vh,s:function(e,t){var n=yh(e,t);if(!n)return e+"";var a=n[0],r=n[1],i=r-(h_=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+yh(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Eh(e){return e}var Ul,Rr,wh,_h=Array.prototype.map,m_=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function b0(e){var t,n,a=e.grouping===void 0||e.thousands===void 0?Eh:(t=_h.call(e.grouping,Number),n=e.thousands+"",function(v,E){for(var k=v.length,_=[],R=0,O=t[0],N=0;k>0&&O>0&&(N+O+1>E&&(O=Math.max(1,E-N)),_.push(v.substring(k-=O,k+O)),!((N+=O+1)>E));)O=t[R=(R+1)%t.length];return _.reverse().join(n)}),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?Eh:function(v){return function(E){return E.replace(/[0-9]/g,function(k){return v[+k]})}}(_h.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(v){var E=(v=Bl(v)).fill,k=v.align,_=v.sign,R=v.symbol,O=v.zero,N=v.width,$=v.comma,M=v.precision,U=v.trim,z=v.type;z==="n"?($=!0,z="g"):g0[z]||(M===void 0&&(M=12),U=!0,z="g"),(O||E==="0"&&k==="=")&&(O=!0,E="0",k="=");var q=R==="$"?r:R==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",Y=R==="$"?i:/[%p]/.test(z)?c:"",K=g0[z],ne=/[defgprs%]/.test(z);function X(ie){var oe,le,ce,ve=q,_e=Y;if(z==="c")_e=K(ie)+_e,ie="";else{var Ie=(ie=+ie)<0||1/ie<0;if(ie=isNaN(ie)?m:K(Math.abs(ie),M),U&&(ie=function(Oe){e:for(var ot,st=Oe.length,mt=1,Ct=-1;mt<st;++mt)switch(Oe[mt]){case".":Ct=ot=mt;break;case"0":Ct===0&&(Ct=mt),ot=mt;break;default:if(!+Oe[mt])break e;Ct>0&&(Ct=0)}return Ct>0?Oe.slice(0,Ct)+Oe.slice(ot+1):Oe}(ie)),Ie&&+ie==0&&_!=="+"&&(Ie=!1),ve=(Ie?_==="("?_:f:_==="-"||_==="("?"":_)+ve,_e=(z==="s"?m_[8+h_/3]:"")+_e+(Ie&&_==="("?")":""),ne){for(oe=-1,le=ie.length;++oe<le;)if(48>(ce=ie.charCodeAt(oe))||ce>57){_e=(ce===46?o+ie.slice(oe+1):ie.slice(oe))+_e,ie=ie.slice(0,oe);break}}}$&&!O&&(ie=a(ie,1/0));var Be=ve.length+ie.length+_e.length,je=Be<N?new Array(N-Be+1).join(E):"";switch($&&O&&(ie=a(je+ie,je.length?N-_e.length:1/0),je=""),k){case"<":ie=ve+ie+_e+je;break;case"=":ie=ve+je+ie+_e;break;case"^":ie=je.slice(0,Be=je.length>>1)+ve+ie+_e+je.slice(Be);break;default:ie=je+ve+ie+_e}return u(ie)}return M=M===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),X.toString=function(){return v+""},X}return{format:g,formatPrefix:function(v,E){var k=g(((v=Bl(v)).type="f",v)),_=3*Math.max(-8,Math.min(8,Math.floor(Qu(E)/3))),R=Math.pow(10,-_),O=m_[8+_/3];return function(N){return k(R*N)+O}}}}function Ld(e){return Math.max(0,-Qu(Math.abs(e)))}function y0(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qu(t)/3)))-Qu(Math.abs(e)))}function v0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qu(t)-Qu(e))+1}(function(e){Ul=b0(e),Rr=Ul.format,wh=Ul.formatPrefix})({thousands:",",grouping:[3],currency:["$",""]});let Qr=new Date,Ti=new Date;function wn(e,t,n,a){function r(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return r.floor=i=>(e(i=new Date(+i)),i),r.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),r.round=i=>{let o=r(i),u=r.ceil(i);return i-o<u-i?o:u},r.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),r.range=(i,o,u)=>{let c=[];if(i=r.ceil(i),u=u==null?1:Math.floor(u),!(i<o&&u>0))return c;let f;do c.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<o);return c},r.filter=i=>wn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!i(o););else for(;--u>=0;)for(;t(o,1),!i(o););}),n&&(r.count=(i,o)=>(Qr.setTime(+i),Ti.setTime(+o),e(Qr),e(Ti),Math.floor(n(Qr,Ti))),r.every=i=>(i=Math.floor(i),isFinite(i)&&i>0?i>1?r.filter(a?o=>a(o)%i==0:o=>r.count(0,o)%i==0):r:null)),r}let zl=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zl.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zl:null),zl.range;let Ci=1e3,Nr=60*Ci,co=60*Nr,Ri=24*co,Wt=7*Ri,Bn=30*Ri,fo=365*Ri,Ir=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCSeconds());Ir.range;let ec=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());ec.range;let Qo=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());Qo.range;let Jn=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getHours());Jn.range;let tc=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCHours());tc.range;let da=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Ri,e=>e.getDate()-1);da.range;let Ke=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);Ke.range;let po=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));function xa(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Wt)}po.range;let Gl=xa(0),Fd=xa(1),kh=xa(2),E0=xa(3),Un=xa(4),w0=xa(5),rn=xa(6);function es(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Wt)}Gl.range,Fd.range,kh.range,E0.range,Un.range,w0.range,rn.range;let fa=es(0),Pd=es(1),_0=es(2),jt=es(3),Ua=es(4),$d=es(5),k0=es(6);fa.range,Pd.range,_0.range,jt.range,Ua.range,$d.range,k0.range;let jl=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());jl.range;let Hl=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Hl.range;let ei=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>isFinite(e=Math.floor(e))&&e>0?wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,ei.range;let ti=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function nt(e,t,n,a,r,i){let o=[[Ir,1,Ci],[Ir,5,5*Ci],[Ir,15,15*Ci],[Ir,30,30*Ci],[i,1,Nr],[i,5,5*Nr],[i,15,15*Nr],[i,30,30*Nr],[r,1,co],[r,3,3*co],[r,6,6*co],[r,12,12*co],[a,1,Ri],[a,2,2*Ri],[n,1,Wt],[t,1,Bn],[t,3,3*Bn],[e,1,fo]];function u(c,f,m){let g=Math.abs(f-c)/m,v=or(_=>{let[,,R]=_;return R}).right(o,g);if(v===o.length)return e.every(Ai(c/fo,f/fo,m));if(v===0)return zl.every(Math.max(Ai(c,f,m),1));let[E,k]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return E.every(k)}return[function(c,f,m){let g=f<c;g&&([c,f]=[f,c]);let v=m&&typeof m.range=="function"?m:u(c,f,m),E=v?v.range(c,+f+1):[];return g?E.reverse():E},u]}ti.every=e=>isFinite(e=Math.floor(e))&&e>0?wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,ti.range;let[x0,S0]=nt(ti,Hl,fa,po,tc,Qo),[g_,xh]=nt(ei,jl,Gl,da,Jn,ec),Qn="year",Sa="quarter",ea="month",An="week",pa="date",ta="day",Ni="dayofyear",za="hours",sr="minutes",lr="seconds",Or="milliseconds",Bd=[Qn,Sa,ea,An,pa,ta,Ni,za,sr,lr,Or],Sh=Bd.reduce((e,t,n)=>(e[t]=1+n,e),{});function Ud(e){let t=Ce(e).slice(),n={};return t.length||F("Missing time unit."),t.forEach(a=>{et(Sh,a)?n[a]=1:F(`Invalid time unit: ${a}.`)}),(n[An]||n[ta]?1:0)+(n[Sa]||n[ea]||n[pa]?1:0)+(n[Ni]?1:0)>1&&F(`Incompatible time units: ${e}`),t.sort((a,r)=>Sh[a]-Sh[r]),t}let A0={[Qn]:"%Y ",[Sa]:"Q%q ",[ea]:"%b ",[pa]:"%d ",[An]:"W%U ",[ta]:"%a ",[Ni]:"%j ",[za]:"%H:00",[sr]:"00:%M",[lr]:":%S",[Or]:".%L",[`${Qn}-${ea}`]:"%Y-%m ",[`${Qn}-${ea}-${pa}`]:"%Y-%m-%d ",[`${za}-${sr}`]:"%H:%M"};function zd(e,t){let n=pt({},A0,t),a=Ud(e),r=a.length,i,o,u="",c=0;for(c=0;c<r;)for(i=a.length;i>c;--i)if(o=a.slice(c,i).join("-"),n[o]!=null){u+=n[o],c=i;break}return u.trim()}let Ii=new Date;function Ah(e){return Ii.setFullYear(e),Ii.setMonth(0),Ii.setDate(1),Ii.setHours(0,0,0,0),Ii}function T0(e){return C0(new Date(e))}function Gd(e){return Th(new Date(e))}function C0(e){return da.count(Ah(e.getFullYear())-1,e)}function Th(e){return Gl.count(Ah(e.getFullYear())-1,e)}function Ch(e){return Ah(e).getDay()}function R0(e,t,n,a,r,i,o){if(0<=e&&e<100){let u=new Date(-1,t,n,a,r,i,o);return u.setFullYear(e),u}return new Date(e,t,n,a,r,i,o)}function Rh(e){return nc(new Date(e))}function Nh(e){return jd(new Date(e))}function nc(e){let t=Date.UTC(e.getUTCFullYear(),0,1);return Ke.count(t-1,e)}function jd(e){let t=Date.UTC(e.getUTCFullYear(),0,1);return fa.count(t-1,e)}function Hd(e){return Ii.setTime(Date.UTC(e,0,1)),Ii.getUTCDay()}function N0(e,t,n,a,r,i,o){if(0<=e&&e<100){let u=new Date(Date.UTC(-1,t,n,a,r,i,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,a,r,i,o))}function ac(e,t,n,a,r){let i=t||1,o=Pe(e),u=(O,N,$)=>function(M,U,z,q){let Y=z<=1?M:q?(K,ne)=>q+z*Math.floor((M(K,ne)-q)/z):(K,ne)=>z*Math.floor(M(K,ne)/z);return U?(K,ne)=>U(Y(K,ne),ne):Y}(n[$=$||O],a[$],O===o&&i,N),c=new Date,f=rr(e),m=f[Qn]?u(Qn):dn(2012),g=f[ea]?u(ea):f[Sa]?u(Sa):ae,v=f[An]&&f[ta]?u(ta,1,An+ta):f[An]?u(An,1):f[ta]?u(ta,1):f[pa]?u(pa,1):f[Ni]?u(Ni,1):pe,E=f[za]?u(za):ae,k=f[sr]?u(sr):ae,_=f[lr]?u(lr):ae,R=f[Or]?u(Or):ae;return function(O){c.setTime(+O);let N=m(c);return r(N,g(c),v(c,N),E(c),k(c),_(c),R(c))}}function $e(e,t,n){return t+7*e-(n+6)%7}let Bs={[Qn]:e=>e.getFullYear(),[Sa]:e=>Math.floor(e.getMonth()/3),[ea]:e=>e.getMonth(),[pa]:e=>e.getDate(),[za]:e=>e.getHours(),[sr]:e=>e.getMinutes(),[lr]:e=>e.getSeconds(),[Or]:e=>e.getMilliseconds(),[Ni]:e=>C0(e),[An]:e=>Th(e),[An+ta]:(e,t)=>$e(Th(e),e.getDay(),Ch(t)),[ta]:(e,t)=>$e(1,e.getDay(),Ch(t))},I0={[Sa]:e=>3*e,[An]:(e,t)=>$e(e,0,Ch(t))};function O0(e,t){return ac(e,t||1,Bs,I0,R0)}let D0={[Qn]:e=>e.getUTCFullYear(),[Sa]:e=>Math.floor(e.getUTCMonth()/3),[ea]:e=>e.getUTCMonth(),[pa]:e=>e.getUTCDate(),[za]:e=>e.getUTCHours(),[sr]:e=>e.getUTCMinutes(),[lr]:e=>e.getUTCSeconds(),[Or]:e=>e.getUTCMilliseconds(),[Ni]:e=>nc(e),[An]:e=>jd(e),[ta]:(e,t)=>$e(1,e.getUTCDay(),Hd(t)),[An+ta]:(e,t)=>$e(jd(e),e.getUTCDay(),Hd(t))},b_={[Sa]:e=>3*e,[An]:(e,t)=>$e(e,0,Hd(t))};function qd(e,t){return ac(e,t||1,D0,b_,N0)}let Us={[Qn]:ei,[Sa]:jl.every(3),[ea]:jl,[An]:Gl,[pa]:da,[ta]:da,[Ni]:da,[za]:Jn,[sr]:ec,[lr]:Ir,[Or]:zl},M0={[Qn]:ti,[Sa]:Hl.every(3),[ea]:Hl,[An]:fa,[pa]:Ke,[ta]:Ke,[Ni]:Ke,[za]:tc,[sr]:Qo,[lr]:Ir,[Or]:zl};function ts(e){return Us[e]}function Dr(e){return M0[e]}function Ih(e,t,n){return e?e.offset(t,n):void 0}function Wd(e,t,n){return Ih(ts(e),t,n)}function L0(e,t,n){return Ih(Dr(e),t,n)}function rc(e,t,n,a){return e?e.range(t,n,a):void 0}function Oh(e,t,n,a){return rc(ts(e),t,n,a)}function Dh(e,t,n,a){return rc(Dr(e),t,n,a)}let y_=1e3,F0=6e4,zn=36e5,P0=864e5,v_=2592e6,Vd=31536e6,Yd=[Qn,ea,pa,za,sr,lr,Or],zs=Yd.slice(0,-1),Gs=zs.slice(0,-1),js=Gs.slice(0,-1),Mh=js.slice(0,-1),Kd=[Qn,ea],Xd=[Qn],ql=[[zs,1,y_],[zs,5,5e3],[zs,15,15e3],[zs,30,3e4],[Gs,1,F0],[Gs,5,3e5],[Gs,15,9e5],[Gs,30,18e5],[js,1,zn],[js,3,108e5],[js,6,216e5],[js,12,432e5],[Mh,1,P0],[[Qn,An],1,6048e5],[Kd,1,v_],[Kd,3,7776e6],[Xd,1,Vd]];function ni(e){let t=e.extent,n=e.maxbins||40,a=Math.abs(Zr(t))/n,r,i,o=or(u=>u[2]).right(ql,a);return o===ql.length?(r=Xd,i=Ai(t[0]/Vd,t[1]/Vd,n)):o?(o=ql[a/ql[o-1][2]<ql[o][2]/a?o-1:o],r=o[0],i=o[1]):(r=Yd,i=Math.max(Ai(t[0],t[1],n),1)),{units:r,step:i}}function Zd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ic(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $0(e){var t=e.dateTime,n=e.date,a=e.time,r=e.periods,i=e.days,o=e.shortDays,u=e.months,c=e.shortMonths,f=Vl(r),m=Yl(r),g=Vl(i),v=Yl(i),E=Vl(o),k=Yl(o),_=Vl(u),R=Yl(u),O=Vl(c),N=Yl(c),$={a:function(K){return o[K.getDay()]},A:function(K){return i[K.getDay()]},b:function(K){return c[K.getMonth()]},B:function(K){return u[K.getMonth()]},c:null,d:Ph,e:Ph,f:nf,g:N_,G:I_,H:ef,I:tf,j:T_,L:sc,m:C_,M:af,p:function(K){return r[+(K.getHours()>=12)]},q:function(K){return 1+~~(K.getMonth()/3)},Q:qh,s:Wh,S:H0,u:$h,U:R_,V:Bh,w:q0,W:as,x:null,X:null,y:lc,Y:Oi,Z:W0,"%":sf},M={a:function(K){return o[K.getUTCDay()]},A:function(K){return i[K.getUTCDay()]},b:function(K){return c[K.getUTCMonth()]},B:function(K){return u[K.getUTCMonth()]},c:null,d:Uh,e:Uh,f:zh,g:K0,G:X0,H:qs,I:O_,j:D_,L:V0,m:M_,M:Gh,p:function(K){return r[+(K.getUTCHours()>=12)]},q:function(K){return 1+~~(K.getUTCMonth()/3)},Q:qh,s:Wh,S:Ws,u:of,U:jh,V:Vs,w:Y0,W:L_,x:null,X:null,y:Hh,Y:ai,Z:Z0,"%":sf},U={a:function(K,ne,X){var ie=E.exec(ne.slice(X));return ie?(K.w=k.get(ie[0].toLowerCase()),X+ie[0].length):-1},A:function(K,ne,X){var ie=g.exec(ne.slice(X));return ie?(K.w=v.get(ie[0].toLowerCase()),X+ie[0].length):-1},b:function(K,ne,X){var ie=O.exec(ne.slice(X));return ie?(K.m=N.get(ie[0].toLowerCase()),X+ie[0].length):-1},B:function(K,ne,X){var ie=_.exec(ne.slice(X));return ie?(K.m=R.get(ie[0].toLowerCase()),X+ie[0].length):-1},c:function(K,ne,X){return Y(K,t,ne,X)},d:k_,e:k_,f:A_,g:Mr,G:Ga,H:x_,I:x_,j:OA,L:S_,m:IA,M:DA,p:function(K,ne,X){var ie=f.exec(ne.slice(X));return ie?(K.p=m.get(ie[0].toLowerCase()),X+ie[0].length):-1},q:G0,Q:j0,s:Aa,S:MA,u:z0,U:w_,V:__,w:U0,W:Gn,x:function(K,ne,X){return Y(K,n,ne,X)},X:function(K,ne,X){return Y(K,a,ne,X)},y:Mr,Y:Ga,Z:Kl,"%":Fh};function z(K,ne){return function(X){var ie,oe,le,ce=[],ve=-1,_e=0,Ie=K.length;for(X instanceof Date||(X=new Date(+X));++ve<Ie;)K.charCodeAt(ve)===37&&(ce.push(K.slice(_e,ve)),(oe=Hs[ie=K.charAt(++ve)])!=null?ie=K.charAt(++ve):oe=ie==="e"?" ":"0",(le=ne[ie])&&(ie=le(X,oe)),ce.push(ie),_e=ve+1);return ce.push(K.slice(_e,ve)),ce.join("")}}function q(K,ne){return function(X){var ie,oe,le=oc(1900,void 0,1);if(Y(le,K,X+="",0)!=X.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(1e3*le.s+("L"in le?le.L:0));if(ne&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+12*le.p),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(oe=(ie=ic(oc(le.y,0,1))).getUTCDay(),ie=oe>4||oe===0?Pd.ceil(ie):Pd(ie),ie=Ke.offset(ie,7*(le.V-1)),le.y=ie.getUTCFullYear(),le.m=ie.getUTCMonth(),le.d=ie.getUTCDate()+(le.w+6)%7):(oe=(ie=Zd(oc(le.y,0,1))).getDay(),ie=oe>4||oe===0?Fd.ceil(ie):Fd(ie),ie=da.offset(ie,7*(le.V-1)),le.y=ie.getFullYear(),le.m=ie.getMonth(),le.d=ie.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),oe="Z"in le?ic(oc(le.y,0,1)).getUTCDay():Zd(oc(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+7*le.W-(oe+5)%7:le.w+7*le.U-(oe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,ic(le)):Zd(le)}}function Y(K,ne,X,ie){for(var oe,le,ce=0,ve=ne.length,_e=X.length;ce<ve;){if(ie>=_e)return-1;if((oe=ne.charCodeAt(ce++))===37){if(oe=ne.charAt(ce++),!(le=U[oe in Hs?ne.charAt(ce++):oe])||(ie=le(K,X,ie))<0)return-1}else if(oe!=X.charCodeAt(ie++))return-1}return ie}return $.x=z(n,$),$.X=z(a,$),$.c=z(t,$),M.x=z(n,M),M.X=z(a,M),M.c=z(t,M),{format:function(K){var ne=z(K+="",$);return ne.toString=function(){return K},ne},parse:function(K){var ne=q(K+="",!1);return ne.toString=function(){return K},ne},utcFormat:function(K){var ne=z(K+="",M);return ne.toString=function(){return K},ne},utcParse:function(K){var ne=q(K+="",!0);return ne.toString=function(){return K},ne}}}var Wl,ho,Jd,ns,Qd,Hs={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,Lh=/^%/,E_=/[\\^$*+?|[\]().{}]/g;function Lt(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",i=r.length;return a+(i<n?new Array(n-i+1).join(t)+r:r)}function B0(e){return e.replace(E_,"\\$&")}function Vl(e){return new RegExp("^(?:"+e.map(B0).join("|")+")","i")}function Yl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function U0(e,t,n){var a=zt.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function z0(e,t,n){var a=zt.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function w_(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function __(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function Gn(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function Ga(e,t,n){var a=zt.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function Mr(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Kl(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function G0(e,t,n){var a=zt.exec(t.slice(n,n+1));return a?(e.q=3*a[0]-3,n+a[0].length):-1}function IA(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function k_(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function OA(e,t,n){var a=zt.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function x_(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function DA(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function MA(e,t,n){var a=zt.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function S_(e,t,n){var a=zt.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function A_(e,t,n){var a=zt.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function Fh(e,t,n){var a=Lh.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function j0(e,t,n){var a=zt.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function Aa(e,t,n){var a=zt.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function Ph(e,t){return Lt(e.getDate(),t,2)}function ef(e,t){return Lt(e.getHours(),t,2)}function tf(e,t){return Lt(e.getHours()%12||12,t,2)}function T_(e,t){return Lt(1+da.count(ei(e),e),t,3)}function sc(e,t){return Lt(e.getMilliseconds(),t,3)}function nf(e,t){return sc(e,t)+"000"}function C_(e,t){return Lt(e.getMonth()+1,t,2)}function af(e,t){return Lt(e.getMinutes(),t,2)}function H0(e,t){return Lt(e.getSeconds(),t,2)}function $h(e){var t=e.getDay();return t===0?7:t}function R_(e,t){return Lt(Gl.count(ei(e)-1,e),t,2)}function rf(e){var t=e.getDay();return t>=4||t===0?Un(e):Un.ceil(e)}function Bh(e,t){return e=rf(e),Lt(Un.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function q0(e){return e.getDay()}function as(e,t){return Lt(Fd.count(ei(e)-1,e),t,2)}function lc(e,t){return Lt(e.getFullYear()%100,t,2)}function N_(e,t){return Lt((e=rf(e)).getFullYear()%100,t,2)}function Oi(e,t){return Lt(e.getFullYear()%1e4,t,4)}function I_(e,t){var n=e.getDay();return Lt((e=n>=4||n===0?Un(e):Un.ceil(e)).getFullYear()%1e4,t,4)}function W0(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lt(t/60|0,"0",2)+Lt(t%60,"0",2)}function Uh(e,t){return Lt(e.getUTCDate(),t,2)}function qs(e,t){return Lt(e.getUTCHours(),t,2)}function O_(e,t){return Lt(e.getUTCHours()%12||12,t,2)}function D_(e,t){return Lt(1+Ke.count(ti(e),e),t,3)}function V0(e,t){return Lt(e.getUTCMilliseconds(),t,3)}function zh(e,t){return V0(e,t)+"000"}function M_(e,t){return Lt(e.getUTCMonth()+1,t,2)}function Gh(e,t){return Lt(e.getUTCMinutes(),t,2)}function Ws(e,t){return Lt(e.getUTCSeconds(),t,2)}function of(e){var t=e.getUTCDay();return t===0?7:t}function jh(e,t){return Lt(fa.count(ti(e)-1,e),t,2)}function Xl(e){var t=e.getUTCDay();return t>=4||t===0?Ua(e):Ua.ceil(e)}function Vs(e,t){return e=Xl(e),Lt(Ua.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function Y0(e){return e.getUTCDay()}function L_(e,t){return Lt(Pd.count(ti(e)-1,e),t,2)}function Hh(e,t){return Lt(e.getUTCFullYear()%100,t,2)}function K0(e,t){return Lt((e=Xl(e)).getUTCFullYear()%100,t,2)}function ai(e,t){return Lt(e.getUTCFullYear()%1e4,t,4)}function X0(e,t){var n=e.getUTCDay();return Lt((e=n>=4||n===0?Ua(e):Ua.ceil(e)).getUTCFullYear()%1e4,t,4)}function Z0(){return"+0000"}function sf(){return"%"}function qh(e){return+e}function Wh(e){return Math.floor(+e/1e3)}function mo(e){let t={};return n=>t[n]||(t[n]=e(n))}function uc(e){let t=mo(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(a){let r=Bl(a||",");if(r.precision==null){switch(r.precision=12,r.type){case"%":r.precision-=2;break;case"e":r.precision-=1}return i=t(r),o=t(".1f")(1)[1],u=>{let c=i(u),f=c.indexOf(o);if(f<0)return c;let m=function(v,E){let k,_=v.lastIndexOf("e");if(_>0)return _;for(_=v.length;--_>E;)if(k=v.charCodeAt(_),k>=48&&k<=57)return _+1}(c,f),g=m<c.length?c.slice(m):"";for(;--m>f;)if(c[m]!=="0"){++m;break}return c.slice(0,m)+g}}return t(r);var i,o},formatSpan(a,r,i,o){o=Bl(o??",f");let u=Ai(a,r,i),c=Math.max(Math.abs(a),Math.abs(r)),f;if(o.precision==null)switch(o.type){case"s":return isNaN(f=y0(u,c))||(o.precision=f),n(o,c);case"":case"e":case"g":case"p":case"r":isNaN(f=v0(u,c))||(o.precision=f-(o.type==="e"));break;case"f":case"%":isNaN(f=Ld(u))||(o.precision=f-2*(o.type==="%"))}return t(o)}}}let Vh,lf;function Yh(){return Vh=uc({format:Rr,formatPrefix:wh})}function ri(e){return uc(b0(e))}function cc(e){return arguments.length?Vh=ri(e):Vh}function Zl(e,t,n){ye(n=n||{})||F(`Invalid time multi-format specifier: ${n}`);let a=t(lr),r=t(sr),i=t(za),o=t(pa),u=t(An),c=t(ea),f=t(Sa),m=t(Qn),g=e(n[Or]||".%L"),v=e(n[lr]||":%S"),E=e(n[sr]||"%I:%M"),k=e(n[za]||"%I %p"),_=e(n[pa]||n[ta]||"%a %d"),R=e(n[An]||"%b %d"),O=e(n[ea]||"%B"),N=e(n[Sa]||"%B"),$=e(n[Qn]||"%Y");return M=>(a(M)<M?g:r(M)<M?v:i(M)<M?E:o(M)<M?k:c(M)<M?u(M)<M?_:R:m(M)<M?f(M)<M?O:N:$)(M)}function uf(e){let t=mo(e.format),n=mo(e.utcFormat);return{timeFormat:a=>Mt(a)?t(a):Zl(t,ts,a),utcFormat:a=>Mt(a)?n(a):Zl(n,Dr,a),timeParse:mo(e.parse),utcParse:mo(e.utcParse)}}function dc(){return lf=uf({format:ho,parse:Jd,utcFormat:ns,utcParse:Qd})}function Kh(e){return uf($0(e))}function Ys(e){return arguments.length?lf=Kh(e):lf}(function(e){Wl=$0(e),ho=Wl.format,Jd=Wl.parse,ns=Wl.utcFormat,Qd=Wl.utcParse})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Yh(),dc();let Di=(e,t)=>pt({},e,t);function Xh(e,t){let n=e?ri(e):cc(),a=t?Kh(t):Ys();return Di(n,a)}function cf(e,t){let n=arguments.length;return n&&n!==2&&F("defaultLocale expects either zero or two arguments."),n?Di(cc(e),Ys(t)):Di(cc(),Ys())}let J0=/^(data:|([A-Za-z]+:)?\/\/)/,df=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ff=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Jl="file://";async function Ue(e,t){let n=await this.sanitize(e,t),a=n.href;return n.localFile?this.file(a):this.http(a,t)}async function Ql(e,t){t=pt({},this.options,t);let n=this.fileAccess,a={href:null},r,i,o,u=df.test(e.replace(ff,""));e!=null&&typeof e=="string"&&u||F("Sanitize failure, invalid URI: "+it(e));let c=J0.test(e);return(o=t.baseURL)&&!c&&(e.startsWith("/")||o.endsWith("/")||(e="/"+e),e=o+e),i=(r=e.startsWith(Jl))||t.mode==="file"||t.mode!=="http"&&!c&&n,r?e=e.slice(Jl.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),i=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(a,"localFile",{value:!!i}),a.href=e,t.target&&(a.target=t.target+""),t.rel&&(a.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(a.crossOrigin=t.crossOrigin+""),a}function Mi(e){return e?t=>new Promise((n,a)=>{e.readFile(t,(r,i)=>{r?a(r):n(i)})}):rs}async function rs(){F("No file system access.")}function Q0(e){return e?async function(t,n){let a=pt({},this.options.http,n),r=n&&n.response,i=await e(t,a);return i.ok?Je(i[r])?i[r]():i.text():F(i.status+""+i.statusText)}:pf}async function pf(){F("No HTTP fetch method available.")}let vt=e=>e!=null&&e==e,ha=e=>!(Number.isNaN(+e)||e instanceof Date),ur={boolean:Fl,integer:De,number:De,date:Od,string:Dd,unknown:Q},Li=[e=>e==="true"||e==="false"||e===!0||e===!1,e=>ha(e)&&Number.isInteger(+e),ha,e=>!Number.isNaN(Date.parse(e))],eu=["boolean","integer","number","date"];function Zh(e,t){if(!e||!e.length)return"unknown";let n=e.length,a=Li.length,r=Li.map((i,o)=>o+1);for(let i,o,u=0,c=0;u<n;++u)for(o=t?e[u][t]:e[u],i=0;i<a;++i)if(r[i]&&vt(o)&&!Li[i](o)&&(r[i]=0,++c,c===Li.length))return"string";return eu[r.reduce((i,o)=>i===0?o:i,0)-1]}function Jh(e,t){return t.reduce((n,a)=>(n[a]=Zh(e,a),n),{})}function ey(e){let t=function(n,a){let r={delimiter:e};return Ge(n,a?pt(a,r):r)};return t.responseType="text",t}function Ge(e,t){return t.header&&(e=t.header.map(it).join(t.delimiter)+`
`+e),xA(t.delimiter).parse(e+"")}function tu(e,t){let n=t&&t.property?W(t.property):Q;return!ye(e)||(a=e,typeof Buffer=="function"&&Je(Buffer.isBuffer)&&Buffer.isBuffer(a))?n(JSON.parse(e)):function(r,i){return!Ee(r)&&wi(r)&&(r=[...r]),i&&i.copy?JSON.parse(JSON.stringify(r)):r}(n(e),t);var a}Ge.responseType="text",tu.responseType="json";let ty={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Qh(e,t){let n,a,r,i;return e=tu(e,t),t&&t.feature?(n=SA,r=t.feature):t&&t.mesh?(n=c0,r=t.mesh,i=ty[t.filter]):F("Missing TopoJSON feature or mesh parameter."),a=(a=e.objects[r])?n(e,a,i):F("Invalid TopoJSON object: "+r),a&&a.features||[a]}Qh.responseType="json";let fc={dsv:Ge,csv:ey(","),tsv:ey("	"),json:tu,topojson:Qh};function is(e,t){return arguments.length>1?(fc[e]=t,this):et(fc,e)?fc[e]:null}function hf(e){let t=is(e);return t&&t.responseType||"text"}function mf(e,t,n,a){let r=is((t=t||{}).type||"json");return r||F("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(i,o,u,c){if(!i.length)return;let f=Ys();u=u||f.timeParse,c=c||f.utcParse;let m,g,v,E,k,_,R=i.columns||Object.keys(i[0]);o==="auto"&&(o=Jh(i,R)),R=Object.keys(o);let O=R.map(N=>{let $=o[N],M,U;if($&&($.startsWith("date:")||$.startsWith("utc:")))return M=$.split(/:(.+)?/,2),U=M[1],(U[0]==="'"&&U[U.length-1]==="'"||U[0]==='"'&&U[U.length-1]==='"')&&(U=U.slice(1,-1)),(M[0]==="utc"?c:u)(U);if(!ur[$])throw Error("Illegal format pattern: "+N+":"+$);return ur[$]});for(v=0,k=i.length,_=R.length;v<k;++v)for(m=i[v],E=0;E<_;++E)g=R[E],m[g]=O[E](m[g])}(e,t.parse,n,a),et(e,"columns")&&delete e.columns,e}let Ks=function(e,t){return n=>({options:n||{},sanitize:Ql,load:Ue,fileAccess:!!t,file:Mi(t),http:Q0(e)})}(typeof fetch<"u"&&fetch,null);function cr(e){let t=e||Q,n=[],a={};return n.add=r=>{let i=t(r);return a[i]||(a[i]=1,n.push(r)),n},n.remove=r=>{let i=t(r);if(a[i]){a[i]=0;let o=n.indexOf(r);o>=0&&n.splice(o,1)}return n},n}async function mn(e,t){try{await t(e)}catch(n){e.error(n)}}let em=Symbol("vega_id"),gf=1;function nu(e){return!(!e||!at(e))}function at(e){return e[em]}function Xs(e,t){return e[em]=t,e}function Rt(e){let t=e===Object(e)?e:{data:e};return at(t)?t:Xs(t,gf++)}function au(e){return pc(e,Rt({}))}function pc(e,t){for(let n in e)t[n]=e[n];return t}function ru(e,t){return Xs(t,at(e))}function os(e,t){return e?t?(n,a)=>e(n,a)||at(t(n))-at(t(a)):(n,a)=>e(n,a)||at(n)-at(a):null}function iu(e){return e&&e.constructor===ss}function ss(){let e=[],t=[],n=[],a=[],r=[],i=null,o=!1;return{constructor:ss,insert(u){let c=Ce(u),f=c.length;for(let m=0;m<f;++m)e.push(c[m]);return this},remove(u){let c=Je(u)?a:t,f=Ce(u),m=f.length;for(let g=0;g<m;++g)c.push(f[g]);return this},modify(u,c,f){let m={field:c,value:dn(f)};return Je(u)?(m.filter=u,r.push(m)):(m.tuple=u,n.push(m)),this},encode(u,c){return Je(u)?r.push({filter:u,field:c}):n.push({tuple:u,field:c}),this},clean(u){return i=u,this},reflow(){return o=!0,this},pulse(u,c){let f={},m={},g,v,E,k,_,R;for(g=0,v=c.length;g<v;++g)f[at(c[g])]=1;for(g=0,v=t.length;g<v;++g)_=t[g],f[at(_)]=-1;for(g=0,v=a.length;g<v;++g)k=a[g],c.forEach(N=>{k(N)&&(f[at(N)]=-1)});for(g=0,v=e.length;g<v;++g)_=e[g],R=at(_),f[R]?f[R]=1:u.add.push(Rt(e[g]));for(g=0,v=c.length;g<v;++g)_=c[g],f[at(_)]<0&&u.rem.push(_);function O(N,$,M){M?N[$]=M(N):u.encode=$,o||(m[at(N)]=N)}for(g=0,v=n.length;g<v;++g)E=n[g],_=E.tuple,k=E.field,R=f[at(_)],R>0&&(O(_,k,E.value),u.modifies(k));for(g=0,v=r.length;g<v;++g)E=r[g],k=E.filter,c.forEach(N=>{k(N)&&f[at(N)]>0&&O(N,E.field,E.value)}),u.modifies(E.field);if(o)u.mod=t.length||a.length?c.filter(N=>f[at(N)]>0):c.slice();else for(R in m)u.mod.push(m[R]);return(i||i==null&&(t.length||a.length))&&u.clean(!0),u}}}let bf="_:mod:_";function hc(){Object.defineProperty(this,bf,{writable:!0,value:{}})}hc.prototype={set(e,t,n,a){let r=this,i=r[e],o=r[bf];return t!=null&&t>=0?(i[t]!==n||a)&&(i[t]=n,o[t+":"+e]=-1,o[e]=-1):(i!==n||a)&&(r[e]=n,o[e]=Ee(n)?1+n.length:-1),r},modified(e,t){let n=this[bf];if(!arguments.length){for(let a in n)if(n[a])return!0;return!1}if(Ee(e)){for(let a=0;a<e.length;++a)if(n[e[a]])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[bf]={},this}};let F_=0,ny=new hc;function Vt(e,t,n,a){this.id=++F_,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,a)}function Fi(e){return function(t){let n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Vt.prototype={targets(){return this._targets||(this._targets=cr(V))},set(e){return this.value!==e?(this.value=e,1):0},skip:Fi(1),modified:Fi(2),parameters(e,t,n){t=t!==!1;let a=this._argval=this._argval||new hc,r=this._argops=this._argops||[],i=[],o,u,c,f,m=(g,v,E)=>{E instanceof Vt?(E!==this&&(t&&E.targets().add(this),i.push(E)),r.push({op:E,name:g,index:v})):a.set(g,v,E)};for(o in e)if(u=e[o],o==="pulse")Ce(u).forEach(g=>{g instanceof Vt?g!==this&&(g.targets().add(this),i.push(g)):F("Pulse parameters must be operator instances.")}),this.source=u;else if(Ee(u))for(a.set(o,-1,Array(c=u.length)),f=0;f<c;++f)m(o,f,u[f]);else m(o,-1,u);return this.marshall().clear(),n&&(r.initonly=!0),i},marshall(e){let t=this._argval||ny,n=this._argops,a,r,i,o;if(n){let u=n.length;for(r=0;r<u;++r)a=n[r],i=a.op,o=i.modified()&&i.stamp===e,t.set(a.name,a.index,i.value,o);if(n.initonly){for(r=0;r<u;++r)a=n[r],a.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){let e=this._argops,t,n,a,r;if(e)for(t=0,n=e.length;t<n;++t)a=e[t],r=a.op,r._targets&&r._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){let t=this._update;if(t){let n=this.marshall(e.stamp),a=t.call(this,n,e);if(n.clear(),a!==this.value)this.value=a;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let yf=0;function Pi(e,t,n){this.id=++yf,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function go(e,t,n){return new Pi(e,t,n)}Pi.prototype={_filter:Z,_apply:Q,targets(){return this._targets||(this._targets=cr(V))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){let t=this.value=this._apply(e),n=this._targets,a=n?n.length:0;for(let r=0;r<a;++r)n[r].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){let t=go(e);return this.targets().add(t),t},apply(e){let t=go(null,e);return this.targets().add(t),t},merge(){let e=go();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{let n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){let t=go();return this.targets().add(go(null,null,Ko(e,n=>{let a=n.dataflow;t.receive(n),a&&a.run&&a.run()}))),t},between(e,t){let n=!1;return e.targets().add(go(null,null,()=>n=!0)),t.targets().add(go(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Z,this._targets=null}};let ay={skip:!0};function tm(e,t,n,a,r,i){let o=pt({},i,ay),u,c;Je(n)||(n=dn(n)),a===void 0?u=f=>e.touch(n(f)):Je(a)?(c=new Vt(null,a,r,!1),u=f=>{c.evaluate(f);let m=n(f),g=c.value;iu(g)?e.pulse(m,g,i):e.update(m,g,o)}):u=f=>e.update(n(f),a,o),t.apply(u)}function ry(e,t,n,a,r,i){if(a===void 0)t.targets().add(n);else{let o=i||{},u=new Vt(null,function(c,f){return f=Je(f)?f:dn(f),c?function(m,g){let v=f(m,g);return c.skip()||(c.skip(v!==this.value).value=v),v}:f}(n,a),r,!1);u.modified(o.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}let vf={};function ii(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function mc(e,t){let n=[];return Zo(e,t,a=>n.push(a)),n}function nm(e,t){let n={};return e.visit(t,a=>{n[at(a)]=1}),a=>n[at(a)]?null:a}function ou(e,t){return e?(n,a)=>e(n,a)&&t(n,a):t}function gc(e,t,n,a){let r=this,i=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=a||null,this.pulses=n;for(let o of n)if(o.stamp===t){if(o.fields){let u=r.fields||(r.fields={});for(let c in o.fields)u[c]=1}o.changed(r.ADD)&&(i|=r.ADD),o.changed(r.REM)&&(i|=r.REM),o.changed(r.MOD)&&(i|=r.MOD)}this.changes=i}function Ef(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}ii.prototype={StopPropagation:vf,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new ii(this.dataflow).init(this,e)},clone(){let e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new ii(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){let n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){let t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();let t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,nm(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){let t=this.fields||(this.fields={});return Ee(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){let n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Ee(e)?e.some(a=>n[a]):n[e]:!!n)},filter(e,t){let n=this;return 1&e&&(n.addF=ou(n.addF,t)),2&e&&(n.remF=ou(n.remF,t)),4&e&&(n.modF=ou(n.modF,t)),16&e&&(n.srcF=ou(n.srcF,t)),n},materialize(e){let t=this;return 1&(e=e||7)&&t.addF&&(t.add=mc(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=mc(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=mc(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){let n=this,a=t;if(16&e)return Zo(n.source,n.srcF,a),n;1&e&&Zo(n.add,n.addF,a),2&e&&Zo(n.rem,n.remF,a),4&e&&Zo(n.mod,n.modF,a);let r=n.source;if(8&e&&r){let i=n.add.length+n.mod.length;i===r.length||Zo(r,i?nm(n,5):n.srcF,a)}return n}},Me(gc,ii,{fork(e){let t=new ii(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){let t=this,n=t.fields;return n&&t.changes&t.MOD?Ee(e)?e.some(a=>n[a]):n[e]:0},filter(){F("MultiPulse does not support filtering.")},materialize(){F("MultiPulse does not support materialization.")},visit(e,t){let n=this,a=n.pulses,r=a.length,i=0;if(e&n.SOURCE)for(;i<r;++i)a[i].visit(e,t);else for(;i<r;++i)a[i].stamp===n.stamp&&a[i].visit(e,t);return n}});let wf={skip:!1,force:!1};function iy(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),bc(t,0,t.length-1,e)),pop:()=>{let n=t.pop(),a;return t.length?(a=t[0],t[0]=n,function(r,i,o){let u=i,c=r.length,f=r[i],m,g=1+(i<<1);for(;g<c;)m=g+1,m<c&&o(r[g],r[m])>=0&&(g=m),r[i]=r[g],g=1+((i=g)<<1);r[i]=f,bc(r,u,i,o)}(t,0,e)):a=n,a}}}function bc(e,t,n,a){let r,i,o=e[n];for(;n>t&&(i=n-1>>1,r=e[i],a(o,r)<0);)e[n]=r,n=i;return e[n]=o}function Zs(){this.logger(ze()),this.logLevel(me),this._clock=0,this._rank=0,this._locale=cf();try{this._loader=Ks()}catch{}this._touched=cr(V),this._input={},this._pulse=null,this._heap=iy((e,t)=>e.qrank-t.qrank),this._postrun=[]}function ls(e){return function(){return this._log[e].apply(this,arguments)}}function xe(e,t){Vt.call(this,e,null,t)}Zs.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:ls("error"),warn:ls("warn"),info:ls("info"),debug:ls("debug"),logLevel:ls("level"),cleanThreshold:1e4,add:function(e,t,n,a){let r,i=1;return e instanceof Vt?r=e:e&&e.prototype instanceof Vt?r=new e:Je(e)?r=new Vt(null,e):(i=0,r=new Vt(e,t)),this.rank(r),i&&(a=n,n=t),n&&this.connect(r,r.parameters(n,a)),this.touch(r),r},connect:function(e,t){let n=e.rank,a=t.length;for(let r=0;r<a;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){let t=[e],n,a,r;for(;t.length;)if(this.rank(n=t.pop()),a=n._targets)for(r=a.length;--r>=0;)t.push(n=a[r]),n===e&&F("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||wf);let a=new ii(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,r),this},touch:function(e,t){let n=t||wf;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){let a=n||wf;return(e.set(t)||a.force)&&this.touch(e,a),this},changeset:ss,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){let n=this.locale();return mf(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){let a=this,r=a._pending||function(o){let u,c=new Promise(f=>u=f);return c.requests=0,c.done=()=>{--c.requests==0&&(o._pending=null,u(o))},o._pending=c}(a);r.requests+=1;let i=await a.request(t,n);return a.pulse(e,a.changeset().remove(Z).insert(i.data||[])),r.done(),i},request:async function(e,t){let n=this,a,r=0;try{a=await n.loader().load(e,{context:"dataflow",response:hf(t&&t.type)});try{a=n.parse(a,t)}catch(i){r=-2,n.warn("Data ingestion failed",e,i)}}catch(i){r=-1,n.warn("Loading failed",e,i)}return{data:a,status:r}},events:function(e,t,n,a){let r=this,i=go(n,a),o=function(f){f.dataflow=r;try{i.receive(f)}catch(m){r.error(m)}finally{r.run()}},u;u=typeof e=="string"&&typeof document<"u"?document.querySelectorAll(e):Ce(e);let c=u.length;for(let f=0;f<c;++f)u[f].addEventListener(t,o);return i},on:function(e,t,n,a,r){return(e instanceof Vt?ry:tm)(this,e,t,n,a,r),this},evaluate:async function(e,t,n){let a=this,r=[];if(a._pulse)return Ef(a);if(a._pending&&await a._pending,t&&await mn(a,t),!a._touched.length)return a.debug("Dataflow invoked, but nothing to do."),a;let i=++a._clock;a._pulse=new ii(a,i,e),a._touched.forEach(m=>a._enqueue(m,!0)),a._touched=cr(V);let o,u,c,f=0;try{for(;a._heap.size()>0;)o=a._heap.pop(),o.rank===o.qrank?(u=o.run(a._getPulse(o,e)),u.then?u=await u:u.async&&(r.push(u.async),u=vf),u!==vf&&o._targets&&o._targets.forEach(m=>a._enqueue(m)),++f):a._enqueue(o,!0)}catch(m){a._heap.clear(),c=m}if(a._input={},a._pulse=null,a.debug(`Pulse ${i}: ${f} operators`),c&&(a._postrun=[],a.error(c)),a._postrun.length){let m=a._postrun.sort((g,v)=>v.priority-g.priority);a._postrun=[];for(let g=0;g<m.length;++g)await mn(a,m[g].callback)}return n&&await mn(a,n),r.length&&Promise.all(r).then(m=>a.runAsync(null,()=>{m.forEach(g=>{try{g(a)}catch(v){a.error(v)}})})),a},run:function(e,t,n){return this._pulse?Ef(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;let a=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(a,a),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(a){this.error(a)}},_enqueue:function(e,t){let n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){let n=e.source,a=this._clock;return n&&Ee(n)?new gc(this,a,n.map(r=>r.pulse),t):this._input[e.id]||function(r,i){return i&&i.stamp===r.stamp?i:(r=r.fork(),i&&i!==vf&&(r.source=i.source),r)}(this._pulse,n&&n.pulse)}},Me(xe,Vt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){let t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});let Js={};function am(e){let t=rm(e);return t&&t.Definition||null}function rm(e){return e=e&&e.toLowerCase(),et(Js,e)?Js[e]:null}function*_f(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let a of e)a=t(a,++n,e),a!=null&&a!==""&&(a=+a)>=a&&(yield a)}}function im(e,t,n){let a=Float64Array.from(_f(e,n));return a.sort(xi),t.map(r=>h0(a,r))}function kf(e,t){return im(e,[.25,.5,.75],t)}function om(e,t){let n=e.length,a=function(o,u){let c=function(f,m){let g,v=0,E=0,k=0;if(m===void 0)for(let _ of f)_!=null&&(_=+_)>=_&&(g=_-E,E+=g/++v,k+=g*(_-E));else{let _=-1;for(let R of f)(R=m(R,++_,f))!=null&&(R=+R)>=R&&(g=R-E,E+=g/++v,k+=g*(R-E))}if(v>1)return k/(v-1)}(o,u);return c&&Math.sqrt(c)}(e,t),r=kf(e,t),i=(r[2]-r[0])/1.34;return 1.06*(Math.min(a,i)||a||Math.abs(r[0])||1)*Math.pow(n,-.2)}function sm(e){let t=e.maxbins||20,n=e.base||10,a=Math.log(n),r=e.divide||[5,2],i,o,u,c,f,m,g=e.extent[0],v=e.extent[1],E=e.span||v-g||Math.abs(g)||1;if(e.step)i=e.step;else if(e.steps){for(c=E/t,f=0,m=e.steps.length;f<m&&e.steps[f]<c;++f);i=e.steps[Math.max(0,f-1)]}else{for(o=Math.ceil(Math.log(t)/a),u=e.minstep||0,i=Math.max(u,Math.pow(n,Math.round(Math.log(E)/a)-o));Math.ceil(E/i)>t;)i*=n;for(f=0,m=r.length;f<m;++f)c=i/r[f],c>=u&&E/c<=t&&(i=c)}c=Math.log(i);let k=c>=0?0:1+~~(-c/a),_=Math.pow(n,-k-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(g/i+_)*i,g=g<c?c-i:c,v=Math.ceil(v/i)*i),{start:g,stop:v===g?g+i:v,step:i}}function lm(e,t,n,a){if(!e.length)return[void 0,void 0];let r=Float64Array.from(_f(e,a)),i=r.length,o=t,u,c,f,m;for(f=0,m=Array(o);f<o;++f){for(u=0,c=0;c<i;++c)u+=r[~~(p.random()*i)];m[f]=u/i}return m.sort(xi),[Zu(m,n/2),Zu(m,1-n/2)]}function xf(e,t,n,a){a=a||(v=>v);let r=e.length,i=new Float64Array(r),o,u=0,c=1,f=a(e[0]),m=f,g=f+t;for(;c<r;++c){if(o=a(e[c]),o>=g){for(m=(f+m)/2;u<c;++u)i[u]=m;g=o+t,f=o}m=o}for(m=(f+m)/2;u<c;++u)i[u]=m;return n?function(v,E){let k=v.length,_,R,O=0,N=1;for(;v[O]===v[N];)++N;for(;N<k;){for(_=N+1;v[N]===v[_];)++_;if(v[N]-v[N-1]<E){for(R=N+(O+_-N-N>>1);R<N;)v[R++]=v[N];for(;R>N;)v[R--]=v[O]}O=N,N=_}return v}(i,t+t/4):i}p.random=Math.random;let oy=Math.sqrt(2*Math.PI),sy=Math.SQRT2,su=NaN;function lu(e,t){e=e||0,t=t??1;let n,a,r=0,i=0;if(su==su)r=su,su=NaN;else{do r=2*p.random()-1,i=2*p.random()-1,n=r*r+i*i;while(n===0||n>1);a=Math.sqrt(-2*Math.log(n)/n),r*=a,su=i*a}return e+r*t}function um(e,t,n){let a=(e-(t||0))/(n=n??1);return Math.exp(-.5*a*a)/(n*oy)}function yc(e,t,n){let a=(e-(t=t||0))/(n=n??1),r=Math.abs(a),i;if(r>37)i=0;else{let o=Math.exp(-r*r/2),u;r<7.07106781186547?(u=.0352624965998911*r+.700383064443688,u=u*r+6.37396220353165,u=u*r+33.912866078383,u=u*r+112.079291497871,u=u*r+221.213596169931,u=u*r+220.206867912376,i=o*u,u=.0883883476483184*r+1.75566716318264,u=u*r+16.064177579207,u=u*r+86.7807322029461,u=u*r+296.564248779674,u=u*r+637.333633378831,u=u*r+793.826512519948,u=u*r+440.413735824752,i/=u):(u=r+.65,u=r+4/u,u=r+3/u,u=r+2/u,u=r+1/u,i=o/u/2.506628274631)}return a>0?1-i:i}function vc(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*sy*function(a){let r,i=-Math.log((1-a)*(1+a));return i<6.25?(i-=3.125,r=-364441206401782e-35,r=r*i-16850591381820166e-35,r=128584807152564e-32+r*i,r=11157877678025181e-33+r*i,r=r*i-1333171662854621e-31,r=20972767875968562e-33+r*i,r=6637638134358324e-30+r*i,r=r*i-4054566272975207e-29,r=r*i-8151934197605472e-29,r=26335093153082323e-28+r*i,r=r*i-12975133253453532e-27,r=r*i-5415412054294628e-26,r=10512122733215323e-25+r*i,r=r*i-4112633980346984e-24,r=r*i-29070369957882005e-24,r=42347877827932404e-23+r*i,r=r*i-13654692000834679e-22,r=r*i-13882523362786469e-21,r=.00018673420803405714+r*i,r=r*i-.000740702534166267,r=r*i-.006033670871430149,r=.24015818242558962+r*i,r=1.6536545626831027+r*i):i<16?(i=Math.sqrt(i)-3.25,r=22137376921775787e-25,r=9075656193888539e-23+r*i,r=r*i-27517406297064545e-23,r=18239629214389228e-24+r*i,r=15027403968909828e-22+r*i,r=r*i-4013867526981546e-21,r=29234449089955446e-22+r*i,r=12475304481671779e-21+r*i,r=r*i-47318229009055734e-21,r=6828485145957318e-20+r*i,r=24031110387097894e-21+r*i,r=r*i-.0003550375203628475,r=.0009532893797373805+r*i,r=r*i-.0016882755560235047,r=.002491442096107851+r*i,r=r*i-.003751208507569241,r=.005370914553590064+r*i,r=1.0052589676941592+r*i,r=3.0838856104922208+r*i):Number.isFinite(i)?(i=Math.sqrt(i)-5,r=-27109920616438573e-27,r=r*i-2555641816996525e-25,r=15076572693500548e-25+r*i,r=r*i-3789465440126737e-24,r=761570120807834e-23+r*i,r=r*i-1496002662714924e-23,r=2914795345090108e-23+r*i,r=r*i-6771199775845234e-23,r=22900482228026655e-23+r*i,r=r*i-99298272942317e-20,r=4526062597223154e-21+r*i,r=r*i-1968177810553167e-20,r=7599527703001776e-20+r*i,r=r*i-.00021503011930044477,r=r*i-.00013871931833623122,r=1.0103004648645344+r*i,r=4.849906401408584+r*i):r=1/0,r*a}(2*e-1)}function cm(e,t){let n,a,r={mean(i){return arguments.length?(n=i||0,r):n},stdev(i){return arguments.length?(a=i??1,r):a},sample:()=>lu(n,a),pdf:i=>um(i,n,a),cdf:i=>yc(i,n,a),icdf:i=>vc(i,n,a)};return r.mean(e).stdev(t)}function dm(e,t){let n=cm(),a=0,r={data(i){return arguments.length?(e=i,a=i?i.length:0,r.bandwidth(t)):e},bandwidth(i){return arguments.length?(!(t=i)&&e&&(t=om(e)),r):t},sample:()=>e[~~(p.random()*a)]+t*n.sample(),pdf(i){let o=0,u=0;for(;u<a;++u)o+=n.pdf((i-e[u])/t);return o/t/a},cdf(i){let o=0,u=0;for(;u<a;++u)o+=n.cdf((i-e[u])/t);return o/a},icdf(){throw Error("KDE icdf not supported.")}};return r.data(e)}function Sf(e,t){return e=e||0,t=t??1,Math.exp(e+lu()*t)}function Af(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;let a=(Math.log(e)-t)/n;return Math.exp(-.5*a*a)/(n*oy*e)}function dr(e,t,n){return yc(Math.log(e),t,n)}function fm(e,t,n){return Math.exp(vc(e,t,n))}function Tf(e,t){let n,a,r={mean(i){return arguments.length?(n=i||0,r):n},stdev(i){return arguments.length?(a=i??1,r):a},sample:()=>Sf(n,a),pdf:i=>Af(i,n,a),cdf:i=>dr(i,n,a),icdf:i=>fm(i,n,a)};return r.mean(e).stdev(t)}function Cf(e,t){let n,a=0,r={weights(i){return arguments.length?(n=function(o){let u=[],c,f=0;for(c=0;c<a;++c)f+=u[c]=o[c]==null?1:+o[c];for(c=0;c<a;++c)u[c]/=f;return u}(t=i||[]),r):t},distributions(i){return arguments.length?(i?(a=i.length,e=i):(a=0,e=[]),r.weights(t)):e},sample(){let i=p.random(),o=e[a-1],u=n[0],c=0;for(;c<a-1;u+=n[++c])if(i<u){o=e[c];break}return o.sample()},pdf(i){let o=0,u=0;for(;u<a;++u)o+=n[u]*e[u].pdf(i);return o},cdf(i){let o=0,u=0;for(;u<a;++u)o+=n[u]*e[u].cdf(i);return o},icdf(){throw Error("Mixture icdf not supported.")}};return r.distributions(e).weights(t)}function Ec(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*p.random()}function Rf(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function wc(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function uu(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Nf(e,t){let n,a,r={min(i){return arguments.length?(n=i||0,r):n},max(i){return arguments.length?(a=i??1,r):a},sample:()=>Ec(n,a),pdf:i=>Rf(i,n,a),cdf:i=>wc(i,n,a),icdf:i=>uu(i,n,a)};return t==null&&(t=e??1,e=0),r.min(e).max(t)}function If(e,t,n){let a=0,r=0;for(let i of e){let o=n(i);t(i)==null||o==null||isNaN(o)||(a+=(o-a)/++r)}return{coef:[a],predict:()=>a,rSquared:0}}function ja(e,t,n,a){let r=a-e*e,i=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-i*e,i]}function _c(e,t,n,a){e=e.filter(E=>{let k=t(E),_=n(E);return k!=null&&(k=+k)>=k&&_!=null&&(_=+_)>=_}),a&&e.sort((E,k)=>t(E)-t(k));let r=e.length,i=new Float64Array(r),o=new Float64Array(r),u,c,f,m=0,g=0,v=0;for(f of e)i[m]=u=+t(f),o[m]=c=+n(f),++m,g+=(u-g)/m,v+=(c-v)/m;for(m=0;m<r;++m)i[m]-=g,o[m]-=v;return[i,o,g,v]}function kc(e,t,n,a){let r,i,o=-1;for(let u of e)r=t(u),i=n(u),r!=null&&(r=+r)>=r&&i!=null&&(i=+i)>=i&&a(r,i,++o)}function us(e,t,n,a,r){let i=0,o=0;return kc(e,t,n,(u,c)=>{let f=c-r(u),m=c-a;i+=f*f,o+=m*m}),1-i/o}function cu(e,t,n){let a=0,r=0,i=0,o=0,u=0;kc(e,t,n,(m,g)=>{++u,a+=(m-a)/u,r+=(g-r)/u,i+=(m*g-i)/u,o+=(m*m-o)/u});let c=ja(a,r,i,o),f=m=>c[0]+c[1]*m;return{coef:c,predict:f,rSquared:us(e,t,n,r,f)}}function xc(e,t,n){let a=0,r=0,i=0,o=0,u=0;kc(e,t,n,(m,g)=>{++u,m=Math.log(m),a+=(m-a)/u,r+=(g-r)/u,i+=(m*g-i)/u,o+=(m*m-o)/u});let c=ja(a,r,i,o),f=m=>c[0]+c[1]*Math.log(m);return{coef:c,predict:f,rSquared:us(e,t,n,r,f)}}function pm(e,t,n){let[a,r,i,o]=_c(e,t,n),u,c,f,m=0,g=0,v=0,E=0,k=0;kc(e,t,n,(N,$)=>{u=a[k++],c=Math.log($),f=u*$,m+=($*c-m)/k,g+=(f-g)/k,v+=(f*c-v)/k,E+=(u*f-E)/k});let[_,R]=ja(g/o,m/o,v/o,E/o),O=N=>Math.exp(_+R*(N-i));return{coef:[Math.exp(_-R*i),R],predict:O,rSquared:us(e,t,n,o,O)}}function ly(e,t,n){let a=0,r=0,i=0,o=0,u=0,c=0;kc(e,t,n,(g,v)=>{let E=Math.log(g),k=Math.log(v);++c,a+=(E-a)/c,r+=(k-r)/c,i+=(E*k-i)/c,o+=(E*E-o)/c,u+=(v-u)/c});let f=ja(a,r,i,o),m=g=>f[0]*Math.pow(g,f[1]);return f[0]=Math.exp(f[0]),{coef:f,predict:m,rSquared:us(e,t,n,u,m)}}function oi(e,t,n){let[a,r,i,o]=_c(e,t,n),u=a.length,c,f,m,g,v=0,E=0,k=0,_=0,R=0;for(c=0;c<u;)f=a[c],m=r[c++],g=f*f,v+=(g-v)/c,E+=(g*f-E)/c,k+=(g*g-k)/c,_+=(f*m-_)/c,R+=(g*m-R)/c;let O=k-v*v,N=v*O-E*E,$=(R*v-_*E)/N,M=(_*O-R*E)/N,U=-$*v,z=q=>$*(q-=i)*q+M*q+U+o;return{coef:[U-M*i+$*i*i+o,M-2*$*i,$],predict:z,rSquared:us(e,t,n,o,z)}}function hm(e,t,n,a){if(a===0)return If(e,t,n);if(a===1)return cu(e,t,n);if(a===2)return oi(e,t,n);let[r,i,o,u]=_c(e,t,n),c=r.length,f=[],m=[],g=a+1,v,E,k,_,R;for(v=0;v<g;++v){for(k=0,_=0;k<c;++k)_+=Math.pow(r[k],v)*i[k];for(f.push(_),R=new Float64Array(g),E=0;E<g;++E){for(k=0,_=0;k<c;++k)_+=Math.pow(r[k],v+E);R[E]=_}m.push(R)}m.push(f);let O=function($){let M=$.length-1,U=[],z,q,Y,K,ne;for(z=0;z<M;++z){for(K=z,q=z+1;q<M;++q)Math.abs($[z][q])>Math.abs($[z][K])&&(K=q);for(Y=z;Y<M+1;++Y)ne=$[Y][z],$[Y][z]=$[Y][K],$[Y][K]=ne;for(q=z+1;q<M;++q)for(Y=M;Y>=z;Y--)$[Y][q]-=$[Y][z]*$[z][q]/$[z][z]}for(q=M-1;q>=0;--q){for(ne=0,Y=q+1;Y<M;++Y)ne+=$[Y][q]*U[Y];U[q]=($[M][q]-ne)/$[q][q]}return U}(m),N=$=>{$-=o;let M=u+O[0]+O[1]*$+O[2]*$*$;for(v=3;v<g;++v)M+=O[v]*Math.pow($,v);return M};return{coef:uy(g,O,-o,u),predict:N,rSquared:us(e,t,n,u,N)}}function uy(e,t,n,a){let r=Array(e),i,o,u,c;for(i=0;i<e;++i)r[i]=0;for(i=e-1;i>=0;--i)for(u=t[i],c=1,r[i]+=u,o=1;o<=i;++o)c*=(i+1-o)/o,r[i-o]+=u*Math.pow(n,o)*c;return r[0]+=a,r}let mm=2,cy=1e-12;function gm(e,t,n,a){let[r,i,o,u]=_c(e,t,n,!0),c=r.length,f=Math.max(2,~~(a*c)),m=new Float64Array(c),g=new Float64Array(c),v=new Float64Array(c).fill(1);for(let E=-1;++E<=mm;){let k=[0,f-1];for(let R=0;R<c;++R){let O=r[R],N=k[0],$=k[1],M=O-r[N]>r[$]-O?N:$,U=0,z=0,q=0,Y=0,K=0,ne=1/Math.abs(r[M]-O||1);for(let oe=N;oe<=$;++oe){let le=r[oe],ce=i[oe],ve=P_(Math.abs(O-le)*ne)*v[oe],_e=le*ve;U+=ve,z+=_e,q+=ce*ve,Y+=ce*_e,K+=le*_e}let[X,ie]=ja(z/U,q/U,Y/U,K/U);m[R]=X+ie*O,g[R]=Math.abs(i[R]-m[R]),$_(r,R+1,k)}if(E===mm)break;let _=Ju(g);if(Math.abs(_)<cy)break;for(let R,O,N=0;N<c;++N)R=g[N]/(6*_),v[N]=R>=1?cy:(O=1-R*R)*O}return function(E,k,_,R){let O=E.length,N=[],$,M=0,U=0,z=[];for(;M<O;++M)$=E[M]+_,z[0]===$?z[1]+=(k[M]-z[1])/++U:(U=0,z[1]+=R,z=[$,k[M]],N.push(z));return z[1]+=R,N}(r,m,o,u)}function P_(e){return(e=1-e*e*e)*e*e}function $_(e,t,n){let a=e[t],r=n[0],i=n[1]+1;if(!(i>=e.length))for(;t>r&&e[i]-a<=a-e[r];)n[0]=++r,n[1]=i,++i}let B_=.5*Math.PI/180;function Of(e,t,n,a){n=n||25,a=Math.max(n,a||200);let r=_=>[_,e(_)],i=t[0],o=t[1],u=o-i,c=u/a,f=[r(i)],m=[];if(n===a){for(let _=1;_<a;++_)f.push(r(i+_/n*u));return f.push(r(o)),f}m.push(r(o));for(let _=n;--_>0;)m.push(r(i+_/n*u));let g=f[0],v=m[m.length-1],E=1/u,k=function(_,R){let O=_,N=_,$=R.length;for(let M=0;M<$;++M){let U=R[M][1];U<O&&(O=U),U>N&&(N=U)}return 1/(N-O)}(g[1],m);for(;v;){let _=r((g[0]+v[0])/2);_[0]-g[0]>=c&&U_(g,_,v,E,k)>B_?m.push(_):(g=v,f.push(v),m.pop()),v=m[m.length-1]}return f}function U_(e,t,n,a,r){let i=Math.atan2(r*(n[1]-e[1]),a*(n[0]-e[0])),o=Math.atan2(r*(t[1]-e[1]),a*(t[0]-e[0]));return Math.abs(i-o)}function du(e){return e&&e.length?e.length===1?e[0]:(t=e,n=>{let a=t.length,r=1,i=String(t[0](n));for(;r<a;++r)i+="|"+t[r](n);return i}):function(){return""};var t}function Df(e,t,n){return n||e+(t?"_"+t:"")}let bm=()=>{},z_={init:bm,add:bm,rem:bm,idx:0},Sc={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},$i=Object.keys(Sc).filter(e=>e!=="__count__");function ym(e,t){return Sc[e](t)}function vm(e,t){return e.idx-t.idx}function dy(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function G_(e,t){e!=null&&e!==""?e==e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t))):++this.missing}function j_(e,t){e!=null&&e!==""?e==e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t))):--this.missing}function Em(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function wm(e,t){let n=t||Q,a=function(o){let u={};o.forEach(f=>u[f.name]=f);let c=f=>{f.req&&f.req.forEach(m=>{u[m]||c(u[m]=Sc[m]())})};return o.forEach(c),Object.values(u).sort(vm)}(e),r=e.slice().sort(vm);function i(o){this._ops=a,this._out=r,this.cell=o,this.init()}return i.prototype.init=dy,i.prototype.add=G_,i.prototype.rem=j_,i.prototype.set=Em,i.prototype.get=n,i.fields=e.map(o=>o.out),i}function _m(e){this._key=e?W(e):at,this.reset()}[...$i,"__count__"].forEach(e=>{Sc[e]=function(t,n){return a=>pt({name:t,out:a||t},z_,n)}(e,Sc[e])});let na=_m.prototype;function Bi(e){xe.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}na.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},na.add=function(e){this._add.push(e)},na.rem=function(e){this._rem.push(e)},na.values=function(){if(this._get=null,this._rem.length===0)return this._add;let e=this._add,t=this._rem,n=this._key,a=e.length,r=t.length,i=Array(a-r),o={},u,c,f;for(u=0;u<r;++u)o[n(t[u])]=1;for(u=0,c=0;u<a;++u)o[n(f=e[u])]?o[n(f)]=0:i[c++]=f;return this._rem=[],this._add=i},na.distinct=function(e){let t=this.values(),n={},a,r=t.length,i=0;for(;--r>=0;)a=e(t[r])+"",et(n,a)||(n[a]=1,++i);return i},na.extent=function(e){if(this._get!==e||!this._ext){let t=this.values(),n=nr(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},na.argmin=function(e){return this.extent(e)[0]||{}},na.argmax=function(e){return this.extent(e)[1]||{}},na.min=function(e){let t=this.extent(e)[0];return t!=null?e(t):void 0},na.max=function(e){let t=this.extent(e)[1];return t!=null?e(t):void 0},na.quartile=function(e){return this._get===e&&this._q||(this._q=kf(this.values(),e),this._get=e),this._q},na.q1=function(e){return this.quartile(e)[0]},na.q2=function(e){return this.quartile(e)[1]},na.q3=function(e){return this.quartile(e)[2]},na.ci=function(e){return this._get===e&&this._ci||(this._ci=lm(this.values(),1e3,.05,e),this._get=e),this._ci},na.ci0=function(e){return this.ci(e)[0]},na.ci1=function(e){return this.ci(e)[1]},Bi.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:$i},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Me(Bi,xe,{transform(e,t){let n=this,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.modified();return n.stamp=a.stamp,n.value&&(r||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=r?n.init(e):Object.create(null),t.visit(t.SOURCE,i=>n.add(i))):(n.value=n.value||n.init(e),t.visit(t.REM,i=>n.rem(i)),t.visit(t.ADD,i=>n.add(i))),a.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&a.clean(!0).runAfter(()=>this.clean()),n.changes(a)},cross(){let e=this,t=e.value,n=e._dnames,a=n.map(()=>({})),r=n.length;function i(o){let u,c,f,m;for(u in o)for(f=o[u].tuple,c=0;c<r;++c)a[c][m=f[n[c]]]=m}i(e._prev),i(t),function o(u,c,f){let m=n[f],g=a[f++];for(let v in g){let E=u?u+"|"+v:v;c[m]=g[v],f<r?o(E,c,f):t[E]||e.cell(E,c)}}("",{},0)},init(e){let t=this._inputs=[],n=this._outputs=[],a={};function r(R){let O=Ce(T(R)),N=O.length,$,M=0;for(;M<N;++M)a[$=O[M]]||(a[$]=1,t.push($))}this._dims=Ce(e.groupby),this._dnames=this._dims.map(R=>{let O=x(R);return r(R),n.push(O),O}),this.cellkey=e.key?e.key:du(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let i=e.fields||[null],o=e.ops||["count"],u=e.as||[],c=i.length,f={},m,g,v,E,k,_;for(c!==o.length&&F("Unmatched number of fields and aggregate ops."),_=0;_<c;++_)m=i[_],g=o[_],m==null&&g!=="count"&&F("Null aggregate field specified."),E=x(m),k=Df(g,E,u[_]),n.push(k),g!=="count"?(v=f[E],v||(r(m),v=f[E]=[],v.field=m,this._measures.push(v)),g!=="count"&&(this._countOnly=!1),v.push(ym(g,k))):this._counts.push(k);return this._measures=this._measures.map(R=>wm(R,R.field)),Object.create(null)},cellkey:du(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){let n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){let a=this._measures,r=a.length;n.agg=Array(r);for(let i=0;i<r;++i)n.agg[i]=new a[i](n)}return n.store&&(n.data=new _m),n},newtuple(e,t){let n=this._dnames,a=this._dims,r=a.length,i={};for(let o=0;o<r;++o)i[n[o]]=a[o](e);return t?ru(t.tuple,i):Rt(i)},clean(){let e=this.value;for(let t in e)e[t].num===0&&delete e[t]},add(e){let t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);let a=n.agg;for(let r=0,i=a.length;r<i;++r)a[r].add(a[r].get(e),e)},rem(e){let t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);let a=n.agg;for(let r=0,i=a.length;r<i;++r)a[r].rem(a[r].get(e),e)},celltuple(e){let t=e.tuple,n=this._counts;e.store&&e.data.values();for(let a=0,r=n.length;a<r;++a)t[n[a]]=e.num;if(!this._countOnly){let a=e.agg;for(let r=0,i=a.length;r<i;++r)a[r].set(t)}return t},changes(e){let t=this._adds,n=this._mods,a=this._prev,r=this._drop,i=e.add,o=e.rem,u=e.mod,c,f,m,g;if(a)for(f in a)c=a[f],r&&!c.num||o.push(c.tuple);for(m=0,g=this._alen;m<g;++m)i.push(this.celltuple(t[m])),t[m]=null;for(m=0,g=this._mlen;m<g;++m)c=n[m],(c.num===0&&r?o:u).push(this.celltuple(c)),n[m]=null;return this._alen=this._mlen=0,this._prev=null,e}});function Ac(e){xe.call(this,null,e)}function km(e,t,n){let a=e,r=t||[],i=n||[],o={},u=0;return{add:c=>i.push(c),remove:c=>o[a(c)]=++u,size:()=>r.length,data:(c,f)=>(u&&(r=r.filter(m=>!o[a(m)]),o={},u=0),f&&c&&r.sort(c),i.length&&(r=c?Fs(c,r,i.sort(c)):r.concat(i),i=[]),r)}}function Mf(e){xe.call(this,[],e)}function xm(e){Vt.call(this,null,fy,e)}function fy(e){return this.value&&!e.modified()?this.value:Ml(e.fields,e.orders)}function Sm(e){xe.call(this,null,e)}function Lf(e){xe.call(this,null,e)}Ac.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Me(Ac,xe,{transform(e,t){let n=e.interval!==!1,a=this._bins(e),r=a.start,i=a.step,o=e.as||["bin0","bin1"],u=o[0],c=o[1],f;return f=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(T(e.field))?t.ADD_MOD:t.ADD,t.visit(f,n?m=>{let g=a(m);m[u]=g,m[c]=g==null?null:r+i*(1+(g-r)/i)}:m=>m[u]=a(m)),t.modifies(n?o:u)},_bins(e){if(this.value&&!e.modified())return this.value;let t=e.field,n=sm(e),a=n.step,r,i,o=n.start,u=o+Math.ceil((n.stop-o)/a)*a;(r=e.anchor)!=null&&(i=r-(o+a*Math.floor((r-o)/a)),o+=i,u+=i);let c=function(f){let m=De(t(f));return m==null?null:m<o?-1/0:m>u?1/0:(m=Math.max(o,Math.min(m,u-a)),o+a*Math.floor(1e-14+(m-o)/a))};return c.start=o,c.stop=n.stop,c.step=a,this.value=b(c,T(t),e.name||"bin_"+x(t))}}),Mf.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Me(Mf,xe,{transform(e,t){let n=t.fork(t.ALL),a=km(at,this.value,n.materialize(n.ADD).add),r=e.sort,i=t.changed()||r&&(e.modified("sort")||t.modified(r.fields));return n.visit(n.REM,a.remove),this.modified(i),this.value=n.source=a.data(os(r),i),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Me(xm,Vt),Sm.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Me(Sm,xe,{transform(e,t){let n=g=>v=>{for(var E,k=function(O,N,$){switch(N){case"upper":O=O.toUpperCase();break;case"lower":O=O.toLowerCase()}return O.match($)}(u(v),e.case,i)||[],_=0,R=k.length;_<R;++_)o.test(E=k[_])||g(E)},a=this._parameterCheck(e,t),r=this._counts,i=this._match,o=this._stop,u=e.field,c=e.as||["text","count"],f=n(g=>r[g]=1+(r[g]||0)),m=n(g=>r[g]-=1);return a?t.visit(t.SOURCE,f):(t.visit(t.ADD,f),t.visit(t.REM,m)),this._finish(t,c)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){let n=this._counts,a=this._tuples||(this._tuples={}),r=t[0],i=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS),u,c,f;for(u in n)c=a[u],f=n[u]||0,!c&&f?(a[u]=c=Rt({}),c[r]=u,c[i]=f,o.add.push(c)):f===0?(c&&o.rem.push(c),n[u]=null,a[u]=null):c[i]!==f&&(c[i]=f,o.mod.push(c));return o.modifies(t)}}),Lf.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Me(Lf,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE),a=e.as||["a","b"],r=a[0],i=a[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),u=this.value;return o?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=function(c,f,m,g){for(var v,E,k=[],_={},R=c.length,O=0;O<R;++O)for(_[f]=E=c[O],v=0;v<R;++v)_[m]=c[v],g(_)&&(k.push(Rt(_)),(_={})[f]=E);return k}(u,r,i,e.filter||Z)):n.mod=u,n.source=this.value,n.modifies(a)}});let Am={kde:dm,mixture:Cf,normal:cm,lognormal:Tf,uniform:Nf},Tm="distributions",Cm="function",H_="field";function py(e,t){let n=e[Cm];et(Am,n)||F("Unknown distribution function: "+n);let a=Am[n]();for(let r in e)r===H_?a.data((e.from||t()).map(e[r])):r===Tm?a[r](e[r].map(i=>py(i,t))):typeof a[r]===Cm&&a[r](e[r]);return a}function Rm(e){xe.call(this,null,e)}let hy=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],q_={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:hy},{name:"weights",type:"number",array:!0}]};function my(e,t){return e?e.map((n,a)=>t[a]||x(n)):null}function Nm(e,t,n){let a=[],r=g=>g(c),i,o,u,c,f,m;if(t==null)a.push(e.map(n));else for(i={},o=0,u=e.length;o<u;++o)c=e[o],f=t.map(r),m=i[f],m||(i[f]=m=[],m.dims=f,a.push(m)),m.push(n(c));return a}Rm.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:hy.concat(q_)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Me(Rm,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let a=py(e.distribution,function(f){return()=>f.materialize(f.SOURCE).source}(t)),r=e.steps||e.minsteps||25,i=e.steps||e.maxsteps||200,o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&F("Invalid density method: "+o),e.extent||a.data||F("Missing density extent parameter."),o=a[o];let u=e.as||["value","density"],c=Of(o,e.extent||$n(a.data()),r,i).map(f=>{let m={};return m[u[0]]=f[0],m[u[1]]=f[1],Rt(m)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Im(e){xe.call(this,null,e)}Im.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function gy(e){Vt.call(this,null,W_,e),this.modified(!0)}function W_(e){let t=e.expr;return this.value&&!e.modified("expr")?this.value:b(n=>t(n,e),T(t),x(t))}function Ff(e){xe.call(this,[void 0,void 0],e)}function Om(e,t){Vt.call(this,e),this.parent=t,this.count=0}function Pf(e){xe.call(this,{},e),this._keys=ca();let t=this._targets=[];t.active=0,t.forEach=n=>{for(let a=0,r=t.active;a<r;++a)n(t[a],a,t)}}function by(e){Vt.call(this,null,V_,e)}function V_(e){return this.value&&!e.modified()?this.value:Ee(e.name)?Ce(e.name).map(t=>W(t)):W(e.name,e.as)}function Dm(e){xe.call(this,ca(),e)}function Mm(e){xe.call(this,[],e)}function $f(e){xe.call(this,[],e)}function Bf(e){xe.call(this,null,e)}function Lm(e){xe.call(this,[],e)}Me(Im,xe,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;let n=t.materialize(t.SOURCE).source,a=Nm(t.source,e.groupby,Q),r=e.smooth||!1,i=e.field,o=e.step||((k,_)=>Zr($n(k,_))/30)(n,i),u=os((k,_)=>i(k)-i(_)),c=e.as||"bin",f=a.length,m,g=1/0,v=-1/0,E=0;for(;E<f;++E){let k=a[E].sort(u);m=-1;for(let _ of xf(k,o,r,i))_<g&&(g=_),_>v&&(v=_),k[++m][c]=_}return this.value={start:g,stop:v,step:o},t.reflow(!0).modifies(c)}}),Me(gy,Vt),Ff.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Me(Ff,xe,{transform(e,t){let n=this.value,a=e.field,r=t.changed()||t.modified(a.fields)||e.modified("field"),i=n[0],o=n[1];if((r||i==null)&&(i=1/0,o=-1/0),t.visit(r?t.SOURCE:t.ADD,u=>{let c=De(a(u));c!=null&&(c<i&&(i=c),c>o&&(o=c))}),!Number.isFinite(i)||!Number.isFinite(o)){let u=x(a);u&&(u=` for field "${u}"`),t.dataflow.warn(`Infinite extent${u}: [${i}, ${o}]`),i=o=void 0}this.value=[i,o]}}),Me(Om,Vt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),Me(Pf,xe,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,a){let r=this.value,i,o,u=et(r,e)&&r[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(o=a||(o=this._group[e])&&o.tuple,i=n.dataflow,u=new Om(n.fork(n.NO_SOURCE),this),i.add(u).connect(t(i,e,o)),r[e]=u,this.activate(u)),u},clean(){let e=this.value,t=0;for(let n in e)if(e[n].count===0){let a=e[n].detachSubflow;a&&a(),delete e[n],++t}if(t){let n=this._targets.filter(a=>a&&a.count>0);this.initTargets(n)}},initTargets(e){let t=this._targets,n=t.length,a=e?e.length:0,r=0;for(;r<a;++r)t[r]=e[r];for(;r<n&&t[r]!=null;++r)t[r]=null;t.active=a},transform(e,t){let n=t.dataflow,a=e.key,r=e.subflow,i=this._keys,o=e.modified("key"),u=c=>this.subflow(c,r,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,c=>{let f=at(c),m=i.get(f);m!==void 0&&(i.delete(f),u(m).rem(c))}),t.visit(t.ADD,c=>{let f=a(c);i.set(at(c),f),u(f).add(c)}),o||t.modified(a.fields)?t.visit(t.MOD,c=>{let f=at(c),m=i.get(f),g=a(c);m===g?u(g).mod(c):(i.set(f,g),u(m).rem(c),u(g).add(c))}):t.changed(t.MOD)&&t.visit(t.MOD,c=>{u(i.get(at(c))).mod(c)}),o&&t.visit(t.REFLOW,c=>{let f=at(c),m=i.get(f),g=a(c);m!==g&&(i.set(f,g),u(m).rem(c),u(g).add(c))}),t.clean()?n.runAfter(()=>{this.clean(),i.clean()}):i.empty>n.cleanThreshold&&n.runAfter(i.clean),t}}),Me(by,Vt),Dm.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Me(Dm,xe,{transform(e,t){let n=t.dataflow,a=this.value,r=t.fork(),i=r.add,o=r.rem,u=r.mod,c=e.expr,f=!0;function m(g){let v=at(g),E=c(g,e),k=a.get(v);E&&k?(a.delete(v),i.push(g)):E||k?f&&E&&!k&&u.push(g):(a.set(v,1),o.push(g))}return t.visit(t.REM,g=>{let v=at(g);a.has(v)?a.delete(v):o.push(g)}),t.visit(t.ADD,g=>{c(g,e)?i.push(g):a.set(at(g),1)}),t.visit(t.MOD,m),e.modified()&&(f=!1,t.visit(t.REFLOW,m)),a.empty>n.cleanThreshold&&n.runAfter(a.clean),r}}),Mm.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Me(Mm,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE),a=e.fields,r=my(a,e.as||[]),i=e.index||null,o=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{let c=a.map(k=>k(u)),f=c.reduce((k,_)=>Math.max(k,_.length),0),m,g,v,E=0;for(;E<f;++E){for(g=au(u),m=0;m<o;++m)g[r[m]]=(v=c[m][E])==null?null:v;i&&(g[i]=E),n.add.push(g)}}),this.value=n.source=n.add,i&&n.modifies(i),n.modifies(r)}}),$f.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Me($f,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE),a=e.fields,r=a.map(x),i=e.as||["key","value"],o=i[0],u=i[1],c=a.length;return n.rem=this.value,t.visit(t.SOURCE,f=>{for(let m,g=0;g<c;++g)m=au(f),m[o]=r[g],m[u]=a[g](f),n.add.push(m)}),this.value=n.source=n.add,n.modifies(i)}}),Bf.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Me(Bf,xe,{transform(e,t){let n=e.expr,a=e.as,r=e.modified(),i=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(a)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(a),t.visit(i,o=>o[a]=n(o,e))}}),Me(Lm,xe,{transform(e,t){let n=t.fork(t.ALL),a=e.generator,r,i,o,u=this.value,c=e.size-u.length;if(c>0){for(r=[];--c>=0;)r.push(o=Rt(a(e))),u.push(o);n.add=n.add.length?n.materialize(n.ADD).add.concat(r):r}else i=u.slice(0,-c),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(i):i,u=u.slice(-c);return n.source=this.value=u,n}});let fu={value:"value",median:Ju,mean:function(e,t){let n=0,a=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(++n,a+=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&(++n,a+=i)}if(n)return a/n},min:Xu,max:$s},Fm=[];function Pm(e){xe.call(this,[],e)}function Uf(e){Bi.call(this,e)}function $m(e){xe.call(this,null,e)}function yy(e){Vt.call(this,null,Y_,e)}function Y_(e){return this.value&&!e.modified()?this.value:ki(e.fields,e.flat)}function Bm(e){xe.call(this,[],e),this._pending=null}function Um(e,t,n){n.forEach(Rt);let a=t.fork(t.NO_FIELDS&t.NO_SOURCE);return a.rem=e.value,e.value=a.source=a.add=n,e._pending=null,a.rem.length&&a.clean(!0),a}function zf(e){xe.call(this,{},e)}function Ui(e){Vt.call(this,null,zi,e)}function zi(e){if(this.value&&!e.modified())return this.value;let t=e.extents,n=t.length,a,r,i=1/0,o=-1/0;for(a=0;a<n;++a)r=t[a],r[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function Lr(e){Vt.call(this,null,vy,e)}function vy(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function Tc(e){xe.call(this,null,e)}function Gi(e){Bi.call(this,e)}function Ey(e){Pf.call(this,e)}function cs(e){xe.call(this,null,e)}function pu(e){xe.call(this,null,e)}function Gf(e){xe.call(this,null,e)}Pm.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Me(Pm,xe,{transform(e,t){var n,a,r,i,o,u,c,f,m,g,v=t.fork(t.ALL),E=function(z){var q,Y=z.method||fu.value;if(fu[Y]!=null)return Y===fu.value?(q=z.value!==void 0?z.value:0,()=>q):fu[Y];F("Unrecognized imputation method: "+Y)}(e),k=function(z){let q=z.field;return Y=>Y?q(Y):NaN}(e),_=x(e.field),R=x(e.key),O=(e.groupby||[]).map(x),N=function(z,q,Y,K){var ne,X,ie,oe,le,ce,ve,_e,Ie=st=>st(_e),Be=[],je=K?K.slice():[],Oe={},ot={};for(je.forEach((st,mt)=>Oe[st]=mt+1),oe=0,ve=z.length;oe<ve;++oe)ce=Y(_e=z[oe]),le=Oe[ce]||(Oe[ce]=je.push(ce)),(ie=ot[X=(ne=q?q.map(Ie):Fm)+""])||(ie=ot[X]=[],Be.push(ie),ie.values=ne),ie[le-1]=_e;return Be.domain=je,Be}(t.source,e.groupby,e.key,e.keyvals),$=[],M=this.value,U=N.domain.length;for(o=0,f=N.length;o<f;++o)for(r=(n=N[o]).values,a=NaN,c=0;c<U;++c)if(n[c]==null){for(i=N.domain[c],g={_impute:!0},u=0,m=r.length;u<m;++u)g[O[u]]=r[u];g[R]=i,g[_]=Number.isNaN(a)?a=E(n,k):a,$.push(Rt(g))}return $.length&&(v.add=v.materialize(v.ADD).add.concat($)),M.length&&(v.rem=v.materialize(v.REM).rem.concat(M)),this.value=$,v}}),Uf.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:$i},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Me(Uf,Bi,{transform(e,t){let n=this,a=e.modified(),r;return n.value&&(a||t.modified(n._inputs,!0))?(r=n.value=a?n.init(e):{},t.visit(t.SOURCE,i=>n.add(i))):(r=n.value=n.value||this.init(e),t.visit(t.REM,i=>n.rem(i)),t.visit(t.ADD,i=>n.add(i))),n.changes(),t.visit(t.SOURCE,i=>{pt(i,r[n.cellkey(i)].tuple)}),t.reflow(a).modifies(this._outputs)},changes(){let e=this._adds,t=this._mods,n,a;for(n=0,a=this._alen;n<a;++n)this.celltuple(e[n]),e[n]=null;for(n=0,a=this._mlen;n<a;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),$m.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Me($m,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let a=t.materialize(t.SOURCE).source,r=Nm(a,e.groupby,e.field),i=(e.groupby||[]).map(x),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",c=e.as||["value","density"],f=[],m=e.extent,g=e.steps||e.minsteps||25,v=e.steps||e.maxsteps||200;u!=="pdf"&&u!=="cdf"&&F("Invalid density method: "+u),e.resolve==="shared"&&(m||(m=$n(a,e.field)),g=v=e.steps||v),r.forEach(E=>{let k=dm(E,o)[u],_=e.counts?E.length:1;Of(k,m||$n(E),g,v).forEach(R=>{let O={};for(let N=0;N<i.length;++N)O[i[N]]=E.dims[N];O[c[0]]=R[0],O[c[1]]=R[1]*_,f.push(Rt(O))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}}),Me(yy,Vt),Me(Bm,xe,{transform(e,t){let n=t.dataflow;return this._pending?Um(this,t,this._pending):function(a){return a.modified("async")&&!(a.modified("values")||a.modified("url")||a.modified("format"))}(e)?t.StopPropagation:e.values?Um(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(r=>(this._pending=Ce(r.data),i=>i.touch(this)))}:n.request(e.url,e.format).then(a=>Um(this,t,Ce(a.data)))}}),zf.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Me(zf,xe,{transform(e,t){let n=e.fields,a=e.index,r=e.values,i=e.default==null?null:e.default,o=e.modified(),u=n.length,c,f,m,g=o?t.SOURCE:t.ADD,v=t,E=e.as;return r?(f=r.length,u>1&&!E&&F('Multi-field lookup requires explicit "as" parameter.'),E&&E.length!==u*f&&F('The "as" parameter has too few output field names.'),E=E||r.map(x),c=function(k){for(var _,R,O=0,N=0;O<u;++O)if((R=a.get(n[O](k)))==null)for(_=0;_<f;++_,++N)k[E[N]]=i;else for(_=0;_<f;++_,++N)k[E[N]]=r[_](R)}):(E||F("Missing output field names."),c=function(k){for(var _,R=0;R<u;++R)_=a.get(n[R](k)),k[E[R]]=_??i}),o?v=t.reflow(!0):(m=n.some(k=>t.modified(k.fields)),g|=m?t.MOD:0),t.visit(g,c),v.modifies(E)}}),Me(Ui,Vt),Me(Lr,Vt),Me(Tc,xe,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Gi.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:$i,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Me(Gi,Bi,{_transform:Bi.prototype.transform,transform(e,t){return this._transform(function(n,a){let r=n.field,i=n.value,o=(n.op==="count"?"__count__":n.op)||"sum",u=T(r).concat(T(i)),c=function(f,m,g){let v={},E=[];return g.visit(g.SOURCE,k=>{let _=f(k);v[_]||(v[_]=1,E.push(_))}),E.sort(Jt),m?E.slice(0,m):E}(r,n.limit||0,a);return a.changed()&&n.set("__pivot__",null,null,!0),{key:n.key,groupby:n.groupby,ops:c.map(()=>o),fields:c.map(f=>function(m,g,v,E){return b(k=>g(k)===m?v(k):NaN,E,m+"")}(f,r,i,u)),as:c.map(f=>f+""),modified:n.modified.bind(n)}}(e,t),t)}}),Me(Ey,Pf,{transform(e,t){let n=e.subflow,a=e.field,r=i=>this.subflow(at(i),n,t,i);return(e.modified("field")||a&&t.modified(T(a)))&&F("PreFacet does not support field modification."),this.initTargets(),a?(t.visit(t.MOD,i=>{let o=r(i);a(i).forEach(u=>o.mod(u))}),t.visit(t.ADD,i=>{let o=r(i);a(i).forEach(u=>o.add(Rt(u)))}),t.visit(t.REM,i=>{let o=r(i);a(i).forEach(u=>o.rem(u))})):(t.visit(t.MOD,i=>r(i).mod(i)),t.visit(t.ADD,i=>r(i).add(i)),t.visit(t.REM,i=>r(i).rem(i))),t.clean()&&t.runAfter(()=>this.clean()),t}}),cs.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Me(cs,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE),a=e.fields,r=my(e.fields,e.as||[]),i=a?(u,c)=>function(f,m,g,v){for(let E=0,k=g.length;E<k;++E)m[v[E]]=g[E](f);return m}(u,c,a,r):pc,o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,u=>{let c=at(u);n.rem.push(o[c]),o[c]=null}),t.visit(t.ADD,u=>{let c=i(u,Rt({}));o[at(u)]=c,n.add.push(c)}),t.visit(t.MOD,u=>{n.mod.push(i(u,o[at(u)]))}),n}}),Me(pu,xe,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),Gf.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function bo(e){xe.call(this,null,e)}function jf(e){xe.call(this,[],e),this.count=0}function Hf(e){xe.call(this,null,e)}function qf(e){xe.call(this,null,e),this.modified(!0)}function tn(e){xe.call(this,null,e)}Me(Gf,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;let r=Nm(t.materialize(t.SOURCE).source,e.groupby,e.field),i=(e.groupby||[]).map(x),o=[],u=e.step||.01,c=e.probs||Zn(u/2,1-1e-14,u),f=c.length;return r.forEach(m=>{let g=im(m,c);for(let v=0;v<f;++v){let E={};for(let k=0;k<i.length;++k)E[i[k]]=m.dims[k];E[a[0]]=c[v],E[a[1]]=g[v],o.push(Rt(E))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}}),Me(bo,xe,{transform(e,t){let n,a;return this.value?a=this.value:(n=t=t.addAll(),a=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,r=>{let i=at(r);n.rem.push(a[i]),a[i]=null}),t.visit(t.ADD,r=>{let i=au(r);a[at(r)]=i,n.add.push(i)}),t.visit(t.MOD,r=>{let i=a[at(r)];for(let o in r)i[o]=r[o],n.modifies(o);n.mod.push(i)})),n}}),jf.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Me(jf,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE),a=e.modified("size"),r=e.size,i=this.value.reduce((m,g)=>(m[at(g)]=1,m),{}),o=this.value,u=this.count,c=0;function f(m){let g,v;o.length<r?o.push(m):(v=~~((u+1)*p.random()),v<o.length&&v>=c&&(g=o[v],i[at(g)]&&n.rem.push(g),o[v]=m)),++u}if(t.rem.length&&(t.visit(t.REM,m=>{let g=at(m);i[g]&&(i[g]=-1,n.rem.push(m)),--u}),o=o.filter(m=>i[at(m)]!==-1)),(t.rem.length||a)&&o.length<r&&t.source&&(c=u=o.length,t.visit(t.SOURCE,m=>{i[at(m)]||f(m)}),c=-1),a&&o.length>r){let m=o.length-r;for(let g=0;g<m;++g)i[at(o[g])]=-1,n.rem.push(o[g]);o=o.slice(m)}return t.mod.length&&t.visit(t.MOD,m=>{i[at(m)]&&n.mod.push(m)}),t.add.length&&t.visit(t.ADD,f),(t.add.length||c<0)&&(n.add=o.filter(m=>!i[at(m)])),this.count=u,this.value=n.source=o,n}}),Hf.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Me(Hf,xe,{transform(e,t){if(this.value&&!e.modified())return;let n=t.materialize().fork(t.MOD),a=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Zn(e.start,e.stop,e.step||1).map(r=>{let i={};return i[a]=r,Rt(i)}),n.add=t.add.concat(this.value),n}}),Me(qf,xe,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});let zm=["unit0","unit1"];function ds(e){xe.call(this,ca(),e)}function wy(e){xe.call(this,null,e)}tn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Bd,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:zm}]},Me(tn,xe,{transform(e,t){let n=e.field,a=e.interval!==!1,r=e.timezone==="utc",i=this._floor(e,t),o=(r?Dr:ts)(i.unit).offset,u=e.as||zm,c=u[0],f=u[1],m=i.step,g=i.start||1/0,v=i.stop||-1/0,E=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(T(n)))&&(E=(t=t.reflow(!0)).SOURCE,g=1/0,v=-1/0),t.visit(E,k=>{let _=n(k),R,O;_==null?(k[c]=null,a&&(k[f]=null)):(k[c]=R=O=i(_),a&&(k[f]=O=o(R,m)),R<g&&(g=R),O>v&&(v=O))}),i.start=g,i.stop=v,t.modifies(a?u:c)},_floor(e,t){let n=e.timezone==="utc",{units:a,step:r}=e.units?{units:e.units,step:e.step||1}:ni({extent:e.extent||$n(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=Ud(a),o=this.value||{},u=(n?qd:O0)(i,r);return u.unit=Pe(i),u.units=i,u.step=r,u.start=o.start,u.stop=o.stop,this.value=u}}),Me(ds,xe,{transform(e,t){let n=t.dataflow,a=e.field,r=this.value,i=u=>r.set(a(u),u),o=!0;return e.modified("field")||t.modified(a.fields)?(r.clear(),t.visit(t.SOURCE,i)):t.changed()?(t.visit(t.REM,u=>r.delete(a(u))),t.visit(t.ADD,i)):o=!1,this.modified(o),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),Me(wy,xe,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(os(e.sort)):t.source).map(e.field))}});let Cc={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,a=t.data;return n&&t.compare(a[n-1],a[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,a=t.data;return n&&t.compare(a[n-1],a[n])?++e:e}}},percent_rank:function(){let e=Cc.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let n=t.data,a=t.compare,r=t.index;if(e<r){for(;r+1<n.length&&!a(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||F("ntile num must be greater than zero.");let n=Cc.cume_dist(),a=n.next;return{init:n.init,next:r=>Math.ceil(t*a(r))}},lag:function(e,t){return t=+t||1,{next:n=>{let a=n.index-t;return a>=0?e(n.data[a]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{let a=n.index+t,r=n.data;return a<r.length?e(r[a]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||F("nth_value nth must be greater than zero."),{next:n=>{let a=n.i0+(t-1);return a<n.i1?e(n.data[a]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{let a=e(n.data[n.index]);return a!=null?t=a:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:a=>{let r=a.data;return a.index<=n?t:(n=function(i,o,u){for(let c=o.length;u<c;++u)if(i(o[u])!=null)return u;return-1}(e,r,a.index))<0?(n=r.length,t=null):t=e(r[n])}}}},_y=Object.keys(Cc);function Wf(e){let t=Ce(e.ops),n=Ce(e.fields),a=Ce(e.params),r=Ce(e.as),i=this.outputs=[],o=this.windows=[],u={},c={},f=[],m=[],g=!0;function v(E){Ce(T(E)).forEach(k=>u[k]=1)}v(e.sort),t.forEach((E,k)=>{let _=n[k],R=x(_),O=Df(E,R,r[k]);if(v(_),i.push(O),et(Cc,E))o.push(function(N,$,M,U){let z=Cc[N]($,M);return{init:z.init||ae,update:function(q,Y){Y[U]=z.next(q)}}}(E,n[k],a[k],O));else{if(_==null&&E!=="count"&&F("Null aggregate field specified."),E==="count")return void f.push(O);g=!1;let N=c[R];N||(N=c[R]=[],N.field=_,m.push(N)),N.push(ym(E,O))}}),(f.length||m.length)&&(this.cell=function(E,k,_){E=E.map(U=>wm(U,U.field));let R={num:0,agg:null,store:!1,count:k};if(!_)for(var O=E.length,N=R.agg=Array(O),$=0;$<O;++$)N[$]=new E[$](R);if(R.store)var M=R.data=new _m;return R.add=function(U){if(R.num+=1,!_){M&&M.add(U);for(let z=0;z<O;++z)N[z].add(N[z].get(U),U)}},R.rem=function(U){if(R.num-=1,!_){M&&M.rem(U);for(let z=0;z<O;++z)N[z].rem(N[z].get(U),U)}},R.set=function(U){let z,q;for(M&&M.values(),z=0,q=k.length;z<q;++z)U[k[z]]=R.num;if(!_)for(z=0,q=N.length;z<q;++z)N[z].set(U)},R.init=function(){R.num=0,M&&M.reset();for(let U=0;U<O;++U)N[U].init()},R}(m,f,g)),this.inputs=Object.keys(u)}let Ht=Wf.prototype;function aa(e){xe.call(this,{},e),this._mlen=0,this._mods=[]}function Gm(e,t,n,a){let r=a.sort,i=r&&!a.ignorePeers,o=a.frame||[null,0],u=e.data(n),c=u.length,f=i?or(r):null,m={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:r||dn(-1)};t.init();for(let g=0;g<c;++g)ky(m,o,g,c),i&&ji(m,f),t.update(m,u[g])}function ky(e,t,n,a){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?a:Math.min(a,n+Math.abs(t[1])+1),e.index=n}function ji(e,t){let n=e.i0,a=e.i1-1,r=e.compare,i=e.data,o=i.length-1;n>0&&!r(i[n],i[n-1])&&(e.i0=t.left(i,i[n])),a<o&&!r(i[a],i[a+1])&&(e.i1=t.right(i,i[a]))}Ht.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},Ht.update=function(e,t){let n=this.cell,a=this.windows,r=e.data,i=a&&a.length,o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(r[o]);for(o=e.p1;o<e.i1;++o)n.add(r[o]);n.set(t)}for(o=0;o<i;++o)a[o].update(e,t)},aa.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:_y.concat($i)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Me(aa,xe,{transform(e,t){this.stamp=t.stamp;let n=e.modified(),a=os(e.sort),r=du(e.groupby),i=u=>this.group(r(u)),o=this.state;o&&!n||(o=this.state=new Wf(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,u=>i(u).add(u))):(t.visit(t.REM,u=>i(u).remove(u)),t.visit(t.ADD,u=>i(u).add(u)));for(let u=0,c=this._mlen;u<c;++u)Gm(this._mods[u],o,a,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=km(at),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});var Vf=Object.freeze({__proto__:null,aggregate:Bi,bin:Ac,collect:Mf,compare:xm,countpattern:Sm,cross:Lf,density:Rm,dotbin:Im,expression:gy,extent:Ff,facet:Pf,field:by,filter:Dm,flatten:Mm,fold:$f,formula:Bf,generate:Lm,impute:Pm,joinaggregate:Uf,kde:$m,key:yy,load:Bm,lookup:zf,multiextent:Ui,multivalues:Lr,params:Tc,pivot:Gi,prefacet:Ey,project:cs,proxy:pu,quantile:Gf,relay:bo,sample:jf,sequence:Hf,sieve:qf,subflow:Om,timeunit:tn,tupleindex:ds,values:wy,window:aa});function Ft(e){return function(){return e}}let jm=Math.abs,ra=Math.atan2,fs=Math.cos,Rc=Math.max,Hm=Math.min,Hi=Math.sin,Ta=Math.sqrt,jn=1e-12,Qs=Math.PI,yo=Qs/2,qm=2*Qs;function hu(e){return e>=1?yo:e<=-1?-yo:Math.asin(e)}let Yf=Math.PI,Wm=2*Yf,el=1e-6,mu=Wm-el;function Kf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let gu=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kf:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Kf;let a=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*a)/a+r[i]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,r,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+r},${this._y1=+i}`}arcTo(e,t,n,a,r){if(e=+e,t=+t,n=+n,a=+a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=this._x1,o=this._y1,u=n-e,c=a-t,f=i-e,m=o-t,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>el)if(Math.abs(m*u-c*f)>el&&r){let v=n-i,E=a-o,k=u*u+c*c,_=v*v+E*E,R=Math.sqrt(k),O=Math.sqrt(g),N=r*Math.tan((Yf-Math.acos((k+g-_)/(2*R*O)))/2),$=N/O,M=N/R;Math.abs($-1)>el&&this._append`L${e+$*f},${t+$*m}`,this._append`A${r},${r},0,0,${+(m*v>f*E)},${this._x1=e+M*u},${this._y1=t+M*c}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,a,r,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),c=e+o,f=t+u,m=1^i,g=i?a-r:r-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>el||Math.abs(this._y1-f)>el)&&this._append`L${c},${f}`,n&&(g<0&&(g=g%Wm+Wm),g>mu?this._append`A${n},${n},0,1,${m},${e-o},${t-u}A${n},${n},0,1,${m},${this._x1=c},${this._y1=f}`:g>el&&this._append`A${n},${n},0,${+(g>=Yf)},${m},${this._x1=e+n*Math.cos(r)},${this._y1=t+n*Math.sin(r)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function Nc(){return new gu}function Ic(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new gu(t)}function xy(e){return e.innerRadius}function K_(e){return e.outerRadius}function X_(e){return e.startAngle}function Z_(e){return e.endAngle}function Hn(e){return e&&e.padAngle}function Oc(e,t,n,a,r,i,o){var u=e-n,c=t-a,f=(o?i:-i)/Ta(u*u+c*c),m=f*c,g=-f*u,v=e+m,E=t+g,k=n+m,_=a+g,R=(v+k)/2,O=(E+_)/2,N=k-v,$=_-E,M=N*N+$*$,U=r-i,z=v*_-k*E,q=($<0?-1:1)*Ta(Rc(0,U*U*M-z*z)),Y=(z*$-N*q)/M,K=(-z*N-$*q)/M,ne=(z*$+N*q)/M,X=(-z*N+$*q)/M,ie=Y-R,oe=K-O,le=ne-R,ce=X-O;return ie*ie+oe*oe>le*le+ce*ce&&(Y=ne,K=X),{cx:Y,cy:K,x01:-m,y01:-g,x11:Y*(r/U-1),y11:K*(r/U-1)}}function Sy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bu(e){this._context=e}function qn(e){return new bu(e)}function Xf(e){return e[0]}function Ay(e){return e[1]}function Ty(e,t){var n=Ft(!0),a=null,r=qn,i=null,o=Ic(u);function u(c){var f,m,g,v=(c=Sy(c)).length,E=!1;for(a==null&&(i=r(g=o())),f=0;f<=v;++f)!(f<v&&n(m=c[f],f,c))===E&&((E=!E)?i.lineStart():i.lineEnd()),E&&i.point(+e(m,f,c),+t(m,f,c));if(g)return i=null,g+""||null}return e=typeof e=="function"?e:e===void 0?Xf:Ft(e),t=typeof t=="function"?t:t===void 0?Ay:Ft(t),u.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ft(!!c),u):n},u.curve=function(c){return arguments.length?(r=c,a!=null&&(i=r(a)),u):r},u.context=function(c){return arguments.length?(c==null?a=i=null:i=r(a=c),u):a},u}function Vm(e,t,n){var a=null,r=Ft(!0),i=null,o=qn,u=null,c=Ic(f);function f(g){var v,E,k,_,R,O=(g=Sy(g)).length,N=!1,$=new Array(O),M=new Array(O);for(i==null&&(u=o(R=c())),v=0;v<=O;++v){if(!(v<O&&r(_=g[v],v,g))===N)if(N=!N)E=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),k=v-1;k>=E;--k)u.point($[k],M[k]);u.lineEnd(),u.areaEnd()}N&&($[v]=+e(_,v,g),M[v]=+t(_,v,g),u.point(a?+a(_,v,g):$[v],n?+n(_,v,g):M[v]))}if(R)return u=null,R+""||null}function m(){return Ty().defined(r).curve(o).context(i)}return e=typeof e=="function"?e:e===void 0?Xf:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ay:Ft(+n),f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Ft(+g),a=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Ft(+g),f):e},f.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Ft(+g),f):a},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Ft(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Ft(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ft(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(g){return arguments.length?(r=typeof g=="function"?g:Ft(!!g),f):r},f.curve=function(g){return arguments.length?(o=g,i!=null&&(u=o(i)),f):o},f.context=function(g){return arguments.length?(g==null?i=u=null:u=o(i=g),f):i},f}Nc.prototype=gu.prototype,bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Zf={draw(e,t){let n=Ta(t/Qs);e.moveTo(n,0),e.arc(0,0,n,0,qm)}};function vo(){}function tl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function si(e){this._context=e}function Cy(e){this._context=e}function Ym(e){this._context=e}function Km(e,t){this._basis=new si(e),this._beta=t}si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Cy.prototype={areaStart:vo,areaEnd:vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:tl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Km.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var a,r=e[0],i=t[0],o=e[n]-r,u=t[n]-i,c=-1;++c<=n;)a=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(r+a*o),this._beta*t[c]+(1-this._beta)*(i+a*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var J_=function e(t){function n(a){return t===1?new si(a):new Km(a,t)}return n.beta=function(a){return e(+a)},n}(.85);function Ca(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Jf(e,t){this._context=e,this._k=(1-t)/6}Jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ca(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ca(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Q_=function e(t){function n(a){return new Jf(a,t)}return n.tension=function(a){return e(+a)},n}(0);function Dc(e,t){this._context=e,this._k=(1-t)/6}Dc.prototype={areaStart:vo,areaEnd:vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ca(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ry=function e(t){function n(a){return new Dc(a,t)}return n.tension=function(a){return e(+a)},n}(0);function Mc(e,t){this._context=e,this._k=(1-t)/6}Mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ca(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ny=function e(t){function n(a){return new Mc(a,t)}return n.tension=function(a){return e(+a)},n}(0);function Qf(e,t,n){var a=e._x1,r=e._y1,i=e._x2,o=e._y2;if(e._l01_a>jn){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);a=(a*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,r=(r*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>jn){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*f+e._x1*e._l23_2a-t*e._l12_2a)/m,o=(o*f+e._y1*e._l23_2a-n*e._l12_2a)/m}e._context.bezierCurveTo(a,r,i,o,e._x2,e._y2)}function Lc(e,t){this._context=e,this._alpha=t}Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Qf(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Iy=function e(t){function n(a){return t?new Lc(a,t):new Jf(a,0)}return n.alpha=function(a){return e(+a)},n}(.5);function Oy(e,t){this._context=e,this._alpha=t}Oy.prototype={areaStart:vo,areaEnd:vo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Qf(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Dy=function e(t){function n(a){return t?new Oy(a,t):new Dc(a,0)}return n.alpha=function(a){return e(+a)},n}(.5);function Xm(e,t){this._context=e,this._alpha=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qf(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var My=function e(t){function n(a){return t?new Xm(a,t):new Mc(a,0)}return n.alpha=function(a){return e(+a)},n}(.5);function Ly(e){this._context=e}function Zm(e){return e<0?-1:1}function Jm(e,t,n){var a=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(a||r<0&&-0),o=(n-e._y1)/(r||a<0&&-0),u=(i*r+o*a)/(a+r);return(Zm(i)+Zm(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function Qm(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function eg(e,t,n){var a=e._x0,r=e._y0,i=e._x1,o=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,r+u*t,i-u,o-u*n,i,o)}function Fc(e){this._context=e}function ps(e){this._context=new Eo(e)}function Eo(e){this._context=e}function Fy(e){this._context=e}function tg(e){var t,n,a=e.length-1,r=new Array(a),i=new Array(a),o=new Array(a);for(r[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,i[a-1]=7,o[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(r[a-1]=o[a-1]/i[a-1],t=a-2;t>=0;--t)r[t]=(o[t]-r[t+1])/i[t];for(i[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function nl(e,t){this._context=e,this._t=t}function Ha(e,t){if(typeof document<"u"&&document.createElement){let n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}Ly.prototype={areaStart:vo,areaEnd:vo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eg(this,this._t0,Qm(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,eg(this,Qm(this,n=Jm(this,e,t)),n);break;default:eg(this,this._t0,n=Jm(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ps.prototype=Object.create(Fc.prototype)).point=function(e,t){Fc.prototype.point.call(this,t,e)},Eo.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,i){this._context.bezierCurveTo(t,e,a,n,i,r)}},Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=tg(e),r=tg(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],r[0][i],a[1][i],r[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};let ng=()=>typeof Image<"u"?Image:null;function li(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:typeof e=="function"?this.interpolator(e):this.range(e);break;default:this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t)}return this}let ep=Symbol("implicit");function tp(){var e=new l_,t=[],n=[],a=ep;function r(i){let o=e.get(i);if(o===void 0){if(a!==ep)return a;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return r.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new l_;for(let o of i)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(i){return arguments.length?(n=Array.from(i),r):n.slice()},r.unknown=function(i){return arguments.length?(a=i,r):a},r.copy=function(){return tp(t,n).unknown(a)},li.apply(r,arguments),r}function ui(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yu(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function wo(){}var Wi=.7,hs=1/Wi,Vi="\\s*([+-]?\\d+)\\s*",vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e1=/^#([0-9a-f]{3,8})$/,ag=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),Py=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),rg=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${vu}\\)$`),$y=new RegExp(`^rgba\\(${ci},${ci},${ci},${vu}\\)$`),By=new RegExp(`^hsl\\(${vu},${ci},${ci}\\)$`),Uy=new RegExp(`^hsla\\(${vu},${ci},${ci},${vu}\\)$`),al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rl(){return this.rgb().formatHex()}function Pc(){return this.rgb().formatRgb()}function Yi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$c(t):n===3?new On(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):n===8?Eu(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):n===4?Eu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ag.exec(e))?new On(t[1],t[2],t[3],1):(t=Py.exec(e))?new On(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rg.exec(e))?Eu(t[1],t[2],t[3],t[4]):(t=$y.exec(e))?Eu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=By.exec(e))?Gy(t[1],t[2]/100,t[3]/100,1):(t=Uy.exec(e))?Gy(t[1],t[2]/100,t[3]/100,t[4]):al.hasOwnProperty(e)?$c(al[e]):e==="transparent"?new On(NaN,NaN,NaN,0):null}function $c(e){return new On(e>>16&255,e>>8&255,255&e,1)}function Eu(e,t,n,a){return a<=0&&(e=t=n=NaN),new On(e,t,n,a)}function Bc(e){return e instanceof wo||(e=Yi(e)),e?new On((e=e.rgb()).r,e.g,e.b,e.opacity):new On}function ms(e,t,n,a){return arguments.length===1?Bc(e):new On(e,t,n,a??1)}function On(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function ig(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function zy(){let e=np(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function np(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return((e=_o(e))<16?"0":"")+e.toString(16)}function Gy(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fr(e,t,n,a)}function jy(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof wo||(e=Yi(e)),!e)return new fr;if(e instanceof fr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,u=i-r,c=(i+r)/2;return u?(o=t===i?(n-a)/u+6*(n<a):n===i?(a-t)/u+2:(t-n)/u+4,u/=c<.5?i+r:2-i-r,o*=60):u=c>0&&c<1?0:o,new fr(o,u,c,e.opacity)}function Uc(e,t,n,a){return arguments.length===1?jy(e):new fr(e,t,n,a??1)}function fr(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function zc(e){return(e=(e||0)%360)<0?e+360:e}function Gc(e){return Math.max(0,Math.min(1,e||0))}function ap(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}ui(wo,Yi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rl,formatHex:rl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return jy(this).formatHsl()},formatRgb:Pc,toString:Pc}),ui(On,ms,yu(wo,{brighter(e){return e=e==null?hs:Math.pow(hs,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wi:Math.pow(Wi,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new On(_o(this.r),_o(this.g),_o(this.b),np(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ig,formatHex:ig,formatHex8:function(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:zy,toString:zy})),ui(fr,Uc,yu(wo,{brighter(e){return e=e==null?hs:Math.pow(hs,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wi:Math.pow(Wi,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new On(ap(e>=240?e-240:e+120,r,a),ap(e,r,a),ap(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new fr(zc(this.h),Gc(this.s),Gc(this.l),np(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=np(this.opacity);return`${e===1?"hsl(":"hsla("}${zc(this.h)}, ${100*Gc(this.s)}%, ${100*Gc(this.l)}%${e===1?")":`, ${e})`}`}}));let og=Math.PI/180,sg=180/Math.PI,lg=.96422,rp=1,ug=.82521,Hy=4/29,ol=6/29,cg=3*ol*ol,dg=ol*ol*ol;function fg(e){if(e instanceof di)return new di(e.l,e.a,e.b,e.opacity);if(e instanceof ko)return mg(e);e instanceof On||(e=Bc(e));var t,n,a=op(e.r),r=op(e.g),i=op(e.b),o=pg((.2225045*a+.7168786*r+.0606169*i)/rp);return a===r&&r===i?t=n=o:(t=pg((.4360747*a+.3850649*r+.1430804*i)/lg),n=pg((.0139322*a+.0971045*r+.7141733*i)/ug)),new di(116*o-16,500*(t-o),200*(o-n),e.opacity)}function jc(e,t,n,a){return arguments.length===1?fg(e):new di(e,t,n,a??1)}function di(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function pg(e){return e>dg?Math.pow(e,1/3):e/cg+Hy}function hg(e){return e>ol?e*e*e:cg*(e-Hy)}function ip(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function op(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function sp(e,t,n,a){return arguments.length===1?function(r){if(r instanceof ko)return new ko(r.h,r.c,r.l,r.opacity);if(r instanceof di||(r=fg(r)),r.a===0&&r.b===0)return new ko(NaN,0<r.l&&r.l<100?0:NaN,r.l,r.opacity);var i=Math.atan2(r.b,r.a)*sg;return new ko(i<0?i+360:i,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}(e):new ko(e,t,n,a??1)}function ko(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function mg(e){if(isNaN(e.h))return new di(e.l,0,0,e.opacity);var t=e.h*og;return new di(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ui(di,jc,yu(wo,{brighter(e){return new di(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new di(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new On(ip(3.1338561*(t=lg*hg(t))-1.6168667*(e=rp*hg(e))-.4906146*(n=ug*hg(n))),ip(-.9787684*t+1.9161415*e+.033454*n),ip(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),ui(ko,sp,yu(wo,{brighter(e){return new ko(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new ko(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return mg(this).rgb()}}));var qy=-.14861,lp=1.78277,gg=-.29227,Hc=-.90649,qc=1.97294,bg=qc*Hc,yg=qc*lp,Wy=lp*gg-Hc*qy;function up(e,t,n,a){return arguments.length===1?function(r){if(r instanceof xo)return new xo(r.h,r.s,r.l,r.opacity);r instanceof On||(r=Bc(r));var i=r.r/255,o=r.g/255,u=r.b/255,c=(Wy*u+bg*i-yg*o)/(Wy+bg-yg),f=u-c,m=(qc*(o-c)-gg*f)/Hc,g=Math.sqrt(m*m+f*f)/(qc*c*(1-c)),v=g?Math.atan2(m,f)*sg-120:NaN;return new xo(v<0?v+360:v,g,c,r.opacity)}(e):new xo(e,t,n,a??1)}function xo(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function vg(e,t,n,a,r){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*a+o*r)/6}function fi(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[a],i=e[a+1],o=a>0?e[a-1]:2*r-i,u=a<t-1?e[a+2]:2*i-r;return vg((n-a/t)*t,o,r,i,u)}}function Vy(e){var t=e.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*t),r=e[(a+t-1)%t],i=e[a%t],o=e[(a+1)%t],u=e[(a+2)%t];return vg((n-a/t)*t,r,i,o,u)}}ui(xo,up,yu(wo,{brighter(e){return e=e==null?hs:Math.pow(hs,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wi:Math.pow(Wi,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*og,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new On(255*(t+n*(qy*a+lp*r)),255*(t+n*(gg*a+Hc*r)),255*(t+n*(qc*a)),this.opacity)}}));var qa=e=>()=>e;function sl(e,t){return function(n){return e+n*t}}function Wc(e,t){var n=t-e;return n?sl(e,n>180||n<-180?n-360*Math.round(n/360):n):qa(isNaN(e)?t:e)}function t1(e){return(e=+e)==1?Wn:function(t,n){return n-t?function(a,r,i){return a=Math.pow(a,i),r=Math.pow(r,i)-a,i=1/i,function(o){return Math.pow(a+o*r,i)}}(t,n,e):qa(isNaN(t)?n:t)}}function Wn(e,t){var n=t-e;return n?sl(e,n):qa(isNaN(e)?t:e)}var Vn=function e(t){var n=t1(t);function a(r,i){var o=n((r=ms(r)).r,(i=ms(i)).r),u=n(r.g,i.g),c=n(r.b,i.b),f=Wn(r.opacity,i.opacity);return function(m){return r.r=o(m),r.g=u(m),r.b=c(m),r.opacity=f(m),r+""}}return a.gamma=e,a}(1);function So(e){return function(t){var n,a,r=t.length,i=new Array(r),o=new Array(r),u=new Array(r);for(n=0;n<r;++n)a=ms(t[n]),i[n]=a.r||0,o[n]=a.g||0,u[n]=a.b||0;return i=e(i),o=e(o),u=e(u),a.opacity=1,function(c){return a.r=i(c),a.g=o(c),a.b=u(c),a+""}}}var Vc=So(fi),Yc=So(Vy);function Ao(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function cp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kc(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,i=new Array(r),o=new Array(a);for(n=0;n<r;++n)i[n]=gs(e[n],t[n]);for(;n<a;++n)o[n]=t[n];return function(u){for(n=0;n<r;++n)o[n]=i[n](u);return o}}function dp(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function ia(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fp(e,t){var n,a={},r={};for(n in e!==null&&typeof e=="object"||(e={}),t!==null&&typeof t=="object"||(t={}),t)n in e?a[n]=gs(e[n],t[n]):r[n]=t[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var Eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(Eg.source,"g");function Yy(e,t){var n,a,r,i=Eg.lastIndex=wg.lastIndex=0,o=-1,u=[],c=[];for(e+="",t+="";(n=Eg.exec(e))&&(a=wg.exec(t));)(r=a.index)>i&&(r=t.slice(i,r),u[o]?u[o]+=r:u[++o]=r),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,c.push({i:o,x:ia(n,a)})),i=wg.lastIndex;return i<t.length&&(r=t.slice(i),u[o]?u[o]+=r:u[++o]=r),u.length<2?c[0]?function(f){return function(m){return f(m)+""}}(c[0].x):function(f){return function(){return f}}(t):(t=c.length,function(f){for(var m,g=0;g<t;++g)u[(m=c[g]).i]=m.x(f);return u.join("")})}function gs(e,t){var n,a=typeof t;return t==null||a==="boolean"?qa(t):(a==="number"?ia:a==="string"?(n=Yi(t))?(t=n,Vn):Yy:t instanceof Yi?Vn:t instanceof Date?dp:cp(t)?Ao:Array.isArray(t)?Kc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fp:ia)(e,t)}function Xc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var pp,Ky=180/Math.PI,_g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xy(e,t,n,a,r,i){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*a)&&(n-=e*c,a-=t*c),(u=Math.sqrt(n*n+a*a))&&(n/=u,a/=u,c/=u),e*a<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Ky,skewX:Math.atan(c)*Ky,scaleX:o,scaleY:u}}function Zy(e,t,n,a){function r(i){return i.length?i.pop()+" ":""}return function(i,o){var u=[],c=[];return i=e(i),o=e(o),function(f,m,g,v,E,k){if(f!==g||m!==v){var _=E.push("translate(",null,t,null,n);k.push({i:_-4,x:ia(f,g)},{i:_-2,x:ia(m,v)})}else(g||v)&&E.push("translate("+g+t+v+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,c),function(f,m,g,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:g.push(r(g)+"rotate(",null,a)-2,x:ia(f,m)})):m&&g.push(r(g)+"rotate("+m+a)}(i.rotate,o.rotate,u,c),function(f,m,g,v){f!==m?v.push({i:g.push(r(g)+"skewX(",null,a)-2,x:ia(f,m)}):m&&g.push(r(g)+"skewX("+m+a)}(i.skewX,o.skewX,u,c),function(f,m,g,v,E,k){if(f!==g||m!==v){var _=E.push(r(E)+"scale(",null,",",null,")");k.push({i:_-4,x:ia(f,g)},{i:_-2,x:ia(m,v)})}else g===1&&v===1||E.push(r(E)+"scale("+g+","+v+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,c),i=o=null,function(f){for(var m,g=-1,v=c.length;++g<v;)u[(m=c[g]).i]=m.x(f);return u.join("")}}}var n1=Zy(function(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_g:Xy(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),ll=Zy(function(e){return e==null?_g:(pp||(pp=document.createElementNS("http://www.w3.org/2000/svg","g")),pp.setAttribute("transform",e),(e=pp.transform.baseVal.consolidate())?Xy((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_g)},", ",")",")"),To=1e-12;function ul(e){return((e=Math.exp(e))+1/e)/2}var kg=function e(t,n,a){function r(i,o){var u,c,f=i[0],m=i[1],g=i[2],v=o[0],E=o[1],k=o[2],_=v-f,R=E-m,O=_*_+R*R;if(O<To)c=Math.log(k/g)/t,u=function(q){return[f+q*_,m+q*R,g*Math.exp(t*q*c)]};else{var N=Math.sqrt(O),$=(k*k-g*g+a*O)/(2*g*n*N),M=(k*k-g*g-a*O)/(2*k*n*N),U=Math.log(Math.sqrt($*$+1)-$),z=Math.log(Math.sqrt(M*M+1)-M);c=(z-U)/t,u=function(q){var Y=q*c,K=ul(U),ne=g/(n*N)*(K*function(X){return((X=Math.exp(2*X))-1)/(X+1)}(t*Y+U)-function(X){return((X=Math.exp(X))-1/X)/2}(U));return[f+ne*_,m+ne*R,g*K/ul(t*Y+U)]}}return u.duration=1e3*c*t/Math.SQRT2,u}return r.rho=function(i){var o=Math.max(.001,+i),u=o*o;return e(o,u,u*u)},r}(Math.SQRT2,2,4);function xg(e){return function(t,n){var a=e((t=Uc(t)).h,(n=Uc(n)).h),r=Wn(t.s,n.s),i=Wn(t.l,n.l),o=Wn(t.opacity,n.opacity);return function(u){return t.h=a(u),t.s=r(u),t.l=i(u),t.opacity=o(u),t+""}}}var Sg=xg(Wc),hp=xg(Wn);function mp(e){return function(t,n){var a=e((t=sp(t)).h,(n=sp(n)).h),r=Wn(t.c,n.c),i=Wn(t.l,n.l),o=Wn(t.opacity,n.opacity);return function(u){return t.h=a(u),t.c=r(u),t.l=i(u),t.opacity=o(u),t+""}}}var pi=mp(Wc),Jy=mp(Wn);function Dn(e){return function t(n){function a(r,i){var o=e((r=up(r)).h,(i=up(i)).h),u=Wn(r.s,i.s),c=Wn(r.l,i.l),f=Wn(r.opacity,i.opacity);return function(m){return r.h=o(m),r.s=u(m),r.l=c(Math.pow(m,n)),r.opacity=f(m),r+""}}return n=+n,a.gamma=t,a}(1)}var Qy=Dn(Wc),a1=Dn(Wn);function Zc(e,t){t===void 0&&(t=e,e=gs);for(var n=0,a=t.length-1,r=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(r,r=t[++n]);return function(o){var u=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[u](o-u)}}var bs=Object.freeze({__proto__:null,interpolate:gs,interpolateArray:function(e,t){return(cp(t)?Ao:Kc)(e,t)},interpolateBasis:fi,interpolateBasisClosed:Vy,interpolateCubehelix:Qy,interpolateCubehelixLong:a1,interpolateDate:dp,interpolateDiscrete:function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},interpolateHcl:pi,interpolateHclLong:Jy,interpolateHsl:Sg,interpolateHslLong:hp,interpolateHue:function(e,t){var n=Wc(+e,+t);return function(a){var r=n(a);return r-360*Math.floor(r/360)}},interpolateLab:function(e,t){var n=Wn((e=jc(e)).l,(t=jc(t)).l),a=Wn(e.a,t.a),r=Wn(e.b,t.b),i=Wn(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=a(o),e.b=r(o),e.opacity=i(o),e+""}},interpolateNumber:ia,interpolateNumberArray:Ao,interpolateObject:fp,interpolateRgb:Vn,interpolateRgbBasis:Vc,interpolateRgbBasisClosed:Yc,interpolateRound:Xc,interpolateString:Yy,interpolateTransformCss:n1,interpolateTransformSvg:ll,interpolateZoom:kg,piecewise:Zc,quantize:function(e,t){for(var n=new Array(t),a=0;a<t;++a)n[a]=e(a/(t-1));return n}});function Jc(e){return+e}var ev=[0,1];function Ra(e){return e}function Qc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(n){return function(){return n}}(isNaN(t)?NaN:.5)}function r1(e,t,n){var a=e[0],r=e[1],i=t[0],o=t[1];return r<a?(a=Qc(r,a),i=n(o,i)):(a=Qc(a,r),i=n(i,o)),function(u){return i(a(u))}}function Ag(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)r[o]=Qc(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(u){var c=Ku(e,u,1,a)-1;return i[c](r[c](u))}}function ys(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ed(){var e,t,n,a,r,i,o=ev,u=ev,c=gs,f=Ra;function m(){var v=Math.min(o.length,u.length);return f!==Ra&&(f=function(E,k){var _;return E>k&&(_=E,E=k,k=_),function(R){return Math.max(E,Math.min(k,R))}}(o[0],o[v-1])),a=v>2?Ag:r1,r=i=null,g}function g(v){return v==null||isNaN(v=+v)?n:(r||(r=a(o.map(e),u,c)))(e(f(v)))}return g.invert=function(v){return f(t((i||(i=a(u,o.map(e),ia)))(v)))},g.domain=function(v){return arguments.length?(o=Array.from(v,Jc),m()):o.slice()},g.range=function(v){return arguments.length?(u=Array.from(v),m()):u.slice()},g.rangeRound=function(v){return u=Array.from(v),c=Xc,m()},g.clamp=function(v){return arguments.length?(f=!!v||Ra,m()):f!==Ra},g.interpolate=function(v){return arguments.length?(c=v,m()):c},g.unknown=function(v){return arguments.length?(n=v,g):n},function(v,E){return e=v,t=E,m()}}function Tg(){return ed()(Ra,Ra)}function Cg(e,t,n,a){var r,i=Ai(e,t,n);switch((a=Bl(a??",f")).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return a.precision!=null||isNaN(r=y0(i,o))||(a.precision=r),wh(a,o);case"":case"e":case"g":case"p":case"r":a.precision!=null||isNaN(r=v0(i,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-(a.type==="e"));break;case"f":case"%":a.precision!=null||isNaN(r=Ld(i))||(a.precision=r-2*(a.type==="%"))}return Rr(a)}function cl(e){var t=e.domain;return e.ticks=function(n){var a=t();return f0(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var r=t();return Cg(r[0],r[r.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a,r,i=t(),o=0,u=i.length-1,c=i[o],f=i[u],m=10;for(f<c&&(r=c,c=f,f=r,r=o,o=u,u=r);m-- >0;){if((r=p0(c,f,n))===a)return i[o]=c,i[u]=f,t(i);if(r>0)c=Math.floor(c/r)*r,f=Math.ceil(f/r)*r;else{if(!(r<0))break;c=Math.ceil(c*r)/r,f=Math.floor(f*r)/r}a=r}return e},e}function Rg(e,t){var n,a=0,r=(e=e.slice()).length-1,i=e[a],o=e[r];return o<i&&(n=a,a=r,r=n,n=i,i=o,o=n),e[a]=t.floor(i),e[r]=t.ceil(o),e}function tv(e){return Math.log(e)}function nv(e){return Math.exp(e)}function av(e){return-Math.log(-e)}function rv(e){return-Math.exp(-e)}function iv(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ng(e){return(t,n)=>-e(-t,n)}function gp(e){let t=e(tv,nv),n=t.domain,a,r,i=10;function o(){return a=function(u){return u===Math.E?Math.log:u===10&&Math.log10||u===2&&Math.log2||(u=Math.log(u),c=>Math.log(c)/u)}(i),r=function(u){return u===10?iv:u===Math.E?Math.exp:c=>Math.pow(u,c)}(i),n()[0]<0?(a=Ng(a),r=Ng(r),e(av,rv)):e(tv,nv),t}return t.base=function(u){return arguments.length?(i=+u,o()):i},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{let c=n(),f=c[0],m=c[c.length-1],g=m<f;g&&([f,m]=[m,f]);let v,E,k=a(f),_=a(m),R=u==null?10:+u,O=[];if(!(i%1)&&_-k<R){if(k=Math.floor(k),_=Math.ceil(_),f>0){for(;k<=_;++k)for(v=1;v<i;++v)if(E=k<0?v/r(-k):v*r(k),!(E<f)){if(E>m)break;O.push(E)}}else for(;k<=_;++k)for(v=i-1;v>=1;--v)if(E=k>0?v/r(-k):v*r(k),!(E<f)){if(E>m)break;O.push(E)}2*O.length<R&&(O=f0(f,m,R))}else O=f0(k,_,Math.min(_-k,R)).map(r);return g?O.reverse():O},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(i%1||(c=Bl(c)).precision!=null||(c.trim=!0),c=Rr(c)),u===1/0)return c;let f=Math.max(1,i*u/t.ticks().length);return m=>{let g=m/r(Math.round(a(m)));return g*i<i-.5&&(g*=i),g<=f?c(m):""}},t.nice=()=>n(Rg(n(),{floor:u=>r(Math.floor(a(u))),ceil:u=>r(Math.ceil(a(u)))})),t}function Ig(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Og(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bp(e){var t=1,n=e(Ig(t),Og(t));return n.constant=function(a){return arguments.length?e(Ig(t=+a),Og(t)):t},cl(n)}function Dg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ov(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sv(e){return e<0?-e*e:e*e}function Mg(e){var t=e(Ra,Ra),n=1;return t.exponent=function(a){return arguments.length?(n=+a)==1?e(Ra,Ra):n===.5?e(ov,sv):e(Dg(n),Dg(1/n)):n},cl(t)}function yp(){var e=Mg(ed());return e.copy=function(){return ys(e,yp()).exponent(e.exponent())},li.apply(e,arguments),e}function i1(e){return new Date(e)}function Lg(e){return e instanceof Date?+e:+new Date(+e)}function ln(e,t,n,a,r,i,o,u,c,f){var m=Tg(),g=m.invert,v=m.domain,E=f(".%L"),k=f(":%S"),_=f("%I:%M"),R=f("%I %p"),O=f("%a %d"),N=f("%b %d"),$=f("%B"),M=f("%Y");function U(z){return(c(z)<z?E:u(z)<z?k:o(z)<z?_:i(z)<z?R:a(z)<z?r(z)<z?O:N:n(z)<z?$:M)(z)}return m.invert=function(z){return new Date(g(z))},m.domain=function(z){return arguments.length?v(Array.from(z,Lg)):v().map(i1)},m.ticks=function(z){var q=v();return e(q[0],q[q.length-1],z??10)},m.tickFormat=function(z,q){return q==null?U:f(q)},m.nice=function(z){var q=v();return z&&typeof z.range=="function"||(z=t(q[0],q[q.length-1],z??10)),z?v(Rg(q,z)):m},m.copy=function(){return ys(m,ln(e,t,n,a,r,i,o,u,c,f))},m}function Wa(){var e,t,n,a,r,i=0,o=1,u=Ra,c=!1;function f(g){return g==null||isNaN(g=+g)?r:u(n===0?.5:(g=(a(g)-e)*n,c?Math.max(0,Math.min(1,g)):g))}function m(g){return function(v){var E,k;return arguments.length?([E,k]=v,u=g(E,k),f):[u(0),u(1)]}}return f.domain=function(g){return arguments.length?([i,o]=g,e=a(i=+i),t=a(o=+o),n=e===t?0:1/(t-e),f):[i,o]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(u=g,f):u},f.range=m(gs),f.rangeRound=m(Xc),f.unknown=function(g){return arguments.length?(r=g,f):r},function(g){return a=g,e=g(i),t=g(o),n=e===t?0:1/(t-e),f}}function Ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vs(){var e=cl(Wa()(Ra));return e.copy=function(){return Ki(e,vs())},qi.apply(e,arguments)}function td(){var e=Mg(Wa());return e.copy=function(){return Ki(e,td()).exponent(e.exponent())},qi.apply(e,arguments)}function nd(){var e,t,n,a,r,i,o,u=0,c=.5,f=1,m=1,g=Ra,v=!1;function E(_){return isNaN(_=+_)?o:(_=.5+((_=+i(_))-t)*(m*_<m*t?a:r),g(v?Math.max(0,Math.min(1,_)):_))}function k(_){return function(R){var O,N,$;return arguments.length?([O,N,$]=R,g=Zc(_,[O,N,$]),E):[g(0),g(.5),g(1)]}}return E.domain=function(_){return arguments.length?([u,c,f]=_,e=i(u=+u),t=i(c=+c),n=i(f=+f),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),m=t<e?-1:1,E):[u,c,f]},E.clamp=function(_){return arguments.length?(v=!!_,E):v},E.interpolator=function(_){return arguments.length?(g=_,E):g},E.range=k(gs),E.rangeRound=k(Xc),E.unknown=function(_){return arguments.length?(o=_,E):o},function(_){return i=_,e=_(u),t=_(c),n=_(f),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),m=t<e?-1:1,E}}function wu(){var e=Mg(nd());return e.copy=function(){return Ki(e,wu()).exponent(e.exponent())},qi.apply(e,arguments)}function _u(e,t,n){let a=e-t+2*n;return e?a>0?a:1:0}let Xi="linear",Fr="log",Es="pow",Zi="sqrt",ws="symlog",pr="time",Ji="utc",Va="sequential",Co="diverging",Ro="quantile",dl="quantize",fl="threshold",vp="ordinal",Fg="point",lv="band",Ep="bin-ordinal",Tn="continuous",pl="discrete",_s="discretizing",Pr="interpolating",ad="temporal";function hl(){let e=tp().unknown(void 0),t=e.domain,n=e.range,a,r,i=[0,1],o=!1,u=0,c=0,f=.5;function m(){let g=t().length,v=i[1]<i[0],E=i[1-v],k=_u(g,u,c),_=i[v-0];a=(E-_)/(k||1),o&&(a=Math.floor(a)),_+=(E-_-a*(g-u))*f,r=a*(1-u),o&&(_=Math.round(_),r=Math.round(r));let R=Zn(g).map(O=>_+a*O);return n(v?R.reverse():R)}return delete e.unknown,e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?(i=[+g[0],+g[1]],m()):i.slice()},e.rangeRound=function(g){return i=[+g[0],+g[1]],o=!0,m()},e.bandwidth=function(){return r},e.step=function(){return a},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(c=Math.max(0,Math.min(1,g)),u=c,m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.max(0,Math.min(1,g)),m()):u},e.paddingOuter=function(g){return arguments.length?(c=Math.max(0,Math.min(1,g)),m()):c},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),m()):f},e.invertRange=function(g){if(g[0]==null||g[1]==null)return;let v=i[1]<i[0],E=v?n().reverse():n(),k=E.length-1,_,R,O,N=+g[0],$=+g[1];return N!=N||$!=$||($<N&&(O=N,N=$,$=O),$<E[0]||N>i[1-v])?void 0:(_=Math.max(0,$l(E,N)-1),R=N===$?_:$l(E,$)-1,N-E[_]>r+1e-10&&++_,v&&(O=_,_=k-R,R=k-O),_>R?void 0:t().slice(_,R+1))},e.invert=function(g){let v=e.invertRange([g,g]);return v&&v[0]},e.copy=function(){return hl().domain(t()).range(i).round(o).paddingInner(u).paddingOuter(c).align(f)},m()}function Pg(e){let t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Pg(t())},e}var wp=Array.prototype.map;let o1=Array.prototype.slice,_p=new Map,$g=Symbol("vega_scale");function kp(e){return e[$g]=!0,e}function Pt(e,t,n){return arguments.length>1?(_p.set(e,function(a,r,i){let o=function(){let u=r();return u.invertRange||(u.invertRange=u.invert?function(c){return function(f){let m,g=f[0],v=f[1];return v<g&&(m=g,g=v,v=m),[c.invert(g),c.invert(v)]}}(u):u.invertExtent?function(c){return function(f){let m=c.range(),g,v,E,k,_=f[0],R=f[1],O=-1;for(R<_&&(v=_,_=R,R=v),E=0,k=m.length;E<k;++E)m[E]>=_&&m[E]<=R&&(O<0&&(O=E),g=E);if(!(O<0))return _=c.invertExtent(m[O]),R=c.invertExtent(m[g]),[_[0]===void 0?_[1]:_[0],R[1]===void 0?R[0]:R[1]]}}(u):void 0),u.type=a,kp(u)};return o.metadata=rr(Ce(i)),o}(e,t,n)),this):uv(e)?_p.get(e):void 0}function uv(e){return _p.has(e)}function ml(e,t){let n=_p.get(e);return n&&n.metadata[t]}function Bg(e){return ml(e,Tn)}function ku(e){return ml(e,pl)}function Ug(e){return ml(e,_s)}function xp(e){return ml(e,Fr)}function cv(e){return ml(e,Pr)}function dv(e){return ml(e,Ro)}Pt("identity",function e(t){var n;function a(r){return r==null||isNaN(r=+r)?n:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(t=Array.from(r,Jc),a):t.slice()},a.unknown=function(r){return arguments.length?(n=r,a):n},a.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Jc):[0,1],cl(a)}),Pt(Xi,function e(){var t=Tg();return t.copy=function(){return ys(t,e())},li.apply(t,arguments),cl(t)},Tn),Pt(Fr,function e(){let t=gp(ed()).domain([1,10]);return t.copy=()=>ys(t,e()).base(t.base()),li.apply(t,arguments),t},[Tn,Fr]),Pt(Es,yp,Tn),Pt(Zi,function(){return yp.apply(null,arguments).exponent(.5)},Tn),Pt(ws,function e(){var t=bp(ed());return t.copy=function(){return ys(t,e()).constant(t.constant())},li.apply(t,arguments)},Tn),Pt(pr,function(){return li.apply(ln(g_,xh,ei,jl,Gl,da,Jn,ec,Ir,ho).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Tn,ad]),Pt(Ji,function(){return li.apply(ln(x0,S0,ti,Hl,fa,Ke,tc,Qo,Ir,ns).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Tn,ad]),Pt(Va,vs,[Tn,Pr]),Pt(`${Va}-${Xi}`,vs,[Tn,Pr]),Pt(`${Va}-${Fr}`,function e(){var t=gp(Wa()).domain([1,10]);return t.copy=function(){return Ki(t,e()).base(t.base())},qi.apply(t,arguments)},[Tn,Pr,Fr]),Pt(`${Va}-${Es}`,td,[Tn,Pr]),Pt(`${Va}-${Zi}`,function(){return td.apply(null,arguments).exponent(.5)},[Tn,Pr]),Pt(`${Va}-${ws}`,function e(){var t=bp(Wa());return t.copy=function(){return Ki(t,e()).constant(t.constant())},qi.apply(t,arguments)},[Tn,Pr]),Pt(`${Co}-${Xi}`,function e(){var t=cl(nd()(Ra));return t.copy=function(){return Ki(t,e())},qi.apply(t,arguments)},[Tn,Pr]),Pt(`${Co}-${Fr}`,function e(){var t=gp(nd()).domain([.1,1,10]);return t.copy=function(){return Ki(t,e()).base(t.base())},qi.apply(t,arguments)},[Tn,Pr,Fr]),Pt(`${Co}-${Es}`,wu,[Tn,Pr]),Pt(`${Co}-${Zi}`,function(){return wu.apply(null,arguments).exponent(.5)},[Tn,Pr]),Pt(`${Co}-${ws}`,function e(){var t=bp(nd());return t.copy=function(){return Ki(t,e()).constant(t.constant())},qi.apply(t,arguments)},[Tn,Pr]),Pt(Ro,function e(){var t,n=[],a=[],r=[];function i(){var u=0,c=Math.max(1,a.length);for(r=new Array(c-1);++u<c;)r[u-1]=h0(n,u/c);return o}function o(u){return u==null||isNaN(u=+u)?t:a[Ku(r,u)]}return o.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:[c>0?r[c-1]:n[0],c<r.length?r[c]:n[n.length-1]]},o.domain=function(u){if(!arguments.length)return n.slice();n=[];for(let c of u)c==null||isNaN(c=+c)||n.push(c);return n.sort(xi),i()},o.range=function(u){return arguments.length?(a=Array.from(u),i()):a.slice()},o.unknown=function(u){return arguments.length?(t=u,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return e().domain(n).range(a).unknown(t)},li.apply(o,arguments)},[_s,Ro]),Pt(dl,function e(){var t,n=0,a=1,r=1,i=[.5],o=[0,1];function u(f){return f!=null&&f<=f?o[Ku(i,f,0,r)]:t}function c(){var f=-1;for(i=new Array(r);++f<r;)i[f]=((f+1)*a-(f-r)*n)/(r+1);return u}return u.domain=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,c()):[n,a]},u.range=function(f){return arguments.length?(r=(o=Array.from(f)).length-1,c()):o.slice()},u.invertExtent=function(f){var m=o.indexOf(f);return m<0?[NaN,NaN]:m<1?[n,i[0]]:m>=r?[i[r-1],a]:[i[m-1],i[m]]},u.unknown=function(f){return arguments.length&&(t=f),u},u.thresholds=function(){return i.slice()},u.copy=function(){return e().domain([n,a]).range(o).unknown(t)},li.apply(cl(u),arguments)},_s),Pt(fl,function e(){var t,n=[.5],a=[0,1],r=1;function i(o){return o!=null&&o<=o?a[Ku(n,o,0,r)]:t}return i.domain=function(o){return arguments.length?(n=Array.from(o),r=Math.min(n.length,a.length-1),i):n.slice()},i.range=function(o){return arguments.length?(a=Array.from(o),r=Math.min(n.length,a.length-1),i):a.slice()},i.invertExtent=function(o){var u=a.indexOf(o);return[n[u-1],n[u]]},i.unknown=function(o){return arguments.length?(t=o,i):t},i.copy=function(){return e().domain(n).range(a).unknown(t)},li.apply(i,arguments)},_s),Pt(Ep,function e(){let t=[],n=[];function a(r){return r==null||r!=r?void 0:n[(Ku(t,r)-1)%n.length]}return a.domain=function(r){return arguments.length?(t=function(i){return wp.call(i,De)}(r),a):t.slice()},a.range=function(r){return arguments.length?(n=o1.call(r),a):n.slice()},a.tickFormat=function(r,i){return Cg(t[0],Pe(t),r??10,i)},a.copy=function(){return e().domain(a.domain()).range(a.range())},a},[pl,_s]),Pt(vp,tp,pl),Pt(lv,hl,pl),Pt(Fg,function(){return Pg(hl().paddingInner(1))},pl);let s1=["clamp","base","constant","exponent"];function fv(e,t){let n=t[0],a=Pe(t)-n;return function(r){return e(n+r*a)}}function Sp(e,t,n){return Zc(zg(t||"rgb",n),e)}function pv(e,t){let n=new Array(t),a=t+1;for(let r=0;r<t;)n[r]=e(++r/a);return n}function rd(e,t,n){let a=n-t,r,i,o;return a&&Number.isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=Pt(i)().domain([t,n]).range([0,1]),s1.forEach(u=>e[u]?o[u](e[u]()):0),o):dn(.5)}function zg(e,t){let n=bs[function(a){return"interpolate"+a.toLowerCase().split("-").map(r=>r[0].toUpperCase()+r.slice(1)).join("")}(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function Gg(e){let t=e.length/6|0,n=new Array(t);for(let a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}function jg(e,t){for(let n in e)Tp(n,t(e[n]))}let Ap={};function Tp(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ap[e]=t,this):Ap[e]}jg({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Gg),jg({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>Sp(Gg(e)));let xu="symbol",Hg="discrete",l1=e=>Ee(e)?e.map(t=>String(t)):String(e),l=(e,t)=>e[1]-t[1],s=(e,t)=>t[1]-e[1];function d(e,t,n){let a;return Pa(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Zr(e.domain())/n||1)))),ye(t)&&(a=t.step,t=t.interval),Mt(t)&&(t=e.type===pr?ts(t):e.type==Ji?Dr(t):F("Only time and utc scales accept interval strings."),a&&(t=t.every(a))),t}function h(e,t,n){let a=e.range(),r=a[0],i=Pe(a),o=l;if(r>i&&(a=i,i=r,r=a,o=s),r=Math.floor(r),i=Math.ceil(i),t=t.map(u=>[u,e(u)]).filter(u=>r<=u[1]&&u[1]<=i).sort(o).map(u=>u[0]),n>0&&t.length>1){let u=[t[0],Pe(t)];for(;t.length>n&&t.length>=3;)t=t.filter((c,f)=>!(f%2));t.length<3&&(t=u)}return t}function y(e,t){return e.bins?h(e,e.bins):e.ticks?e.ticks(t):e.domain()}function w(e,t,n,a,r,i){let o=t.type,u=l1;if(o===pr||r===pr)u=e.timeFormat(a);else if(o===Ji||r===Ji)u=e.utcFormat(a);else if(xp(o)){let c=e.formatFloat(a);if(i||t.bins)u=c;else{let f=S(t,n,!1);u=m=>f(m)?c(m):""}}else if(t.tickFormat){let c=t.domain();u=e.formatSpan(c[0],c[c.length-1],n,a)}else a&&(u=e.format(a));return u}function S(e,t,n){let a=y(e,t),r=e.base(),i=Math.log(r),o=Math.max(1,r*t/a.length),u=c=>{let f=c/Math.pow(r,Math.round(Math.log(c)/i));return f*r<r-.5&&(f*=r),f<=o};return n?a.filter(u):u}let A={[Ro]:"quantiles",[dl]:"thresholds",[fl]:"domain"},C={[Ro]:"quantiles",[dl]:"domain"};function L(e,t){return e.bins?function(n){let a=n.slice(0,-1);return a.max=Pe(n),a}(e.bins):e.type===Fr?S(e,t,!0):A[e.type]?function(n){let a=[-1/0].concat(n);return a.max=1/0,a}(e[A[e.type]]()):y(e,t)}let G=e=>A[e.type]||e.bins;function H(e,t,n,a,r,i,o){let u=C[t.type]&&i!==pr&&i!==Ji?function(c,f,m){let g=f[C[f.type]](),v=g.length,E,k=v>1?g[1]-g[0]:g[0];for(E=1;E<v;++E)k=Math.min(k,g[E]-g[E-1]);return c.formatSpan(0,k,30,m)}(e,t,r):w(e,t,n,r,i,o);return a===xu&&G(t)?J(u):a===Hg?ee(u):se(u)}let J=e=>(t,n,a)=>{let r=re(a[n+1],re(a.max,1/0)),i=de(t,e),o=de(r,e);return i&&o?i+" \u2013 "+o:o?"< "+o:"\u2265 "+i},re=(e,t)=>e??t,ee=e=>(t,n)=>n?e(t):null,se=e=>t=>e(t),de=(e,t)=>Number.isFinite(e)?t(e):null;function fe(e,t,n,a){let r=a||t.type;return Mt(n)&&function(i){return ml(i,ad)}(r)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||r!==pr?n||r!==Ji?H(e,t,5,null,n,a,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function ge(e,t,n){n=n||{};let a=Math.max(3,n.maxlen||7),r=fe(e,t,n.format,n.formatType);if(Ug(t.type)){let i=L(t).slice(1).map(r),o=i.length;return`${o} boundar${o===1?"y":"ies"}: ${i.join(", ")}`}if(ku(t.type)){let i=t.domain(),o=i.length;return`${o} value${o===1?"":"s"}: ${o>a?i.slice(0,a-2).map(r).join(", ")+", ending with "+i.slice(-1).map(r):i.map(r).join(", ")}`}{let i=t.domain();return`values from ${r(i[0])} to ${r(Pe(i))}`}}let we=0,Ae="p_";function Fe(e){return e&&e.gradient}function He(e,t,n){let a=e.gradient,r=e.id,i=a==="radial"?Ae:"";return r||(r=e.id="gradient_"+we++,a==="radial"?(e.x1=tt(e.x1,.5),e.y1=tt(e.y1,.5),e.r1=tt(e.r1,0),e.x2=tt(e.x2,.5),e.y2=tt(e.y2,.5),e.r2=tt(e.r2,.5),i=Ae):(e.x1=tt(e.x1,0),e.y1=tt(e.y1,0),e.x2=tt(e.x2,1),e.y2=tt(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+i+r+")"}function tt(e,t){return e??t}function ut(e,t){var n,a=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:a,stop:function(r,i){return a.push({offset:r,color:i}),n}}}let Qe={basis:{curve:function(e){return new si(e)}},"basis-closed":{curve:function(e){return new Cy(e)}},"basis-open":{curve:function(e){return new Ym(e)}},bundle:{curve:J_,tension:"beta",value:.85},cardinal:{curve:Q_,tension:"tension",value:0},"cardinal-open":{curve:Ny,tension:"tension",value:0},"cardinal-closed":{curve:Ry,tension:"tension",value:0},"catmull-rom":{curve:Iy,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Dy,tension:"alpha",value:.5},"catmull-rom-open":{curve:My,tension:"alpha",value:.5},linear:{curve:qn},"linear-closed":{curve:function(e){return new Ly(e)}},monotone:{horizontal:function(e){return new ps(e)},vertical:function(e){return new Fc(e)}},natural:{curve:function(e){return new Fy(e)}},step:{curve:function(e){return new nl(e,.5)}},"step-after":{curve:function(e){return new nl(e,1)}},"step-before":{curve:function(e){return new nl(e,0)}}};function Xe(e,t,n){var a=et(Qe,e)&&Qe[e],r=null;return a&&(r=a.curve||a[t||"vertical"],a.tension&&n!=null&&(r=r[a.tension](n))),r}let xt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},$t=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Mn=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,_n=/^((\s+,?\s*)|(,\s*))/,kn=/^[01]/;function Bt(e){let t=[];return(e.match($t)||[]).forEach(n=>{let a=n[0],r=a.toLowerCase(),i=xt[r],o=function(c,f,m){let g=[];for(let v=0;f&&v<m.length;)for(let E=0;E<f;++E){let k=c!=="a"||E!==3&&E!==4?Mn:kn,_=m.slice(v).match(k);if(_===null)throw Error("Invalid SVG path, incorrect parameter type");v+=_[0].length,g.push(+_[0]);let R=m.slice(v).match(_n);R!==null&&(v+=R[0].length)}return g}(r,i,n.slice(1).trim()),u=o.length;if(u<i||u&&u%i!=0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([a,...o.slice(0,i)]),u!==i){r==="m"&&(a=a==="M"?"L":"l");for(let c=i;c<u;c+=i)t.push([a,...o.slice(c,c+i)])}}),t}let It=Math.PI/180,gn=1e-14,Cn=Math.PI/2,un=2*Math.PI,Na=Math.sqrt(3)/2;var Ia={},$r={},Yn=[].join;function oa(e){let t=Yn.call(e);if($r[t])return $r[t];var n=e[0],a=e[1],r=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7];let m=f*o,g=-c*u,v=c*o,E=f*u,k=Math.cos(r),_=Math.sin(r),R=Math.cos(i),O=Math.sin(i),N=.5*(i-r),$=Math.sin(.5*N),M=8/3*$*$/Math.sin(N),U=n+k-M*_,z=a+_+M*k,q=n+R,Y=a+O,K=q+M*O,ne=Y-M*R;return $r[t]=[m*U+g*z,v*U+E*z,m*K+g*ne,v*K+E*ne,m*q+g*Y,v*q+E*Y]}let on=["l",0,0,0,0,0,0,0];function wt(e,t,n){let a=on[0]=e[0];if(a==="a"||a==="A")on[1]=t*e[1],on[2]=n*e[2],on[3]=e[3],on[4]=e[4],on[5]=e[5],on[6]=t*e[6],on[7]=n*e[7];else if(a==="h"||a==="H")on[1]=t*e[1];else if(a==="v"||a==="V")on[1]=n*e[1];else for(var r=1,i=e.length;r<i;++r)on[r]=(r%2==1?t:n)*e[r];return on}function Ya(e,t,n,a,r,i){var o,u,c,f,m,g=null,v=0,E=0,k=0,_=0,R=0,O=0;n==null&&(n=0),a==null&&(a=0),r==null&&(r=1),i==null&&(i=r),e.beginPath&&e.beginPath();for(var N=0,$=t.length;N<$;++N){switch(o=t[N],r===1&&i===1||(o=wt(o,r,i)),o[0]){case"l":v+=o[1],E+=o[2],e.lineTo(v+n,E+a);break;case"L":v=o[1],E=o[2],e.lineTo(v+n,E+a);break;case"h":v+=o[1],e.lineTo(v+n,E+a);break;case"H":v=o[1],e.lineTo(v+n,E+a);break;case"v":E+=o[1],e.lineTo(v+n,E+a);break;case"V":E=o[1],e.lineTo(v+n,E+a);break;case"m":R=v+=o[1],O=E+=o[2],e.moveTo(v+n,E+a);break;case"M":R=v=o[1],O=E=o[2],e.moveTo(v+n,E+a);break;case"c":u=v+o[5],c=E+o[6],k=v+o[3],_=E+o[4],e.bezierCurveTo(v+o[1]+n,E+o[2]+a,k+n,_+a,u+n,c+a),v=u,E=c;break;case"C":v=o[5],E=o[6],k=o[3],_=o[4],e.bezierCurveTo(o[1]+n,o[2]+a,k+n,_+a,v+n,E+a);break;case"s":u=v+o[3],c=E+o[4],k=2*v-k,_=2*E-_,e.bezierCurveTo(k+n,_+a,v+o[1]+n,E+o[2]+a,u+n,c+a),k=v+o[1],_=E+o[2],v=u,E=c;break;case"S":u=o[3],c=o[4],k=2*v-k,_=2*E-_,e.bezierCurveTo(k+n,_+a,o[1]+n,o[2]+a,u+n,c+a),v=u,E=c,k=o[1],_=o[2];break;case"q":u=v+o[3],c=E+o[4],k=v+o[1],_=E+o[2],e.quadraticCurveTo(k+n,_+a,u+n,c+a),v=u,E=c;break;case"Q":u=o[3],c=o[4],e.quadraticCurveTo(o[1]+n,o[2]+a,u+n,c+a),v=u,E=c,k=o[1],_=o[2];break;case"t":u=v+o[1],c=E+o[2],g[0].match(/[QqTt]/)===null?(k=v,_=E):g[0]==="t"?(k=2*v-f,_=2*E-m):g[0]==="q"&&(k=2*v-k,_=2*E-_),f=k,m=_,e.quadraticCurveTo(k+n,_+a,u+n,c+a),E=c,k=(v=u)+o[1],_=E+o[2];break;case"T":u=o[1],c=o[2],k=2*v-k,_=2*E-_,e.quadraticCurveTo(k+n,_+a,u+n,c+a),v=u,E=c;break;case"a":ks(e,v+n,E+a,[o[1],o[2],o[3],o[4],o[5],o[6]+v+n,o[7]+E+a]),v+=o[6],E+=o[7];break;case"A":ks(e,v+n,E+a,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+a]),v=o[6],E=o[7];break;case"z":case"Z":v=R,E=O,e.closePath()}g=o}}function ks(e,t,n,a){let r=function(i,o,u,c,f,m,g,v,E){let k=Yn.call(arguments);if(Ia[k])return Ia[k];let _=g*It,R=Math.sin(_),O=Math.cos(_),N=O*(v-i)*.5+R*(E-o)*.5,$=O*(E-o)*.5-R*(v-i)*.5,M=N*N/((u=Math.abs(u))*u)+$*$/((c=Math.abs(c))*c);M>1&&(M=Math.sqrt(M),u*=M,c*=M);let U=O/u,z=R/u,q=-R/c,Y=O/c,K=U*v+z*E,ne=q*v+Y*E,X=U*i+z*o,ie=q*i+Y*o,oe=1/((X-K)*(X-K)+(ie-ne)*(ie-ne))-.25;oe<0&&(oe=0);let le=Math.sqrt(oe);m==f&&(le=-le);let ce=.5*(K+X)-le*(ie-ne),ve=.5*(ne+ie)+le*(X-K),_e=Math.atan2(ne-ve,K-ce),Ie=Math.atan2(ie-ve,X-ce)-_e;Ie<0&&m===1?Ie+=un:Ie>0&&m===0&&(Ie-=un);let Be=Math.ceil(Math.abs(Ie/(Cn+.001))),je=[];for(let Oe=0;Oe<Be;++Oe){let ot=_e+Oe*Ie/Be,st=_e+(Oe+1)*Ie/Be;je[Oe]=[ce,ve,ot,st,u,c,R,O]}return Ia[k]=je}(a[5],a[6],a[0],a[1],a[3],a[4],a[2],t,n);for(let i=0;i<r.length;++i){let o=oa(r[i]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}let Qi=.5773502691896257,Su={circle:{draw:function(e,t){let n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,un)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,a=n/2.5;e.moveTo(-n,-a),e.lineTo(-n,a),e.lineTo(-a,a),e.lineTo(-a,n),e.lineTo(a,n),e.lineTo(a,a),e.lineTo(n,a),e.lineTo(n,-a),e.lineTo(a,-a),e.lineTo(a,-n),e.lineTo(-a,-n),e.lineTo(-a,-a),e.closePath()}},diamond:{draw:function(e,t){let n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),a=-n/2;e.rect(a,a,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,a=n/7,r=n/2.5,i=n/8;e.moveTo(-a,n),e.lineTo(a,n),e.lineTo(a,-i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-a,-i),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n,r=a-n*Qi,i=n/4;e.moveTo(0,-a-r),e.lineTo(-i,a-r),e.lineTo(i,a-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n,r=a-n*Qi;e.moveTo(0,-a-r),e.lineTo(-n,a-r),e.lineTo(n,a-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n;e.moveTo(0,-a),e.lineTo(-n,a),e.lineTo(n,a),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n;e.moveTo(0,a),e.lineTo(-n,-a),e.lineTo(n,-a),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n;e.moveTo(a,0),e.lineTo(-a,-n),e.lineTo(-a,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,a=Na*n;e.moveTo(-a,0),e.lineTo(a,-n),e.lineTo(a,n),e.closePath()}},stroke:{draw:function(e,t){let n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Ka(e){return et(Su,e)?Su[e]:function(t){if(!et(hr,t)){let n=Bt(t);hr[t]={draw:function(a,r){Ya(a,n,0,0,Math.sqrt(r)/2)}}}return hr[t]}(e)}var hr={};let ma=.448084975506;function hi(e){return e.x}function No(e){return e.y}function id(e){return e.width}function qg(e){return e.height}function Io(e){return typeof e=="function"?e:()=>+e}function Au(e,t,n){return Math.max(t,Math.min(e,n))}function Wg(){var e=hi,t=No,n=id,a=qg,r=Io(0),i=r,o=r,u=r,c=null;function f(m,g,v){var E,k=g??+e.call(this,m),_=v??+t.call(this,m),R=+n.call(this,m),O=+a.call(this,m),N=Math.min(R,O)/2,$=Au(+r.call(this,m),0,N),M=Au(+i.call(this,m),0,N),U=Au(+o.call(this,m),0,N),z=Au(+u.call(this,m),0,N);if(c||(c=E=Nc()),$<=0&&M<=0&&U<=0&&z<=0)c.rect(k,_,R,O);else{var q=k+R,Y=_+O;c.moveTo(k+$,_),c.lineTo(q-M,_),c.bezierCurveTo(q-ma*M,_,q,_+ma*M,q,_+M),c.lineTo(q,Y-z),c.bezierCurveTo(q,Y-ma*z,q-ma*z,Y,q-z,Y),c.lineTo(k+U,Y),c.bezierCurveTo(k+ma*U,Y,k,Y-ma*U,k,Y-U),c.lineTo(k,_+$),c.bezierCurveTo(k,_+ma*$,k+ma*$,_,k+$,_),c.closePath()}if(E)return c=null,E+""||null}return f.x=function(m){return arguments.length?(e=Io(m),f):e},f.y=function(m){return arguments.length?(t=Io(m),f):t},f.width=function(m){return arguments.length?(n=Io(m),f):n},f.height=function(m){return arguments.length?(a=Io(m),f):a},f.cornerRadius=function(m,g,v,E){return arguments.length?(r=Io(m),i=g!=null?Io(g):r,u=v!=null?Io(v):r,o=E!=null?Io(E):i,f):r},f.context=function(m){return arguments.length?(c=m??null,f):c},f}function Vg(){var e,t,n,a,r,i,o,u,c=null;function f(g,v,E){let k=E/2;if(r){var _=o-v,R=g-i;if(_||R){var O=Math.hypot(_,R),N=(_/=O)*u,$=(R/=O)*u,M=Math.atan2(R,_);c.moveTo(i-N,o-$),c.lineTo(g-_*k,v-R*k),c.arc(g,v,k,M-Math.PI,M),c.lineTo(i+N,o+$),c.arc(i,o,u,M,M+Math.PI)}else c.arc(g,v,k,0,un);c.closePath()}else r=1;i=g,o=v,u=k}function m(g){var v,E,k,_=g.length,R=!1;for(c==null&&(c=k=Nc()),v=0;v<=_;++v)!(v<_&&a(E=g[v],v,g))===R&&(R=!R)&&(r=0),R&&f(+e(E,v,g),+t(E,v,g),+n(E,v,g));if(k)return c=null,k+""||null}return m.x=function(g){return arguments.length?(e=g,m):e},m.y=function(g){return arguments.length?(t=g,m):t},m.size=function(g){return arguments.length?(n=g,m):n},m.defined=function(g){return arguments.length?(a=g,m):a},m.context=function(g){return arguments.length?(c=g??null,m):c},m}function bn(e,t){return e??t}let xs=e=>e.x||0,od=e=>e.y||0,Cp=e=>e.defined!==!1,LA=function(){var e=xy,t=K_,n=Ft(0),a=null,r=X_,i=Z_,o=Hn,u=null,c=Ic(f);function f(){var m,g,v=+e.apply(this,arguments),E=+t.apply(this,arguments),k=r.apply(this,arguments)-yo,_=i.apply(this,arguments)-yo,R=jm(_-k),O=_>k;if(u||(u=m=c()),E<v&&(g=E,E=v,v=g),E>jn)if(R>qm-jn)u.moveTo(E*fs(k),E*Hi(k)),u.arc(0,0,E,k,_,!O),v>jn&&(u.moveTo(v*fs(_),v*Hi(_)),u.arc(0,0,v,_,k,O));else{var N,$,M=k,U=_,z=k,q=_,Y=R,K=R,ne=o.apply(this,arguments)/2,X=ne>jn&&(a?+a.apply(this,arguments):Ta(v*v+E*E)),ie=Hm(jm(E-v)/2,+n.apply(this,arguments)),oe=ie,le=ie;if(X>jn){var ce=hu(X/v*Hi(ne)),ve=hu(X/E*Hi(ne));(Y-=2*ce)>jn?(z+=ce*=O?1:-1,q-=ce):(Y=0,z=q=(k+_)/2),(K-=2*ve)>jn?(M+=ve*=O?1:-1,U-=ve):(K=0,M=U=(k+_)/2)}var _e=E*fs(M),Ie=E*Hi(M),Be=v*fs(q),je=v*Hi(q);if(ie>jn){var Oe,ot=E*fs(U),st=E*Hi(U),mt=v*fs(z),Ct=v*Hi(z);if(R<Qs)if(Oe=function(Fn,tr,wa,oo,Wr,Nl,Ad,Ds){var rD=wa-Fn,iD=oo-tr,oD=Ad-Wr,sD=Ds-Nl,t0=sD*rD-oD*iD;if(!(t0*t0<jn))return[Fn+(t0=(oD*(tr-Nl)-sD*(Fn-Wr))/t0)*rD,tr+t0*iD]}(_e,Ie,mt,Ct,ot,st,Be,je)){var pn=_e-Oe[0],Yt=Ie-Oe[1],va=ot-Oe[0],Sn=st-Oe[1],ua=1/Hi(function(Fn){return Fn>1?0:Fn<-1?Qs:Math.acos(Fn)}((pn*va+Yt*Sn)/(Ta(pn*pn+Yt*Yt)*Ta(va*va+Sn*Sn)))/2),Ea=Ta(Oe[0]*Oe[0]+Oe[1]*Oe[1]);oe=Hm(ie,(v-Ea)/(ua-1)),le=Hm(ie,(E-Ea)/(ua+1))}else oe=le=0}K>jn?le>jn?(N=Oc(mt,Ct,_e,Ie,E,le,O),$=Oc(ot,st,Be,je,E,le,O),u.moveTo(N.cx+N.x01,N.cy+N.y01),le<ie?u.arc(N.cx,N.cy,le,ra(N.y01,N.x01),ra($.y01,$.x01),!O):(u.arc(N.cx,N.cy,le,ra(N.y01,N.x01),ra(N.y11,N.x11),!O),u.arc(0,0,E,ra(N.cy+N.y11,N.cx+N.x11),ra($.cy+$.y11,$.cx+$.x11),!O),u.arc($.cx,$.cy,le,ra($.y11,$.x11),ra($.y01,$.x01),!O))):(u.moveTo(_e,Ie),u.arc(0,0,E,M,U,!O)):u.moveTo(_e,Ie),v>jn&&Y>jn?oe>jn?(N=Oc(Be,je,ot,st,v,-oe,O),$=Oc(_e,Ie,mt,Ct,v,-oe,O),u.lineTo(N.cx+N.x01,N.cy+N.y01),oe<ie?u.arc(N.cx,N.cy,oe,ra(N.y01,N.x01),ra($.y01,$.x01),!O):(u.arc(N.cx,N.cy,oe,ra(N.y01,N.x01),ra(N.y11,N.x11),!O),u.arc(0,0,v,ra(N.cy+N.y11,N.cx+N.x11),ra($.cy+$.y11,$.cx+$.x11),O),u.arc($.cx,$.cy,oe,ra($.y11,$.x11),ra($.y01,$.x01),!O))):u.arc(0,0,v,q,z,O):u.lineTo(Be,je)}else u.moveTo(0,0);if(u.closePath(),m)return u=null,m+""||null}return f.centroid=function(){var m=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,g=(+r.apply(this,arguments)+ +i.apply(this,arguments))/2-Qs/2;return[fs(g)*m,Hi(g)*m]},f.innerRadius=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),f):e},f.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),f):t},f.cornerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:Ft(+m),f):n},f.padRadius=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Ft(+m),f):a},f.startAngle=function(m){return arguments.length?(r=typeof m=="function"?m:Ft(+m),f):r},f.endAngle=function(m){return arguments.length?(i=typeof m=="function"?m:Ft(+m),f):i},f.padAngle=function(m){return arguments.length?(o=typeof m=="function"?m:Ft(+m),f):o},f.context=function(m){return arguments.length?(u=m??null,f):u},f}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),u1=Vm().x(xs).y1(od).y0(e=>(e.y||0)+(e.height||0)).defined(Cp),c1=Vm().y(od).x1(xs).x0(e=>(e.x||0)+(e.width||0)).defined(Cp),d1=Ty().x(xs).y(od).defined(Cp),hv=Wg().x(xs).y(od).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>bn(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>bn(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>bn(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>bn(e.cornerRadiusBottomLeft,e.cornerRadius)||0),mv=function(e,t){let n=null,a=Ic(r);function r(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e=typeof e=="function"?e:Ft(e||Zf),t=typeof t=="function"?t:Ft(t===void 0?64:+t),r.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ft(i),r):e},r.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ft(+i),r):t},r.context=function(i){return arguments.length?(n=i??null,r):n},r}().type(e=>Ka(e.shape||"circle")).size(e=>bn(e.size,64)),gv=Vg().x(xs).y(od).defined(Cp).size(e=>e.size||1);function Rp(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Tu(e,t,n,a){return hv.context(e)(t,n,a)}var bv=1;function yv(){bv=1}function Yg(e,t,n){var a=t.clip,r=e._defs,i=t.clip_id||(t.clip_id="clip"+bv++),o=r.clipping[i]||(r.clipping[i]={id:i});return Je(a)?o.path=a(null):Rp(n)?o.path=Tu(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+i+")"}function Rn(e){this.clear(),e&&this.union(e)}function Oo(e){this.mark=e,this.bounds=this.bounds||new Rn}function gl(e){Oo.call(this,e),this.items=this.items||[]}function bl(e){this._pending=0,this._loader=e||Ks()}function eo(e){e._pending+=1}function yl(e){e._pending-=1}function vl(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){let a=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(a+(n?function(r,i){return r.strokeJoin&&r.strokeJoin!=="miter"?0:i}(t,a):0))}return e}Rn.prototype={clone(){return new Rn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,a){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),a<t?(this.y2=t,this.y1=a):(this.y1=t,this.y2=a),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){let a=this.rotatedPoints(e,t,n);return this.clear().add(a[0],a[1]).add(a[2],a[3]).add(a[4],a[5]).add(a[6],a[7])},rotatedPoints(e,t,n){var{x1:a,y1:r,x2:i,y2:o}=this,u=Math.cos(e),c=Math.sin(e),f=t-t*u+n*c,m=n-t*c-n*u;return[u*a-c*r+f,c*a+u*r+m,u*a-c*o+f,c*a+u*o+m,u*i-c*r+f,c*i+u*r+m,u*i-c*o+f,c*i+u*o+m]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Me(gl,Oo),bl.prototype={pending(){return this._pending},sanitizeURL(e){let t=this;return eo(t),t._loader.sanitize(e,{context:"href"}).then(n=>(yl(t),n)).catch(()=>(yl(t),null))},loadImage(e){let t=this,n=ng();return eo(t),t._loader.sanitize(e,{context:"image"}).then(a=>{let r=a.href;if(!r||!n)throw{url:r};let i=new n,o=et(a,"crossOrigin")?a.crossOrigin:"anonymous";return o!=null&&(i.crossOrigin=o),i.onload=()=>yl(t),i.onerror=()=>yl(t),i.src=r,i}).catch(a=>(yl(t),{complete:!1,width:0,height:0,src:a&&a.url||""}))},ready(){let e=this;return new Promise(t=>{(function n(a){e.pending()?setTimeout(()=>{n(!0)},10):t(a)})(!1)})}};let jM=un-1e-8,vv,Ev,wv,sd,f1,_v,p1,h1,Cu=(e,t)=>vv.add(e,t),kv=(e,t)=>Cu(Ev=e,wv=t),FA=e=>Cu(e,vv.y1),PA=e=>Cu(vv.x1,e),ld=(e,t)=>f1*e+p1*t,ud=(e,t)=>_v*e+h1*t,m1=(e,t)=>Cu(ld(e,t),ud(e,t)),g1=(e,t)=>kv(ld(e,t),ud(e,t));function Kg(e,t){return vv=e,t?(sd=t*It,f1=h1=Math.cos(sd),_v=Math.sin(sd),p1=-_v):(f1=h1=1,sd=_v=p1=0),HM}let HM={beginPath(){},closePath(){},moveTo:g1,lineTo:g1,rect(e,t,n,a){sd?(m1(e+n,t),m1(e+n,t+a),m1(e,t+a),g1(e,t)):(Cu(e+n,t+a),kv(e,t))},quadraticCurveTo(e,t,n,a){let r=ld(e,t),i=ud(e,t),o=ld(n,a),u=ud(n,a);$A(Ev,r,o,FA),$A(wv,i,u,PA),kv(o,u)},bezierCurveTo(e,t,n,a,r,i){let o=ld(e,t),u=ud(e,t),c=ld(n,a),f=ud(n,a),m=ld(r,i),g=ud(r,i);BA(Ev,o,c,m,FA),BA(wv,u,f,g,PA),kv(m,g)},arc(e,t,n,a,r,i){if(a+=sd,r+=sd,Ev=n*Math.cos(r)+e,wv=n*Math.sin(r)+t,Math.abs(r-a)>jM)Cu(e-n,t-n),Cu(e+n,t+n);else{let o=f=>Cu(n*Math.cos(f)+e,n*Math.sin(f)+t),u,c;if(o(a),o(r),r!==a)if((a%=un)<0&&(a+=un),(r%=un)<0&&(r+=un),r<a&&(i=!i,u=a,a=r,r=u),i)for(r-=un,u=a-a%Cn,c=0;c<4&&u>r;++c,u-=Cn)o(u);else for(u=a-a%Cn+Cn,c=0;c<4&&u<r;++c,u+=Cn)o(u)}}};function $A(e,t,n,a){let r=(e-t)/(e+n-2*t);0<r&&r<1&&a(e+(t-e)*r)}function BA(e,t,n,a,r){let i=a-e+3*t-3*n,o=e+n-2*t,u=e-t,c,f=0,m=0;Math.abs(i)>gn?(c=o*o+u*i,c>=0&&(c=Math.sqrt(c),f=(-o+c)/i,m=(-o-c)/i)):f=.5*u/o,0<f&&f<1&&r(UA(f,e,t,n,a)),0<m&&m<1&&r(UA(m,e,t,n,a))}function UA(e,t,n,a,r){let i=1-e,o=i*i,u=e*e;return o*i*t+3*o*e*n+3*i*u*a+u*e*r}var Ru=(Ru=Ha(1,1))?Ru.getContext("2d"):null;let b1=new Rn;function y1(e){return function(t,n){if(!Ru)return!0;e(Ru,t),b1.clear().union(t.bounds).intersect(n).round();let{x1:a,y1:r,x2:i,y2:o}=b1;for(let u=r;u<=o;++u)for(let c=a;c<=i;++c)if(Ru.isPointInPath(c,u))return!0;return!1}}function v1(e,t){return t.contains(e.x||0,e.y||0)}function zA(e,t){let n=e.x||0,a=e.y||0,r=e.width||0,i=e.height||0;return t.intersects(b1.set(n,a,n+r,a+i))}function GA(e,t){let n=e.x||0,a=e.y||0;return Np(t,n,a,e.x2!=null?e.x2:n,e.y2!=null?e.y2:a)}function Np(e,t,n,a,r){let{x1:i,y1:o,x2:u,y2:c}=e,f=a-t,m=r-n,g,v,E,k,_=0,R=1;for(k=0;k<4;++k){if(k===0&&(g=-f,v=-(i-t)),k===1&&(g=f,v=u-t),k===2&&(g=-m,v=-(o-n)),k===3&&(g=m,v=c-n),Math.abs(g)<1e-10&&v<0)return!1;if(E=v/g,g<0){if(E>R)return!1;E>_&&(_=E)}else if(g>0){if(E<_)return!1;E<R&&(R=E)}}return!0}function Ip(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Do(e,t){return e??t}function jA(e,t){let n=t.length;for(let a=0;a<n;++a)e.addColorStop(t[a].offset,t[a].color);return e}function HA(e,t,n){return Fe(n)?function(a,r,i){let o=i.width(),u=i.height(),c;if(r.gradient==="radial")c=a.createRadialGradient(i.x1+Do(r.x1,.5)*o,i.y1+Do(r.y1,.5)*u,Math.max(o,u)*Do(r.r1,0),i.x1+Do(r.x2,.5)*o,i.y1+Do(r.y2,.5)*u,Math.max(o,u)*Do(r.r2,.5));else{let f=Do(r.x1,0),m=Do(r.y1,0),g=Do(r.x2,1),v=Do(r.y2,0);if(f!==g&&m!==v&&o!==u){let E=Ha(Math.ceil(o),Math.ceil(u)),k=E.getContext("2d");return k.scale(o,u),k.fillStyle=jA(k.createLinearGradient(f,m,g,v),r.stops),k.fillRect(0,0,o,u),a.createPattern(E,"no-repeat")}c=a.createLinearGradient(i.x1+f*o,i.y1+m*u,i.x1+g*o,i.y1+v*u)}return jA(c,r.stops)}(e,n,t.bounds):n}function xv(e,t,n){return(n*=t.fillOpacity==null?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=HA(e,t,t.fill),!0)}var qM=[];function Op(e,t,n){var a=(a=t.strokeWidth)!=null?a:1;return!(a<=0)&&(n*=t.strokeOpacity==null?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=HA(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||qM),e.lineDashOffset=t.strokeDashOffset||0),!0)}function WM(e,t){return e.zindex-t.zindex||e.index-t.index}function E1(e){if(!e.zdirty)return e.zitems;var t,n,a,r=e.items,i=[];for(n=0,a=r.length;n<a;++n)(t=r[n]).index=n,t.zindex&&i.push(t);return e.zdirty=!1,e.zitems=i.sort(WM)}function Mo(e,t){var n,a,r=e.items;if(!r||!r.length)return;let i=E1(e);if(i&&i.length){for(n=0,a=r.length;n<a;++n)r[n].zindex||t(r[n]);r=i}for(n=0,a=r.length;n<a;++n)t(r[n])}function Sv(e,t){var n,a,r=e.items;if(!r||!r.length)return null;let i=E1(e);for(i&&i.length&&(r=i),a=r.length;--a>=0;)if(n=t(r[a]))return n;if(r===i){for(a=(r=e.items).length;--a>=0;)if(!r[a].zindex&&(n=t(r[a])))return n}return null}function w1(e){return function(t,n,a){Mo(n,r=>{a&&!a.intersects(r.bounds)||qA(e,t,r,r)})}}function VM(e){return function(t,n,a){!n.items.length||a&&!a.intersects(n.bounds)||qA(e,t,n.items[0],n.items)}}function qA(e,t,n,a){var r=n.opacity==null?1:n.opacity;r!==0&&(e(t,a)||(Ip(t,n),n.fill&&xv(t,n,r)&&t.fill(),n.stroke&&Op(t,n,r)&&t.stroke()))}function Av(e){return e=e||Z,function(t,n,a,r,i,o){return a*=t.pixelRatio,r*=t.pixelRatio,Sv(n,u=>{let c=u.bounds;if((!c||c.contains(i,o))&&c)return e(t,u,a,r,i,o)?u:void 0})}}function Xg(e,t){return function(n,a,r,i){var o,u,c=Array.isArray(a)?a[0]:a,f=t??c.fill,m=c.stroke&&n.isPointInStroke;return m&&(o=c.strokeWidth,u=c.strokeCap,n.lineWidth=o??1,n.lineCap=u??"butt"),!e(n,a)&&(f&&n.isPointInPath(r,i)||m&&n.isPointInStroke(r,i))}}function _1(e){return Av(Xg(e))}function cd(e,t){return"translate("+e+","+t+")"}function k1(e){return"rotate("+e+")"}function WA(e){return cd(e.x||0,e.y||0)}function x1(e,t,n){function a(r,i){var o=i.x||0,u=i.y||0,c=i.angle||0;r.translate(o,u),c&&r.rotate(c*=It),r.beginPath(),t(r,i),c&&r.rotate(-c),r.translate(-o,-u)}return{type:e,tag:"path",nested:!1,attr:function(r,i){r("transform",function(o){return cd(o.x||0,o.y||0)+(o.angle?" "+k1(o.angle):"")}(i)),r("d",t(null,i))},bound:function(r,i){return t(Kg(r,i.angle),i),vl(r,i).translate(i.x||0,i.y||0)},draw:w1(a),pick:_1(a),isect:n||y1(a)}}var YM=x1("arc",function(e,t){return LA.context(e)(t)});function S1(e,t,n){function a(i,o){i.beginPath(),t(i,o)}let r=Xg(a);return{type:e,tag:"path",nested:!0,attr:function(i,o){var u=o.mark.items;u.length&&i("d",t(null,u))},bound:function(i,o){var u=o.items;return u.length===0?i:(t(Kg(i),u),vl(i,u[0]))},draw:VM(a),pick:function(i,o,u,c,f,m){var g=o.items,v=o.bounds;return!g||!g.length||v&&!v.contains(f,m)?null:(u*=i.pixelRatio,c*=i.pixelRatio,r(i,g,u,c)?g[0]:null)},isect:v1,tip:n}}var KM=S1("area",function(e,t){let n=t[0],a=n.interpolate||"linear";return(n.orient==="horizontal"?c1:u1).curve(Xe(a,n.orient,n.tension)).context(e)(t)},function(e,t){for(var n,a,r=e[0].orient==="horizontal"?t[1]:t[0],i=e[0].orient==="horizontal"?"y":"x",o=e.length,u=1/0;--o>=0;)e[o].defined!==!1&&(a=Math.abs(e[o][i]-r))<u&&(u=a,n=e[o]);return n});function VA(e,t){e.beginPath(),Rp(t)?Tu(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function YA(e){let t=Do(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function KA(e,t){let n=YA(t);e("d",Tu(null,t,n,n))}function Zg(e,t,n,a){let r=YA(t);e.beginPath(),Tu(e,t,(n||0)+r,(a||0)+r)}let XM=Xg(Zg),ZM=Xg(Zg,!1),JM=Xg(Zg,!0);var QM={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",WA(t))},bound:function(e,t){if(!t.clip&&t.items){let n=t.items,a=n.length;for(let r=0;r<a;++r)e.union(n[r].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),vl(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){Mo(t,a=>{let r=a.x||0,i=a.y||0,o=a.strokeForeground,u=a.opacity==null?1:a.opacity;(a.stroke||a.fill)&&u&&(Zg(e,a,r,i),Ip(e,a),a.fill&&xv(e,a,u)&&e.fill(),a.stroke&&!o&&Op(e,a,u)&&e.stroke()),e.save(),e.translate(r,i),a.clip&&VA(e,a),n&&n.translate(-r,-i),Mo(a,c=>{this.draw(e,c,n)}),n&&n.translate(r,i),e.restore(),o&&a.stroke&&u&&(Zg(e,a,r,i),Ip(e,a),Op(e,a,u)&&e.stroke())})},pick:function(e,t,n,a,r,i){if(t.bounds&&!t.bounds.contains(r,i)||!t.items)return null;let o=n*e.pixelRatio,u=a*e.pixelRatio;return Sv(t,c=>{let f,m,g,v=c.bounds;if(v&&!v.contains(r,i))return;m=c.x||0,g=c.y||0;let E=m+(c.width||0),k=g+(c.height||0),_=c.clip;if(_&&(r<m||r>E||i<g||i>k))return;if(e.save(),e.translate(m,g),m=r-m,g=i-g,_&&Rp(c)&&!JM(e,c,o,u))return e.restore(),null;let R=c.strokeForeground,O=t.interactive!==!1;return O&&R&&c.stroke&&ZM(e,c,o,u)?(e.restore(),c):(f=Sv(c,N=>function($,M,U){return($.interactive!==!1||$.marktype==="group")&&$.bounds&&$.bounds.contains(M,U)}(N,m,g)?this.pick(N,n,a,m,g):null),!f&&O&&(c.fill||!R&&c.stroke)&&XM(e,c,o,u)&&(f=c),e.restore(),f||null)})},isect:zA,content:function(e,t,n){e("clip-path",t.clip?Yg(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),KA(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?KA(e,t):e("d","")}},Jg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function A1(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(a=>{e.image=a,e.image.url=e.url})),n}function T1(e,t){return e.width!=null?e.width:t&&t.width?e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width:0}function C1(e,t){return e.height!=null?e.height:t&&t.height?e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height:0}function Tv(e,t){return e==="center"?t/2:e==="right"?t:0}function Cv(e,t){return e==="middle"?t/2:e==="bottom"?t:0}var e2={type:"image",tag:"image",nested:!1,attr:function(e,t,n){let a=A1(t,n),r=T1(t,a),i=C1(t,a),o=(t.x||0)-Tv(t.align,r),u=(t.y||0)-Cv(t.baseline,i);e("href",!a.src&&a.toDataURL?a.toDataURL():a.src||"",Jg["xmlns:xlink"],"xlink:href"),e("transform",cd(o,u)),e("width",r),e("height",i),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")},bound:function(e,t){let n=t.image,a=T1(t,n),r=C1(t,n),i=(t.x||0)-Tv(t.align,a),o=(t.y||0)-Cv(t.baseline,r);return e.set(i,o,i+a,o+r)},draw:function(e,t,n){Mo(t,a=>{if(n&&!n.intersects(a.bounds))return;let r=A1(a,this),i=T1(a,r),o=C1(a,r);if(i===0||o===0)return;let u,c,f,m,g=(a.x||0)-Tv(a.align,i),v=(a.y||0)-Cv(a.baseline,o);a.aspect!==!1&&(c=r.width/r.height,f=a.width/a.height,c==c&&f==f&&c!==f&&(f<c?(m=i/c,v+=(o-m)/2,o=m):(m=o*c,g+=(i-m)/2,i=m))),(r.complete||r.toDataURL)&&(Ip(e,a),e.globalAlpha=(u=a.opacity)!=null?u:1,e.imageSmoothingEnabled=a.smooth!==!1,e.drawImage(r,g,v,i,o))})},pick:Av(),isect:Z,get:A1,xOffset:Tv,yOffset:Cv},t2=S1("line",function(e,t){let n=t[0],a=n.interpolate||"linear";return d1.curve(Xe(a,n.orient,n.tension)).context(e)(t)},function(e,t){for(var n,a,r=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(e[i].defined!==!1&&(n=e[i].x-t[0])*n+(a=e[i].y-t[1])*a<r)return e[i];return null});function Rv(e,t){var n=t.path;if(n==null)return!0;var a=t.x||0,r=t.y||0,i=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*It,c=t.pathCache;c&&c.path===n||((t.pathCache=c=Bt(n)).path=n),u&&e.rotate&&e.translate?(e.translate(a,r),e.rotate(u),Ya(e,c,0,0,i,o),e.rotate(-u),e.translate(-a,-r)):Ya(e,c,a,r,i,o)}var n2={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,a=t.scaleY||1;n===1&&a===1||e("vector-effect","non-scaling-stroke"),e("transform",function(r){return cd(r.x||0,r.y||0)+(r.angle?" "+k1(r.angle):"")+(r.scaleX||r.scaleY?" "+function(i,o){return"scale("+i+","+o+")"}(r.scaleX||1,r.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return Rv(Kg(e,t.angle),t)?e.set(0,0,0,0):vl(e,t,!0)},draw:w1(Rv),pick:_1(Rv),isect:y1(Rv)};function XA(e,t){e.beginPath(),Tu(e,t)}var a2={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Tu(null,t))},bound:function(e,t){var n,a;return vl(e.set(n=t.x||0,a=t.y||0,n+t.width||0,a+t.height||0),t)},draw:w1(XA),pick:_1(XA),isect:zA};function ZA(e,t,n){var a,r,i,o;return!(!t.stroke||!Op(e,t,n))&&(a=t.x||0,r=t.y||0,i=t.x2!=null?t.x2:a,o=t.y2!=null?t.y2:r,e.beginPath(),e.moveTo(a,r),e.lineTo(i,o),!0)}var r2={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",WA(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)},bound:function(e,t){var n,a;return vl(e.set(n=t.x||0,a=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:a),t)},draw:function(e,t,n){Mo(t,a=>{if(!n||n.intersects(a.bounds)){var r=a.opacity==null?1:a.opacity;r&&ZA(e,a,r)&&(Ip(e,a),e.stroke())}})},pick:Av(function(e,t,n,a){return!!e.isPointInStroke&&ZA(e,t,1)&&e.isPointInStroke(n,a)}),isect:GA},i2=x1("shape",function(e,t){return(t.mark.shape||t.shape).context(e)(t)}),o2=x1("symbol",function(e,t){return mv.context(e)(t)},v1);let JA=Ll();var Lo={height:Ss,measureWidth:N1,estimateWidth:R1,width:R1,canvas:QA};function QA(e){Lo.width=e&&Ru?N1:R1}function R1(e,t){return eT(Iu(e,t),Ss(e))}function eT(e,t){return~~(.8*e.length*t)}function N1(e,t){return Ss(e)<=0||!(t=Iu(e,t))?0:tT(t,Nv(e))}function tT(e,t){let n=`(${t}) ${e}`,a=JA.get(n);return a===void 0&&(Ru.font=t,a=Ru.measureText(e).width,JA.set(n,a)),a}function Ss(e){return e.fontSize!=null?+e.fontSize||0:11}function Nu(e){return e.lineHeight!=null?e.lineHeight:Ss(e)+2}function Qg(e){return t=e.lineBreak&&e.text&&!Ee(e.text)?e.text.split(e.lineBreak):e.text,Ee(t)?t.length>1?t:t[0]:t;var t}function I1(e){let t=Qg(e);return(Ee(t)?t.length-1:0)*Nu(e)}function Iu(e,t){let n=t==null?"":(t+"").trim();return e.limit>0&&n.length?function(a,r){var i=+a.limit,o=function(v){if(Lo.width===N1){let E=Nv(v);return k=>tT(k,E)}{let E=Ss(v);return k=>eT(k,E)}}(a);if(o(r)<i)return r;var u,c=a.ellipsis||"\u2026",f=a.dir==="rtl",m=0,g=r.length;if(i-=o(c),f){for(;m<g;)u=m+g>>>1,o(r.slice(u))>i?m=u+1:g=u;return c+r.slice(m)}for(;m<g;)u=1+(m+g>>>1),o(r.slice(0,u))<i?m=u:g=u-1;return r.slice(0,m)+c}(e,n):n}function eb(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Nv(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ss(e)+"px "+eb(e,t)}function O1(e){var t=e.baseline,n=Ss(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Nu(e):t==="line-bottom"?.29*n-.5*Nu(e):0)}QA(!0);let s2={left:"start",center:"middle",right:"end"},tb=new Rn;function Iv(e){var t,n=e.x||0,a=e.y||0,r=e.radius||0;return r&&(t=(e.theta||0)-Cn,n+=r*Math.cos(t),a+=r*Math.sin(t)),tb.x1=n,tb.y1=a,tb}function D1(e,t,n){var a,r=Lo.height(t),i=t.align,o=Iv(t),u=o.x1,c=o.y1,f=t.dx||0,m=(t.dy||0)+O1(t)-Math.round(.8*r),g=Qg(t);if(Ee(g)?(r+=Nu(t)*(g.length-1),a=g.reduce((v,E)=>Math.max(v,Lo.width(t,E)),0)):a=Lo.width(t,g),i==="center"?f-=a/2:i==="right"&&(f-=a),e.set(f+=u,m+=c,f+a,m+r),t.angle&&!n)e.rotate(t.angle*It,u,c);else if(n===2)return e.rotatedPoints(t.angle*It,u,c);return e}var l2={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,a=t.dx||0,r=(t.dy||0)+O1(t),i=Iv(t),o=i.x1,u=i.y1,c=t.angle||0;e("text-anchor",s2[t.align]||"start"),c?(n=cd(o,u)+" "+k1(c),(a||r)&&(n+=" "+cd(a,r))):n=cd(o+a,u+r),e("transform",n)},bound:D1,draw:function(e,t,n){Mo(t,a=>{var r,i,o,u,c,f,m,g=a.opacity==null?1:a.opacity;if(!(n&&!n.intersects(a.bounds)||g===0||a.fontSize<=0||a.text==null||a.text.length===0)){if(e.font=Nv(a),e.textAlign=a.align||"left",i=(r=Iv(a)).x1,o=r.y1,a.angle&&(e.save(),e.translate(i,o),e.rotate(a.angle*It),i=o=0),i+=a.dx||0,o+=(a.dy||0)+O1(a),f=Qg(a),Ip(e,a),Ee(f))for(c=Nu(a),u=0;u<f.length;++u)m=Iu(a,f[u]),a.fill&&xv(e,a,g)&&e.fillText(m,i,o),a.stroke&&Op(e,a,g)&&e.strokeText(m,i,o),o+=c;else m=Iu(a,f),a.fill&&xv(e,a,g)&&e.fillText(m,i,o),a.stroke&&Op(e,a,g)&&e.strokeText(m,i,o);a.angle&&e.restore()}})},pick:Av(function(e,t,n,a,r,i){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=Iv(t),u=o.x1,c=o.y1,f=D1(tb,t,1),m=-t.angle*It,g=Math.cos(m),v=Math.sin(m),E=g*r-v*i+(u-g*u+v*c),k=v*r+g*i+(c-v*u-g*c);return f.contains(E,k)}),isect:function(e,t){let n=D1(tb,e,2);return Np(t,n[0],n[1],n[2],n[3])||Np(t,n[0],n[1],n[4],n[5])||Np(t,n[4],n[5],n[6],n[7])||Np(t,n[2],n[3],n[6],n[7])}},u2=S1("trail",function(e,t){return gv.context(e)(t)},function(e,t){for(var n,a,r=e.length;--r>=0;)if(e[r].defined!==!1&&(n=e[r].x-t[0])*n+(a=e[r].y-t[1])*a<(n=e[r].size||1)*n)return e[r];return null}),mi={arc:YM,area:KM,group:QM,image:e2,line:t2,path:n2,rect:a2,rule:r2,shape:i2,symbol:o2,text:l2,trail:u2};function M1(e,t,n){var a=mi[e.mark.marktype],r=t||a.bound;return a.nested&&(e=e.mark),r(e.bounds||(e.bounds=new Rn),e,n)}var nT={mark:null};function aT(e,t,n){var a,r,i,o,u=mi[e.marktype],c=u.bound,f=e.items,m=f&&f.length;if(u.nested)return m?i=f[0]:(nT.mark=e,i=nT),o=M1(i,c,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new Rn,m)for(a=0,r=f.length;a<r;++a)t.union(M1(f[a],c,n));return e.bounds=t}let c2=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function rT(e,t){return JSON.stringify(e,c2,t)}function iT(e){return oT(typeof e=="string"?JSON.parse(e):e)}function oT(e){var t,n,a,r=e.marktype,i=e.items;if(i)for(n=0,a=i.length;n<a;++n)t=r?"mark":"group",i[n][t]=e,i[n].zindex&&(i[n][t].zdirty=!0),(r||t)==="group"&&oT(i[n]);return r&&aT(e),e}function L1(e){arguments.length?this.root=iT(e):(this.root=sT({marktype:"group",name:"root",role:"frame"}),this.root.items=[new gl(this.root)])}function sT(e,t){let n={bounds:new Rn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Ou(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function F1(e,t){t=t.toLowerCase();for(var n=e.childNodes,a=0,r=n.length;a<r;++a)if(n[a].tagName.toLowerCase()===t)return n[a]}function Br(e,t,n,a){var r,i=e.childNodes[t];return i&&i.tagName.toLowerCase()===n.toLowerCase()||(r=i||null,i=Ou(e.ownerDocument,n,a),e.insertBefore(i,r)),i}function Fo(e,t){for(var n=e.childNodes,a=n.length;a>t;)e.removeChild(n[--a]);return e}function lT(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Ov(e,t){let n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Du(e,t){this._active=null,this._handlers={},this._loader=e||Ks(),this._tooltip=t||d2}function d2(e,t,n,a){e.element().setAttribute("title",a||"")}function As(e){this._el=null,this._bgcolor=null,this._loader=new bl(e)}L1.prototype={toJSON(e){return rT(this.root,e||0)},mark(e,t,n){let a=sT(e,t=t||this.root.items[0]);return t.items[n]=a,a.zindex&&(a.group.zdirty=!0),a}},Du.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let a=e?e.length:0;--a>=0;)if(e[a].type===t&&(!n||e[a].handler===n))return a;return-1},handlers(e){let t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(let a in t)n.push(...t[a]);return n},eventName(e){let t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(a=>{let r=new MouseEvent(e.type,e),i=Ou(null,"a");for(let o in a)i.setAttribute(o,a[o]);i.dispatchEvent(r)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=function(r,i,o,u){var c,f,m=r&&r.mark;if(m&&(c=mi[m.marktype]).tip){for((f=Ov(i,o))[0]-=u[0],f[1]-=u[1];r=r.mark.group;)f[0]-=r.x||0,f[1]-=r.y||0;r=c.tip(m.items,f)}return r}(t,e,this.canvas(),this._origin);let a=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,a)}},getItemBoundingClientRect(e){let t=this.canvas();if(!t)return;let n=t.getBoundingClientRect(),a=this._origin,r=e.bounds,i=r.width(),o=r.height(),u=r.x1+a[0]+n.left,c=r.y1+a[1]+n.top;for(;e.mark&&(e=e.mark.group);)u+=e.x||0,c+=e.y||0;return{x:u,y:c,width:i,height:o,left:u,top:c,right:u+i,bottom:c+o}}},As.prototype={initialize(e,t,n,a,r){return this._el=e,this.resize(t,n,a,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,a){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=a||1,this},dirty(){},render(e){let t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){let t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,a=n._loader[e](t);if(!n._ready){let r=n._call;n._ready=n._loader.ready().then(i=>{i&&r(),n._ready=null})}return a},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};let uT="dragenter",Dv="dragleave",cT="dragover",P1="mousedown",Mv="mousemove",nb="mouseout",dT="mouseover",Lv="click",fT="mousewheel",Fv="touchstart",Pv="touchmove",$v="touchend",$1=Mv,ab=nb,B1=Lv;function rb(e,t){Du.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}let f2=e=>e===Fv||e===Pv||e===$v?[Fv,Pv,$v]:[e];function pT(e,t){f2(t).forEach(n=>function(a,r){let i=a.canvas();i&&!a._events[r]&&(a._events[r]=1,i.addEventListener(r,a[r]?o=>a[r](o):o=>a.fire(r,o)))}(e,n))}function hT(e,t,n){return function(a){let r=this._active,i=this.pickEvent(a);i===r||(r&&r.exit||this.fire(n,a),this._active=i,this.fire(t,a)),this.fire(e,a)}}function mT(e){return function(t){this.fire(e,t),this._active=null}}Me(rb,Du,{initialize(e,t,n){return this._canvas=e&&F1(e,"canvas"),[Lv,P1,Mv,nb,Dv].forEach(a=>pT(this,a)),Du.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",uT,Dv,cT,P1,"mouseup",Mv,nb,dT,Lv,"dblclick","wheel",fT,Fv,Pv,$v],DOMMouseScroll(e){this.fire(fT,e)},mousemove:hT(Mv,dT,nb),dragover:hT(cT,uT,Dv),mouseout:mT(nb),dragleave:mT(Dv),mousedown(e){this._down=this._active,this.fire(P1,e)},click(e){this._down===this._active&&(this.fire(Lv,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Fv,e,!0)},touchmove(e){this.fire(Pv,e,!0)},touchend(e){this.fire($v,e,!0),this._touch=null},fire(e,t,n){let a=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===B1&&a&&a.href?this.handleHref(t,a,a.href):e!==$1&&e!==ab||this.handleTooltip(t,a,e!==ab),r)for(let i=0,o=r.length;i<o;++i)r[i].handler.call(this._obj,t,a)},on(e,t){let n=this.eventName(e),a=this._handlers;return this._handlerIndex(a[n],e,t)<0&&(pT(this,e),(a[n]||(a[n]=[])).push({type:e,handler:t})),this},off(e,t){let n=this.eventName(e),a=this._handlers[n],r=this._handlerIndex(a,e,t);return r>=0&&a.splice(r,1),this},pickEvent(e){let t=Ov(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,a,r){let i=this.context();return mi[e.marktype].pick.call(this,i,e,t,n,a,r)}});var p2=typeof window<"u"&&window.devicePixelRatio||1;function Bv(e){As.call(this,e),this._options={},this._redraw=!1,this._dirty=new Rn,this._tempb=new Rn}let gT=As.prototype;function U1(e,t){Du.call(this,e,t);let n=this;n._hrefHandler=z1(n,(a,r)=>{r&&r.href&&n.handleHref(a,r,r.href)}),n._tooltipHandler=z1(n,(a,r)=>{n.handleTooltip(a,r,a.type!==ab)})}Me(Bv,As,{initialize(e,t,n,a,r,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Ha(1,1,this._options.type),e&&this._canvas&&(Fo(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),gT.initialize.call(this,e,t,n,a,r)},resize(e,t,n,a){if(gT.resize.call(this,e,t,n,a),this._canvas)(function(r,i,o,u,c,f){let m=typeof HTMLElement<"u"&&r instanceof HTMLElement&&r.parentNode!=null,g=r.getContext("2d"),v=m?p2:c;r.width=i*v,r.height=o*v;for(let E in f)g[E]=f[E];m&&v!==1&&(r.style.width=i+"px",r.style.height=o+"px"),g.pixelRatio=v,g.setTransform(v,0,0,v,v*u[0],v*u[1])})(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let r=this._options.externalContext;r||F("CanvasRenderer is missing a valid canvas or context"),r.scale(this._scale,this._scale),r.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){let t=this._tempb.clear().union(e.bounds),n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){let t=this.context(),n=this._origin,a=this._width,r=this._height,i=this._dirty,o=((c,f,m)=>new Rn().set(0,0,f,m).translate(-c[0],-c[1]))(n,a,r);t.save();let u=this._redraw||i.empty()?(this._redraw=!1,o.expand(1)):function(c,f,m){return f.expand(1).round(),c.pixelRatio%1&&f.scale(c.pixelRatio).round().scale(1/c.pixelRatio),f.translate(-m[0]%1,-m[1]%1),c.beginPath(),c.rect(f.x1,f.y1,f.width(),f.height()),c.clip(),f}(t,o.intersect(i),n);return this.clear(-n[0],-n[1],a,r),this.draw(t,e,u),t.restore(),i.clear(),this},draw(e,t,n){let a=mi[t.marktype];t.clip&&function(r,i){var o=i.clip;r.save(),Je(o)?(r.beginPath(),o(r),r.clip()):VA(r,i.group)}(e,t),a.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,a){let r=this._options,i=this.context();r.type==="pdf"||r.externalContext||i.clearRect(e,t,n,a),this._bgcolor!=null&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,a))}});let z1=(e,t)=>n=>{let a=n.target.__data__;a=Array.isArray(a)?a[0]:a,n.vegaType=n.type,t.call(e._obj,n,a)};Me(U1,Du,{initialize(e,t,n){let a=this._svg;return a&&(a.removeEventListener(B1,this._hrefHandler),a.removeEventListener($1,this._tooltipHandler),a.removeEventListener(ab,this._tooltipHandler)),this._svg=a=e&&F1(e,"svg"),a&&(a.addEventListener(B1,this._hrefHandler),a.addEventListener($1,this._tooltipHandler),a.addEventListener(ab,this._tooltipHandler)),Du.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){let n=this.eventName(e),a=this._handlers;if(this._handlerIndex(a[n],e,t)<0){let r={type:e,handler:t,listener:z1(this,t)};(a[n]||(a[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off(e,t){let n=this.eventName(e),a=this._handlers[n],r=this._handlerIndex(a,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,a[r].listener),a.splice(r,1)),this}});let bT="aria-hidden",G1="aria-label",j1="role",H1="aria-roledescription",yT="graphics-object",q1="graphics-symbol",vT=(e,t,n)=>({[j1]:e,[H1]:t,[G1]:n||void 0}),h2=rr(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),ET={axis:{desc:"axis",caption:function(e){let t=e.datum,n=e.orient,a=t.title?ST(e):null,r=e.context,i=r.scales[t.scale].value,o=r.dataflow.locale(),u=i.type;return(n==="left"||n==="right"?"Y":"X")+"-axis"+(a?` titled '${a}'`:"")+` for a ${ku(u)?"discrete":u} scale with ${ge(o,i,e)}`}},legend:{desc:"legend",caption:function(e){let t=e.datum,n=t.title?ST(e):null,a=`${t.type||""} legend`.trim(),r=t.scales,i=Object.keys(r),o=e.context,u=o.scales[r[i[0]]].value,c=o.dataflow.locale();return f=a,(f.length?f[0].toUpperCase()+f.slice(1):f)+(n?` titled '${n}'`:"")+` for ${function(m){return m=m.map(g=>g+(g==="fill"||g==="stroke"?" color":"")),m.length<2?m[0]:m.slice(0,-1).join(", ")+" and "+Pe(m)}(i)} with ${ge(c,u,e)}`;var f}},"title-text":{desc:"title",caption:e=>`Title text '${xT(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${xT(e)}'`}},wT={ariaRole:j1,ariaRoleDescription:H1,description:G1};function _T(e,t){let n=t.aria===!1;if(e(bT,n||void 0),n||t.description==null)for(let a in wT)e(wT[a],void 0);else{let a=t.mark.marktype;e(G1,t.description),e(j1,t.ariaRole||(a==="group"?yT:q1)),e(H1,t.ariaRoleDescription||`${a} mark`)}}function kT(e){return e.aria===!1?{[bT]:!0}:h2[e.role]?null:ET[e.role]?function(t,n){try{let a=t.items[0],r=n.caption||(()=>"");return vT(n.role||q1,n.desc,a.description||r(a))}catch{return null}}(e,ET[e.role]):function(t){let n=t.marktype,a=n==="group"||n==="text"||t.items.some(r=>r.description!=null&&r.aria!==!1);return vT(a?yT:q1,`${n} mark container`,t.description)}(e)}function xT(e){return Ce(e.text).join(" ")}function ST(e){try{return Ce(Pe(e.items).items[0].text).join(" ")}catch{return null}}let AT=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),m2=e=>AT(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function W1(){let e="",t="",n="",a=[],r=()=>t=n="",i=(u,c)=>(c!=null&&(t+=` ${u}="${m2(c)}"`),o),o={open(u){(g=>{t&&(e+=`${t}>${n}`,r()),a.push(g)})(u),t="<"+u;for(var c=arguments.length,f=new Array(c>1?c-1:0),m=1;m<c;m++)f[m-1]=arguments[m];for(let g of f)for(let v in g)i(v,g[v]);return o},close(){let u=a.pop();return e+=t?t+(n?`>${n}</${u}>`:"/>"):`</${u}>`,r(),o},attr:i,text:u=>(n+=AT(u),o),toString:()=>e};return o}let TT=e=>CT(W1(),e)+"";function CT(e,t){if(e.open(t.tagName),t.hasAttributes()){let n=t.attributes,a=n.length;for(let r=0;r<a;++r)e.attr(n[r].name,n[r].value)}if(t.hasChildNodes()){let n=t.childNodes;for(let a of n)a.nodeType===3?e.text(a.nodeValue):CT(e,a)}return e.close()}let Uv={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},zv={blend:"mix-blend-mode"},RT={fill:"none","stroke-miterlimit":10},NT="http://www.w3.org/2000/xmlns/",sa=Jg.xmlns;function V1(e){As.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let Y1=As.prototype;function IT(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function g2(e,t,n){let a,r,i;if(t.gradient==="radial"){let o=Br(e,n++,"pattern",sa);Mu(o,{id:Ae+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Br(o,0,"rect",sa),Mu(o,{width:1,height:1,fill:`url(${DT()}#${t.id})`}),Mu(e=Br(e,n++,"radialGradient",sa),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Mu(e=Br(e,n++,"linearGradient",sa),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(a=0,r=t.stops.length;a<r;++a)i=Br(e,a,"stop",sa),i.setAttribute("offset",t.stops[a].offset),i.setAttribute("stop-color",t.stops[a].color);return Fo(e,a),n}function b2(e,t,n){let a;return(e=Br(e,n,"clipPath",sa)).setAttribute("id",t.id),t.path?(a=Br(e,0,"path",sa),a.setAttribute("d",t.path)):(a=Br(e,0,"rect",sa),Mu(a,{x:0,y:0,width:t.width,height:t.height})),Fo(e,1),n+1}function OT(e,t,n,a,r){let i,o=e._svg;if(!o&&(i=t.ownerDocument,o=Ou(i,a,sa),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},a==="g"))){let u=Ou(i,"path",sa);o.appendChild(u),u.__data__=e;let c=Ou(i,"g",sa);o.appendChild(c),c.__data__=e;let f=Ou(i,"path",sa);o.appendChild(f),f.__data__=e,f.__values__={fill:"default"}}return(o.ownerSVGElement!==r||function(u,c){return u.parentNode&&u.parentNode.childNodes.length>1&&u.previousSibling!=c}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}Me(V1,As,{initialize(e,t,n,a,r){return this._defs={},this._clearDefs(),e&&(this._svg=Br(e,0,"svg",sa),this._svg.setAttributeNS(NT,"xmlns",sa),this._svg.setAttributeNS(NT,"xmlns:xlink",Jg["xmlns:xlink"]),this._svg.setAttribute("version",Jg.version),this._svg.setAttribute("class","marks"),Fo(e,1),this._root=Br(this._svg,0,"g",sa),Mu(this._root,RT),Fo(this._svg,1)),this.background(this._bgcolor),Y1.initialize.call(this,e,t,n,a,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Y1.background.apply(this,arguments)},resize(e,t,n,a){return Y1.resize.call(this,e,t,n,a),this._svg&&(Mu(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Br(e,0,"rect",sa),Mu(n,{width:this._width,height:this._height,fill:t}));let a=TT(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),a},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Fo(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let e=this._dirty;if(!e.length||!this._dirtyID)return!0;let t=++this._dirtyID,n,a,r,i,o,u,c;for(o=0,u=e.length;o<u;++o)n=e[o],a=n.mark,a.marktype!==r&&(r=a.marktype,i=mi[r]),a.zdirty&&a.dirty!==t&&(this._dirtyAll=!1,IT(n,t),a.items.forEach(f=>{f.dirty=t})),a.zdirty||(n.exit?(i.nested&&a.items.length?(c=a.items[0],c._svg&&this._update(i,c._svg,c)):n._svg&&(c=n._svg.parentNode,c&&c.removeChild(n._svg)),n._svg=null):(n=i.nested?a.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(i,n._svg,n):(this._dirtyAll=!1,IT(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;let a=this._svg,r=mi[t.marktype],i=t.interactive===!1?"none":null,o=r.tag==="g",u=OT(t,e,n,"g",a);u.setAttribute("class",lT(t));let c=kT(t);for(let v in c)mr(u,v,c[v]);o||mr(u,"pointer-events",i),mr(u,"clip-path",t.clip?Yg(this,t,t.group):null);let f=null,m=0,g=v=>{let E=this.isDirty(v),k=OT(v,u,f,r.tag,a);E&&(this._update(r,k,v),o&&function(_,R,O){R=R.lastChild.previousSibling;let N,$=0;Mo(O,M=>{N=_.mark(R,M,N),++$}),Fo(R,1+$)}(this,k,v)),f=k,++m};return r.nested?t.items.length&&g(t.items[0]):Mo(t,g),Fo(u,m),u},_update(e,t,n){El=t,Xa=t.__values__,_T(ib,n),e.attr(ib,n,this);let a=y2[e.type];a&&a.call(this,e,t,n),El&&this.style(El,n)},style(e,t){if(t!=null){for(let n in Uv){let a=n==="font"?eb(t):t[n];if(a===Xa[n])continue;let r=Uv[n];a==null?e.removeAttribute(r):(Fe(a)&&(a=He(a,this._defs.gradient,DT())),e.setAttribute(r,a+"")),Xa[n]=a}for(let n in zv)Gv(e,zv[n],t[n])}},defs(){let e=this._svg,t=this._defs,n=t.el,a=0;for(let r in t.gradient)n||(t.el=n=Br(e,1,"defs",sa)),a=g2(n,t.gradient[r],a);for(let r in t.clipping)n||(t.el=n=Br(e,1,"defs",sa)),a=b2(n,t.clipping[r],a);n&&(a===0?(e.removeChild(n),t.el=null):Fo(n,a))},_clearDefs(){let e=this._defs;e.gradient={},e.clipping={}}});let El=null,Xa=null,y2={group(e,t,n){let a=El=t.childNodes[2];Xa=a.__values__,e.foreground(ib,n,this),Xa=t.__values__,El=t.childNodes[1],e.content(ib,n,this);let r=El=t.childNodes[0];e.background(ib,n,this);let i=n.mark.interactive===!1?"none":null;if(i!==Xa.events&&(mr(a,"pointer-events",i),mr(r,"pointer-events",i),Xa.events=i),n.strokeForeground&&n.stroke){let o=n.fill;mr(a,"display",null),this.style(r,n),mr(r,"stroke",null),o&&(n.fill=null),Xa=a.__values__,this.style(a,n),o&&(n.fill=o),El=null}else mr(a,"display","none")},image(e,t,n){n.smooth===!1?(Gv(t,"image-rendering","optimizeSpeed"),Gv(t,"image-rendering","pixelated")):Gv(t,"image-rendering",null)},text(e,t,n){let a=Qg(n),r,i,o,u;Ee(a)?(i=a.map(c=>Iu(n,c)),r=i.join(`
`),r!==Xa.text&&(Fo(t,0),o=t.ownerDocument,u=Nu(n),i.forEach((c,f)=>{let m=Ou(o,"tspan",sa);m.__data__=n,m.textContent=c,f&&(m.setAttribute("x",0),m.setAttribute("dy",u)),t.appendChild(m)}),Xa.text=r)):(i=Iu(n,a),i!==Xa.text&&(t.textContent=i,Xa.text=i)),mr(t,"font-family",eb(n)),mr(t,"font-size",Ss(n)+"px"),mr(t,"font-style",n.fontStyle),mr(t,"font-variant",n.fontVariant),mr(t,"font-weight",n.fontWeight)}};function ib(e,t,n){t!==Xa[e]&&(n?function(a,r,i,o){i!=null?a.setAttributeNS(o,r,i):a.removeAttributeNS(o,r)}(El,e,t,n):mr(El,e,t),Xa[e]=t)}function Gv(e,t,n){n!==Xa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Xa[t]=n)}function Mu(e,t){for(let n in t)mr(e,n,t[n])}function mr(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function DT(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function K1(e){As.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Me(K1,As,{svg(){return this._text},_render(e){let t=W1();t.open("svg",pt({},Jg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",RT,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){let n=mi[t.marktype],a=n.tag,r=[_T,n.attr];e.open("g",{class:lT(t),"clip-path":t.clip?Yg(this,t,t.group):null},kT(t),{"pointer-events":a!=="g"&&t.interactive===!1?"none":null});let i=o=>{let u=this.href(o);if(u&&e.open("a",u),e.open(a,this.attr(t,o,r,a!=="g"?a:null)),a==="text"){let c=Qg(o);if(Ee(c)){let f={x:0,dy:Nu(o)};for(let m=0;m<c.length;++m)e.open("tspan",m?f:null).text(Iu(o,c[m])).close()}else e.text(Iu(o,c))}else if(a==="g"){let c=o.strokeForeground,f=o.fill,m=o.stroke;c&&m&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),Mo(o,g=>this.mark(e,g)),e.close(),c&&m?(f&&(o.fill=null),o.stroke=m,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),f&&(o.fill=f)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),u&&e.close()};return n.nested?t.items&&t.items.length&&i(t.items[0]):Mo(t,i),e.close()},href(e){let t=e.href,n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(a=>{a["xlink:href"]=a.href,a.href=null,(this._hrefs||(this._hrefs={}))[t]=a})}return null},attr(e,t,n,a){let r={},i=(o,u,c,f)=>{r[f||o]=u};return Array.isArray(n)?n.forEach(o=>o(i,t,this)):n(i,t,this),a&&function(o,u,c,f,m){let g;if(u==null||(f==="bgrect"&&c.interactive===!1&&(o["pointer-events"]="none"),f==="bgfore"&&(c.interactive===!1&&(o["pointer-events"]="none"),o.display="none",u.fill!==null)))return o;f==="image"&&u.smooth===!1&&(g=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),f==="text"&&(o["font-family"]=eb(u),o["font-size"]=Ss(u)+"px",o["font-style"]=u.fontStyle,o["font-variant"]=u.fontVariant,o["font-weight"]=u.fontWeight);for(let v in Uv){let E=u[v],k=Uv[v];(E!=="transparent"||k!=="fill"&&k!=="stroke")&&E!=null&&(Fe(E)&&(E=He(E,m.gradient,"")),o[k]=E)}for(let v in zv){let E=u[v];E!=null&&(g=g||[],g.push(`${zv[v]}: ${E};`))}g&&(o.style=g.join(" "))}(r,t,e,a,this._defs),r},defs(e){let t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(let a in t){let r=t[a],i=r.stops;r.gradient==="radial"?(e.open("pattern",{id:Ae+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),e.close(),e.open("radialGradient",{id:a,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):e.open("linearGradient",{id:a,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let o=0;o<i.length;++o)e.open("stop",{offset:i[o].offset,"stop-color":i[o].color}).close();e.close()}for(let a in n){let r=n[a];e.open("clipPath",{id:a}),r.path?e.open("path",{d:r.path}).close():e.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),e.close()}e.close()}}});let MT="canvas",LT="none",Lu={Canvas:MT,PNG:"png",SVG:"svg",None:LT},Dp={};function jv(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Dp[e]=t,this):Dp[e]}function FT(e,t,n){let a=[],r=new Rn().union(t),i=e.marktype;return i?PT(e,r,n,a):i==="group"?$T(e,r,n,a):F("Intersect scene must be mark node or group item.")}function PT(e,t,n,a){if(function(r,i,o){return r.bounds&&i.intersects(r.bounds)&&(r.marktype==="group"||r.interactive!==!1&&(!o||o(r)))}(e,t,n)){let r=e.items,i=e.marktype,o=r.length,u=0;if(i==="group")for(;u<o;++u)$T(r[u],t,n,a);else for(let c=mi[i].isect;u<o;++u){let f=r[u];BT(f,t,c)&&a.push(f)}}return a}function $T(e,t,n,a){n&&n(e.mark)&&BT(e,t,mi.group.isect)&&a.push(e);let r=e.items,i=r&&r.length;if(i){let o=e.x||0,u=e.y||0;t.translate(-o,-u);for(let c=0;c<i;++c)PT(r[c],t,n,a);t.translate(o,u)}return a}function BT(e,t,n){let a=e.bounds;return t.encloses(a)||t.intersects(a)&&n(e,t)}Dp[MT]=Dp.png={renderer:Bv,headless:Bv,handler:rb},Dp.svg={renderer:V1,headless:K1,handler:U1},Dp[LT]={};let X1=new Rn;function UT(e){let t=e.clip;if(Je(t))t(Kg(X1.clear()));else{if(!t)return;X1.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(X1)}let v2=1e-9;function Z1(e,t,n){return e===t||(n==="path"?zT(e,t):e instanceof Date&&t instanceof Date?+e==+t:Pa(e)&&Pa(t)?Math.abs(e-t)<=v2:e&&t&&(ye(e)||ye(t))?function(a,r){var i,o,u=Object.keys(a),c=Object.keys(r);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),o=u.length-1;o>=0;o--)if(u[o]!=c[o])return!1;for(o=u.length-1;o>=0;o--)if(!Z1(a[i=u[o]],r[i],i))return!1;return typeof a==typeof r}(e,t):e==t)}function zT(e,t){return Z1(Bt(e),Bt(t))}let Mp="top",Po="left",$o="right",Fu="bottom",E2="top-left",w2="top-right",_2="bottom-left",k2="bottom-right",J1="start",Q1="middle",gr="end",x2="x",S2="y",Hv="group",ek="axis",tk="title",A2="frame",T2="scope",nk="legend",GT="row-header",jT="row-footer",HT="row-title",qT="column-header",WT="column-footer",VT="column-title",C2="padding",R2="symbol",YT="fit",KT="fit-x",XT="fit-y",N2="pad",ak="none",qv="all",rk="each",ik="flush",Pu="column",$u="row";function ZT(e){xe.call(this,null,e)}function Wv(e,t,n){return t(e.bounds.clear(),e,n)}Me(ZT,xe,{transform(e,t){let n=t.dataflow,a=e.mark,r=a.marktype,i=mi[r],o=i.bound,u,c=a.bounds;if(i.nested)a.items.length&&n.dirty(a.items[0]),c=Wv(a,o),a.items.forEach(f=>{f.bounds.clear().union(c)});else if(r===Hv||e.modified())switch(t.visit(t.MOD,f=>n.dirty(f)),c.clear(),a.items.forEach(f=>c.union(Wv(f,o))),a.role){case ek:case nk:case tk:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,f=>{c.union(Wv(f,o))}),t.visit(t.MOD,f=>{u=u||c.alignsWith(f.bounds),n.dirty(f),c.union(Wv(f,o))}),u&&(c.clear(),a.items.forEach(f=>c.union(f.bounds)));return UT(a),t.modifies("bounds")}});let JT=":vega_identifier:";function ok(e){xe.call(this,0,e)}function QT(e){xe.call(this,null,e)}function eC(e){xe.call(this,null,e)}ok.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Me(ok,xe,{transform(e,t){let n=(r=t.dataflow)._signals[JT]||(r._signals[JT]=r.add(0)),a=e.as;var r;let i=n.value;return t.visit(t.ADD,o=>o[a]=o[a]||++i),n.set(this.value=i),t}}),Me(QT,xe,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(r){let i=r.groups,o=r.parent;return i&&i.size===1?i.get(Object.keys(i.object)[0]):i&&o?i.lookup(o):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);let a=n.marktype===Hv?gl:Oo;return t.visit(t.ADD,r=>a.call(r,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});let tC={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((a,r)=>r&&nC(n.bounds,a.bounds,t)?a.opacity=0:(n=a,1))}},nC=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),aC=(e,t)=>{for(var n,a=1,r=e.length,i=e[0].bounds;a<r;i=n,++a)if(nC(i,n=e[a].bounds,t))return!0},I2=e=>{let t=e.bounds;return t.width()>1&&t.height()>1},rC=e=>(e.forEach(t=>t.opacity=1),e),iC=(e,t)=>e.reflow(t.modified()).modifies("opacity");function oC(e){xe.call(this,null,e)}Me(eC,xe,{transform(e,t){let n=tC[e.method]||tC.parity,a=e.separation||0,r,i,o=t.materialize(t.SOURCE).source;if(!o||!o.length)return;if(!e.method)return e.modified("method")&&(rC(o),t=iC(t,e)),t;if(o=o.filter(I2),!o.length)return;if(e.sort&&(o=o.slice().sort(e.sort)),r=rC(o),t=iC(t,e),r.length>=3&&aC(r,a)){do r=n(r,a);while(r.length>=3&&aC(r,a));r.length<3&&!Pe(o).opacity&&(r.length>1&&(Pe(r).opacity=0),Pe(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(i=((c,f,m)=>{var g=c.range(),v=new Rn;return f===Mp||f===Fu?v.set(g[0],-1/0,g[1],1/0):v.set(-1/0,g[0],1/0,g[1]),v.expand(m||1),E=>v.encloses(E.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach(c=>{i(c)||(c.opacity=0)}));let u=r[0].mark.bounds.clear();return o.forEach(c=>{c.opacity&&u.union(c.bounds)}),t}}),Me(oC,xe,{transform(e,t){let n=t.dataflow;if(t.visit(t.ALL,a=>n.dirty(a)),t.fields&&t.fields.zindex){let a=t.source&&t.source[0];a&&(a.mark.zdirty=!0)}}});let Za=new Rn;function Lp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function O2(e){var t=e.items[0].orient;return t===Po||t===$o}function D2(e,t,n,a){var r,i,o=t.items[0],u=o.datum,c=o.translate!=null?o.translate:.5,f=o.orient,m=function(z){let q=+z.grid;return[z.ticks?q++:-1,z.labels?q++:-1,q+ +z.domain]}(u),g=o.range,v=o.offset,E=o.position,k=o.minExtent,_=o.maxExtent,R=u.title&&o.items[m[2]].items[0],O=o.titlePadding,N=o.bounds,$=R&&I1(R),M=0,U=0;switch(Za.clear().union(N),N.clear(),(r=m[0])>-1&&N.union(o.items[r].bounds),(r=m[1])>-1&&N.union(o.items[r].bounds),f){case Mp:M=E||0,U=-v,i=Math.max(k,Math.min(_,-N.y1)),N.add(0,-i).add(g,0),R&&Vv(e,R,i,O,$,0,-1,N);break;case Po:M=-v,U=E||0,i=Math.max(k,Math.min(_,-N.x1)),N.add(-i,0).add(0,g),R&&Vv(e,R,i,O,$,1,-1,N);break;case $o:M=n+v,U=E||0,i=Math.max(k,Math.min(_,N.x2)),N.add(0,0).add(i,g),R&&Vv(e,R,i,O,$,1,1,N);break;case Fu:M=E||0,U=a+v,i=Math.max(k,Math.min(_,N.y2)),N.add(0,0).add(g,i),R&&Vv(e,R,i,O,0,0,1,N);break;default:M=o.x,U=o.y}return vl(N.translate(M,U),o),Lp(o,"x",M+c)|Lp(o,"y",U+c)&&(o.bounds=Za,e.dirty(o),o.bounds=N,e.dirty(o)),o.mark.bounds.clear().union(N)}function Vv(e,t,n,a,r,i,o,u){let c=t.bounds;if(t.auto){let f=o*(n+r+a),m=0,g=0;e.dirty(t),i?m=(t.x||0)-(t.x=f):g=(t.y||0)-(t.y=f),t.mark.bounds.clear().union(c.translate(-m,-g)),e.dirty(t)}u.union(c)}let sC=(e,t)=>Math.floor(Math.min(e,t)),lC=(e,t)=>Math.ceil(Math.max(e,t));function M2(e){return new Rn().set(0,0,e.width||0,e.height||0)}function L2(e){let t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function yn(e,t,n){let a=ye(e)?e[t]:e;return a??(n!==void 0?n:0)}function uC(e){return e<0?Math.ceil(-e):0}function cC(e,t,n){var a,r,i,o,u,c,f,m,g,v,E,k=!n.nodirty,_=n.bounds===ik?M2:L2,R=Za.set(0,0,0,0),O=yn(n.align,Pu),N=yn(n.align,$u),$=yn(n.padding,Pu),M=yn(n.padding,$u),U=n.columns||t.length,z=U<=0?1:Math.ceil(t.length/U),q=t.length,Y=Array(q),K=Array(U),ne=0,X=Array(q),ie=Array(z),oe=0,le=Array(q),ce=Array(q),ve=Array(q);for(r=0;r<U;++r)K[r]=0;for(r=0;r<z;++r)ie[r]=0;for(r=0;r<q;++r)c=t[r],u=ve[r]=_(c),c.x=c.x||0,le[r]=0,c.y=c.y||0,ce[r]=0,i=r%U,o=~~(r/U),ne=Math.max(ne,f=Math.ceil(u.x2)),oe=Math.max(oe,m=Math.ceil(u.y2)),K[i]=Math.max(K[i],f),ie[o]=Math.max(ie[o],m),Y[r]=$+uC(u.x1),X[r]=M+uC(u.y1),k&&e.dirty(t[r]);for(r=0;r<q;++r)r%U==0&&(Y[r]=0),r<U&&(X[r]=0);if(O===rk)for(i=1;i<U;++i){for(E=0,r=i;r<q;r+=U)E<Y[r]&&(E=Y[r]);for(r=i;r<q;r+=U)Y[r]=E+K[i-1]}else if(O===qv){for(E=0,r=0;r<q;++r)r%U&&E<Y[r]&&(E=Y[r]);for(r=0;r<q;++r)r%U&&(Y[r]=E+ne)}else for(O=!1,i=1;i<U;++i)for(r=i;r<q;r+=U)Y[r]+=K[i-1];if(N===rk)for(o=1;o<z;++o){for(E=0,a=(r=o*U)+U;r<a;++r)E<X[r]&&(E=X[r]);for(r=o*U;r<a;++r)X[r]=E+ie[o-1]}else if(N===qv){for(E=0,r=U;r<q;++r)E<X[r]&&(E=X[r]);for(r=U;r<q;++r)X[r]=E+oe}else for(N=!1,o=1;o<z;++o)for(a=(r=o*U)+U;r<a;++r)X[r]+=ie[o-1];for(g=0,r=0;r<q;++r)g=Y[r]+(r%U?g:0),le[r]+=g-t[r].x;for(i=0;i<U;++i)for(v=0,r=i;r<q;r+=U)v+=X[r],ce[r]+=v-t[r].y;if(O&&yn(n.center,Pu)&&z>1)for(r=0;r<q;++r)(g=(u=O===qv?ne:K[r%U])-ve[r].x2-t[r].x-le[r])>0&&(le[r]+=g/2);if(N&&yn(n.center,$u)&&U!==1)for(r=0;r<q;++r)(v=(u=N===qv?oe:ie[~~(r/U)])-ve[r].y2-t[r].y-ce[r])>0&&(ce[r]+=v/2);for(r=0;r<q;++r)R.union(ve[r].translate(le[r],ce[r]));switch(g=yn(n.anchor,x2),v=yn(n.anchor,S2),yn(n.anchor,Pu)){case gr:g-=R.width();break;case Q1:g-=R.width()/2}switch(yn(n.anchor,$u)){case gr:v-=R.height();break;case Q1:v-=R.height()/2}for(g=Math.round(g),v=Math.round(v),R.clear(),r=0;r<q;++r)t[r].mark.bounds.clear();for(r=0;r<q;++r)(c=t[r]).x+=le[r]+=g,c.y+=ce[r]+=v,R.union(c.mark.bounds.union(c.bounds.translate(le[r],ce[r]))),k&&e.dirty(c);return R}function F2(e,t,n){var a,r,i,o,u,c,f,m=function(N){var $,M,U=N.items,z=U.length,q=0;let Y={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;q<z;++q)if(M=($=U[q]).items,$.marktype===Hv)switch($.role){case ek:case nk:case tk:break;case GT:Y.rowheaders.push(...M);break;case jT:Y.rowfooters.push(...M);break;case qT:Y.colheaders.push(...M);break;case WT:Y.colfooters.push(...M);break;case HT:Y.rowtitle=M[0];break;case VT:Y.coltitle=M[0];break;default:Y.marks.push(...M)}return Y}(t),g=m.marks,v=n.bounds===ik?P2:$2,E=n.offset,k=n.columns||g.length,_=k<=0?1:Math.ceil(g.length/k),R=_*k;let O=cC(e,g,n);O.empty()&&O.set(0,0,0,0),m.rowheaders&&(c=yn(n.headerBand,$u,null),a=Yv(e,m.rowheaders,g,k,_,-yn(E,"rowHeader"),sC,0,v,"x1",0,k,1,c)),m.colheaders&&(c=yn(n.headerBand,Pu,null),r=Yv(e,m.colheaders,g,k,k,-yn(E,"columnHeader"),sC,1,v,"y1",0,1,k,c)),m.rowfooters&&(c=yn(n.footerBand,$u,null),i=Yv(e,m.rowfooters,g,k,_,yn(E,"rowFooter"),lC,0,v,"x2",k-1,k,1,c)),m.colfooters&&(c=yn(n.footerBand,Pu,null),o=Yv(e,m.colfooters,g,k,k,yn(E,"columnFooter"),lC,1,v,"y2",R-k,1,k,c)),m.rowtitle&&(u=yn(n.titleAnchor,$u),f=yn(E,"rowTitle"),f=u===gr?i+f:a-f,c=yn(n.titleBand,$u,.5),dC(e,m.rowtitle,f,0,O,c)),m.coltitle&&(u=yn(n.titleAnchor,Pu),f=yn(E,"columnTitle"),f=u===gr?o+f:r-f,c=yn(n.titleBand,Pu,.5),dC(e,m.coltitle,f,1,O,c))}function P2(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function $2(e,t){return e.bounds[t]}function Yv(e,t,n,a,r,i,o,u,c,f,m,g,v,E){var k,_,R,O,N,$,M,U,z,q=n.length,Y=0,K=0;if(!q)return Y;for(k=m;k<q;k+=g)n[k]&&(Y=o(Y,c(n[k],f)));if(!t.length)return Y;for(t.length>r&&(e.warn("Grid headers exceed limit: "+r),t=t.slice(0,r)),Y+=i,_=0,O=t.length;_<O;++_)e.dirty(t[_]),t[_].mark.bounds.clear();for(k=m,_=0,O=t.length;_<O;++_,k+=g){for(N=($=t[_]).mark.bounds,R=k;R>=0&&(M=n[R])==null;R-=v);u?(U=E==null?M.x:Math.round(M.bounds.x1+E*M.bounds.width()),z=Y):(U=Y,z=E==null?M.y:Math.round(M.bounds.y1+E*M.bounds.height())),N.union($.bounds.translate(U-($.x||0),z-($.y||0))),$.x=U,$.y=z,e.dirty($),K=o(K,N[f])}return K}function dC(e,t,n,a,r,i){if(t){e.dirty(t);var o=n,u=n;a?o=Math.round(r.x1+i*r.width()):u=Math.round(r.y1+i*r.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function B2(e,t,n,a,r,i,o){let u=function(v,E){let k=v[E]||{};return(_,R)=>k[_]!=null?k[_]:v[_]!=null?v[_]:R}(n,t),c=function(v,E){let k=-1/0;return v.forEach(_=>{_.offset!=null&&(k=Math.max(k,_.offset))}),k>-1/0?k:E}(e,u("offset",0)),f=u("anchor",J1),m=f===gr?1:f===Q1?.5:0,g={align:rk,bounds:u("bounds",ik),columns:u("direction")==="vertical"?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case Po:g.anchor={x:Math.floor(a.x1)-c,column:gr,y:m*(o||a.height()+2*a.y1),row:f};break;case $o:g.anchor={x:Math.ceil(a.x2)+c,y:m*(o||a.height()+2*a.y1),row:f};break;case Mp:g.anchor={y:Math.floor(r.y1)-c,row:gr,x:m*(i||r.width()+2*r.x1),column:f};break;case Fu:g.anchor={y:Math.ceil(r.y2)+c,x:m*(i||r.width()+2*r.x1),column:f};break;case E2:g.anchor={x:c,y:c};break;case w2:g.anchor={x:i-c,y:c,column:gr};break;case _2:g.anchor={x:c,y:o-c,row:gr};break;case k2:g.anchor={x:i-c,y:o-c,column:gr,row:gr}}return g}function U2(e,t){var n,a,r=t.items[0],i=r.datum,o=r.orient,u=r.bounds,c=r.x,f=r.y;return r._bounds?r._bounds.clear().union(u):r._bounds=u.clone(),u.clear(),function(m,g,v){var E=g.padding,k=E-v.x,_=E-v.y;if(g.datum.title){var R=g.items[1].items[0],O=R.anchor,N=g.titlePadding||0,$=E-R.x,M=E-R.y;switch(R.orient){case Po:k+=Math.ceil(R.bounds.width())+N;break;case $o:case Fu:break;default:_+=R.bounds.height()+N}switch((k||_)&&ob(m,v,k,_),R.orient){case Po:M+=Fp(g,v,R,O,1,1);break;case $o:$+=Fp(g,v,R,gr,0,0)+N,M+=Fp(g,v,R,O,1,1);break;case Fu:$+=Fp(g,v,R,O,0,0),M+=Fp(g,v,R,gr,-1,0,1)+N;break;default:$+=Fp(g,v,R,O,0,0)}($||M)&&ob(m,R,$,M),($=Math.round(R.bounds.x1-E))<0&&(ob(m,v,-$,0),ob(m,R,-$,0))}else(k||_)&&ob(m,v,k,_)}(e,r,r.items[0].items[0]),u=function(m,g){return m.items.forEach(v=>g.union(v.bounds)),g.x1=m.padding,g.y1=m.padding,g}(r,u),n=2*r.padding,a=2*r.padding,u.empty()||(n=Math.ceil(u.width()+n),a=Math.ceil(u.height()+a)),i.type===R2&&function(m){let g=m.reduce((v,E)=>(v[E.column]=Math.max(E.bounds.x2-E.x,v[E.column]||0),v),{});m.forEach(v=>{v.width=g[v.column],v.height=v.bounds.y2-v.y})}(r.items[0].items[0].items[0].items),o!==ak&&(r.x=c=0,r.y=f=0),r.width=n,r.height=a,vl(u.set(c,f,c+n,f+a),r),r.mark.bounds.clear().union(u),r}function Fp(e,t,n,a,r,i,o){let u=e.datum.type!=="symbol",c=n.datum.vgrad,f=(!u||!i&&c||o?t:t.items[0]).bounds[r?"y2":"x2"]-e.padding,m=c&&i?f:0,g=c&&i?0:f,v=r<=0?0:I1(n);return Math.round(a===J1?m:a===gr?g-v:.5*(f-v))}function ob(e,t,n,a){t.x+=n,t.y+=a,t.bounds.translate(n,a),t.mark.bounds.translate(n,a),e.dirty(t)}function fC(e){xe.call(this,null,e)}Me(fC,xe,{transform(e,t){let n=t.dataflow;return e.mark.items.forEach(a=>{e.layout&&F2(n,a,e.layout),function(r,i,o){var u,c,f,m,g,v=i.items,E=Math.max(0,i.width||0),k=Math.max(0,i.height||0),_=new Rn().set(0,0,E,k),R=_.clone(),O=_.clone(),N=[];for(m=0,g=v.length;m<g;++m)switch((c=v[m]).role){case ek:(O2(c)?R:O).union(D2(r,c,E,k));break;case tk:u=c;break;case nk:N.push(U2(r,c));break;case A2:case T2:case GT:case jT:case HT:case qT:case WT:case VT:R.union(c.bounds),O.union(c.bounds);break;default:_.union(c.bounds)}if(N.length){let $={};N.forEach(M=>{(f=M.orient||$o)!==ak&&($[f]||($[f]=[])).push(M)});for(let M in $){let U=$[M];cC(r,U,B2(U,M,o.legends,R,O,E,k))}N.forEach(M=>{let U=M.bounds;if(U.equals(M._bounds)||(M.bounds=M._bounds,r.dirty(M),M.bounds=U,r.dirty(M)),!o.autosize||o.autosize.type!==YT&&o.autosize.type!==KT&&o.autosize.type!==XT)_.union(U);else switch(M.orient){case Po:case $o:_.add(U.x1,0).add(U.x2,0);break;case Mp:case Fu:_.add(0,U.y1).add(0,U.y2)}})}_.union(R).union(O),u&&_.union(function($,M,U,z,q){var Y,K=M.items[0],ne=K.frame,X=K.orient,ie=K.anchor,oe=K.offset,le=K.padding,ce=K.items[0].items[0],ve=K.items[1]&&K.items[1].items[0],_e=X===Po||X===$o?z:U,Ie=0,Be=0,je=0,Oe=0,ot=0;if(ne!==Hv?X===Po?(Ie=q.y2,_e=q.y1):X===$o?(Ie=q.y1,_e=q.y2):(Ie=q.x1,_e=q.x2):X===Po&&(Ie=z,_e=0),Y=ie===J1?Ie:ie===gr?_e:(Ie+_e)/2,ve&&ve.text){switch(X){case Mp:case Fu:ot=ce.bounds.height()+le;break;case Po:Oe=ce.bounds.width()+le;break;case $o:Oe=-ce.bounds.width()-le}Za.clear().union(ve.bounds),Za.translate(Oe-(ve.x||0),ot-(ve.y||0)),Lp(ve,"x",Oe)|Lp(ve,"y",ot)&&($.dirty(ve),ve.bounds.clear().union(Za),ve.mark.bounds.clear().union(Za),$.dirty(ve)),Za.clear().union(ve.bounds)}else Za.clear();switch(Za.union(ce.bounds),X){case Mp:Be=Y,je=q.y1-Za.height()-oe;break;case Po:Be=q.x1-Za.width()-oe,je=Y;break;case $o:Be=q.x2+Za.width()+oe,je=Y;break;case Fu:Be=Y,je=q.y2+oe;break;default:Be=K.x,je=K.y}return Lp(K,"x",Be)|Lp(K,"y",je)&&(Za.translate(Be,je),$.dirty(K),K.bounds.clear().union(Za),M.bounds.clear().union(Za),$.dirty(K)),K.bounds}(r,u,E,k,_)),i.clip&&_.set(0,0,i.width||0,i.height||0),function($,M,U,z){let q=z.autosize||{},Y=q.type;if($._autosize<1||!Y)return;let K=$._width,ne=$._height,X=Math.max(0,M.width||0),ie=Math.max(0,Math.ceil(-U.x1)),oe=Math.max(0,M.height||0),le=Math.max(0,Math.ceil(-U.y1)),ce=Math.max(0,Math.ceil(U.x2-X)),ve=Math.max(0,Math.ceil(U.y2-oe));if(q.contains===C2){let _e=$.padding();K-=_e.left+_e.right,ne-=_e.top+_e.bottom}Y===ak?(ie=0,le=0,X=K,oe=ne):Y===YT?(X=Math.max(0,K-ie-ce),oe=Math.max(0,ne-le-ve)):Y===KT?(X=Math.max(0,K-ie-ce),ne=oe+le+ve):Y===XT?(K=X+ie+ce,oe=Math.max(0,ne-le-ve)):Y===N2&&(K=X+ie+ce,ne=oe+le+ve),$._resizeView(K,ne,X,oe,[ie,le],q.resize)}(r,i,_,o)}(n,a,e)}),function(a){return a&&a.mark.role!=="legend-entry"}(e.mark.group)?t.reflow():t}});var z2=Object.freeze({__proto__:null,bound:ZT,identifier:ok,mark:QT,overlap:eC,render:oC,viewlayout:fC});function pC(e){xe.call(this,null,e)}function hC(e){xe.call(this,null,e)}function G2(){return Rt({})}function mC(e){xe.call(this,null,e)}function gC(e){xe.call(this,[],e)}Me(pC,xe,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,o=d(i,e.count==null?e.values?e.values.length:10:e.count,e.minstep),u=e.format||w(n,i,o,e.formatSpecifier,e.formatType,!!e.values),c=e.values?h(i,e.values,o):y(i,o);return r&&(a.rem=r),r=c.map((f,m)=>Rt({index:m/(c.length-1||1),value:f,label:u(f)})),e.extra&&r.length&&r.push(Rt({index:-1,extra:{value:r[0].value},label:""})),a.source=r,a.add=r,this.value=r,a}}),Me(hC,xe,{transform(e,t){var n=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.item||G2,i=e.key||at,o=this.value;return Ee(a.encode)&&(a.encode=null),o&&(e.modified("key")||t.modified(i))&&F("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(u){let c=ca().test(f=>f.exit);return c.lookup=f=>c.get(u(f)),c}(i)),t.visit(t.ADD,u=>{let c=i(u),f=o.get(c);f?f.exit?(o.empty--,a.add.push(f)):a.mod.push(f):(f=r(u),o.set(c,f),a.add.push(f)),f.datum=u,f.exit=!1}),t.visit(t.MOD,u=>{let c=i(u),f=o.get(c);f&&(f.datum=u,a.mod.push(f))}),t.visit(t.REM,u=>{let c=i(u),f=o.get(c);u!==f.datum||f.exit||(a.rem.push(f),f.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&a.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),a}}),Me(mC,xe,{transform(e,t){var n=t.fork(t.ADD_REM),a=e.mod||!1,r=e.encoders,i=t.encode;if(Ee(i)){if(!n.changed()&&!i.every(g=>r[g]))return t.StopPropagation;i=i[0],n.encode=null}var o=i==="enter",u=r.update||te,c=r.enter||te,f=r.exit||te,m=(i&&!o?r[i]:u)||te;if(t.changed(t.ADD)&&(t.visit(t.ADD,g=>{c(g,e),u(g,e)}),n.modifies(c.output),n.modifies(u.output),m!==te&&m!==u&&(t.visit(t.ADD,g=>{m(g,e)}),n.modifies(m.output))),t.changed(t.REM)&&f!==te&&(t.visit(t.REM,g=>{f(g,e)}),n.modifies(f.output)),o||m!==te){let g=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(g,v=>{let E=c(v,e)||a;(m(v,e)||E)&&n.mod.push(v)}),n.mod.length&&n.modifies(c.output)):t.visit(g,v=>{(m(v,e)||a)&&n.mod.push(v)}),n.mod.length&&n.modifies(m.output)}return n.changed()?n:t.StopPropagation}}),Me(gC,xe,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n,a,r,i,o,u=t.dataflow.locale(),c=t.fork(t.NO_SOURCE|t.NO_FIELDS),f=this.value,m=e.type||xu,g=e.scale,v=+e.limit,E=d(g,e.count==null?5:e.count,e.minstep),k=!!e.values||m===xu,_=e.format||H(u,g,E,m,e.formatSpecifier,e.formatType,k),R=e.values||L(g,E);return f&&(c.rem=f),m===xu?(v&&R.length>v?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),f=R.slice(0,v-1),o=!0):f=R,Je(r=e.size)?(e.values||g(f[0])!==0||(f=f.slice(1)),i=f.reduce((O,N)=>Math.max(O,r(N,e)),0)):r=dn(i=r||8),f=f.map((O,N)=>Rt({index:N,label:_(O,N,f),value:O,offset:i,size:r(O,e)})),o&&(o=R[f.length],f.push(Rt({index:f.length,label:`\u2026${R.length-f.length} entries`,value:o,offset:i,size:r(o,e)})))):m==="gradient"?(n=g.domain(),a=rd(g,n[0],Pe(n)),R.length<3&&!e.values&&n[0]!==Pe(n)&&(R=[n[0],Pe(n)]),f=R.map((O,N)=>Rt({index:N,label:_(O,N,R),value:O,perc:a(O)}))):(r=R.length-1,a=function(O){let N=O.domain(),$=N.length-1,M=+N[0],U=+Pe(N),z=U-M;if(O.type===fl){let q=$?z/$:.1;M-=q,U+=q,z=U-M}return q=>(q-M)/z}(g),f=R.map((O,N)=>Rt({index:N,label:_(O,N,R),value:O,perc:N?a(O):0,perc2:N===r?1:a(R[N+1])}))),c.source=f,c.add=f,this.value=f,c}});let j2=e=>e.source.x,H2=e=>e.source.y,q2=e=>e.target.x,W2=e=>e.target.y;function sk(e){xe.call(this,{},e)}sk.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Me(sk,xe,{transform(e,t){var n=e.sourceX||j2,a=e.sourceY||H2,r=e.targetX||q2,i=e.targetY||W2,o=e.as||"path",u=e.orient||"vertical",c=e.shape||"line",f=EC.get(c+"-"+u)||EC.get(c);return f||F("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,m=>{m[o]=f(n(m),a(m),r(m),i(m))}),t.reflow(e.modified()).modifies(o)}});let bC=(e,t,n,a)=>"M"+e+","+t+"L"+n+","+a,yC=(e,t,n,a)=>{var r=n-e,i=a-t,o=Math.hypot(r,i)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(i,r)/Math.PI+" 0 1 "+n+","+a},vC=(e,t,n,a)=>{let r=n-e,i=a-t,o=.2*(r+i),u=.2*(i-r);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(a-o)+" "+n+","+a},EC=ca({line:bC,"line-radial":(e,t,n,a)=>bC(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n)),arc:yC,"arc-radial":(e,t,n,a)=>yC(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n)),curve:vC,"curve-radial":(e,t,n,a)=>vC(t*Math.cos(e),t*Math.sin(e),a*Math.cos(n),a*Math.sin(n)),"orthogonal-horizontal":(e,t,n,a)=>"M"+e+","+t+"V"+a+"H"+n,"orthogonal-vertical":(e,t,n,a)=>"M"+e+","+t+"H"+n+"V"+a,"orthogonal-radial":(e,t,n,a)=>{let r=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*r+","+t*i+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+a*o+","+a*u},"diagonal-horizontal":(e,t,n,a)=>{let r=(e+n)/2;return"M"+e+","+t+"C"+r+","+t+" "+r+","+a+" "+n+","+a},"diagonal-vertical":(e,t,n,a)=>{let r=(t+a)/2;return"M"+e+","+t+"C"+e+","+r+" "+n+","+r+" "+n+","+a},"diagonal-radial":(e,t,n,a)=>{let r=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n),c=(t+a)/2;return"M"+t*r+","+t*i+"C"+c*r+","+c*i+" "+c*o+","+c*u+" "+a*o+","+a*u}});function lk(e){xe.call(this,null,e)}lk.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Me(lk,xe,{transform(e,t){var n,a,r,i=e.as||["startAngle","endAngle"],o=i[0],u=i[1],c=e.field||pe,f=e.startAngle||0,m=e.endAngle!=null?e.endAngle:2*Math.PI,g=t.source,v=g.map(c),E=v.length,k=f,_=(m-f)/p_(v),R=Zn(E);for(e.sort&&R.sort((O,N)=>v[O]-v[N]),n=0;n<E;++n)r=v[R[n]],(a=g[R[n]])[o]=k,a[u]=k+=r*_;return this.value=v,t.reflow(e.modified()).modifies(i)}});let V2=5;function wC(e){return Bg(e)&&e!==Va}let Y2=rr(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function _C(e){xe.call(this,null,e),this.modified(!0)}function kC(e,t,n){return xp(e)&&Math.abs(t.reduce((a,r)=>a+(r<0?-1:r>0?1:0),0))!==t.length&&n.warn("Log scale domain includes zero: "+it(t)),t}function xC(e,t,n){return Je(e)&&(t||n)?fv(e,uk(t||[0,1],n)):e}function uk(e,t){return t?e.slice().reverse():e}function SC(e){xe.call(this,null,e)}Me(_C,xe,{transform(e,t){var n=t.dataflow,a=this.value,r=function(i){var o,u=i.type,c="";return u===Va?Va+"-"+Xi:(function(f){let m=f.type;return Bg(m)&&m!==pr&&m!==Ji&&(f.scheme||f.range&&f.range.length&&f.range.every(Mt))}(i)&&(c=(o=i.rawDomain?i.rawDomain.length:i.domain?i.domain.length+ +(i.domainMid!=null):0)===2?Va+"-":o===3?Co+"-":""),(c+u||Xi).toLowerCase())}(e);for(r in a&&r===a.type||(this.value=a=Pt(r)()),e)if(!Y2[r]){if(r==="padding"&&wC(a.type))continue;Je(a[r])?a[r](e[r]):n.warn("Unsupported scale property: "+r)}return function(i,o,u){var c=i.type,f=o.round||!1,m=o.range;if(o.rangeStep!=null)m=function(g,v,E){g!==lv&&g!==Fg&&F("Only band and point scales support rangeStep.");var k=(v.paddingOuter!=null?v.paddingOuter:v.padding)||0,_=g===Fg?1:(v.paddingInner!=null?v.paddingInner:v.padding)||0;return[0,v.rangeStep*_u(E,_,k)]}(c,o,u);else if(o.scheme&&(m=function(g,v,E){var k,_=v.schemeExtent;return Ee(v.scheme)?k=Sp(v.scheme,v.interpolate,v.interpolateGamma):(k=Tp(v.scheme.toLowerCase()))||F(`Unrecognized scheme name: ${v.scheme}`),E=g===fl?E+1:g===Ep?E-1:g===Ro||g===dl?+v.schemeCount||V2:E,cv(g)?xC(k,_,v.reverse):Je(k)?pv(xC(k,_),E):g===vp?k:k.slice(0,E)}(c,o,u),Je(m))){if(i.interpolator)return i.interpolator(m);F(`Scale type ${c} does not support interpolating color schemes.`)}if(m&&cv(c))return i.interpolator(Sp(uk(m,o.reverse),o.interpolate,o.interpolateGamma));m&&o.interpolate&&i.interpolate?i.interpolate(zg(o.interpolate,o.interpolateGamma)):Je(i.round)?i.round(f):Je(i.rangeRound)&&i.interpolate(f?Xc:gs),m&&i.range(uk(m,o.reverse))}(a,e,function(i,o,u){let c=o.bins;if(c&&!Ee(c)){let f=i.domain(),m=f[0],g=Pe(f),v=c.step,E=c.start==null?m:c.start,k=c.stop==null?g:c.stop;v||F("Scale bins parameter missing step property."),E<m&&(E=v*Math.ceil(m/v)),k>g&&(k=v*Math.floor(g/v)),c=Zn(E,k+v/2,v)}return c?i.bins=c:i.bins&&delete i.bins,i.type===Ep&&(c?o.domain||o.domainRaw||(i.domain(c),u=c.length):i.bins=i.domain()),u}(a,e,function(i,o,u){let c=function(k,_,R){return _?(k.domain(kC(k.type,_,R)),_.length):-1}(i,o.domainRaw,u);if(c>-1)return c;var f,m,g=o.domain,v=i.type,E=o.zero||o.zero===void 0&&function(k){let _=k.type;return!k.bins&&(_===Xi||_===Es||_===Zi)}(i);if(!g)return 0;if(wC(v)&&o.padding&&g[0]!==Pe(g)&&(g=function(k,_,R,O,N,$){var M=Math.abs(Pe(R)-R[0]),U=M/(M-2*O),z=k===Fr?yt(_,null,U):k===Zi?Zt(_,null,U,.5):k===Es?Zt(_,null,U,N||1):k===ws?Dt(_,null,U,$||1):Xt(_,null,U);return _=_.slice(),_[0]=z[0],_[_.length-1]=z[1],_}(v,g,o.range,o.padding,o.exponent,o.constant)),(E||o.domainMin!=null||o.domainMax!=null||o.domainMid!=null)&&(f=(g=g.slice()).length-1||1,E&&(g[0]>0&&(g[0]=0),g[f]<0&&(g[f]=0)),o.domainMin!=null&&(g[0]=o.domainMin),o.domainMax!=null&&(g[f]=o.domainMax),o.domainMid!=null)){let k=(m=o.domainMid)>g[f]?f+1:m<g[0]?0:f;k!==f&&u.warn("Scale domainMid exceeds domain min or max.",m),g.splice(k,0,m)}return i.domain(kC(v,g,u)),v===vp&&i.unknown(o.domainImplicit?ep:void 0),o.nice&&i.nice&&i.nice(o.nice!==!0&&d(i,o.nice)||null),g.length}(a,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Me(SC,xe,{transform(e,t){let n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(os(e.sort)),this.modified(n),t}});let AC="zero",TC="center",CC="normalize",RC=["y0","y1"];function ck(e){xe.call(this,null,e)}function K2(e,t,n,a,r){for(var i,o=(t-e.sum)/2,u=e.length,c=0;c<u;++c)(i=e[c])[a]=o,i[r]=o+=Math.abs(n(i))}function X2(e,t,n,a,r){for(var i,o=1/e.sum,u=0,c=e.length,f=0,m=0;f<c;++f)(i=e[f])[a]=u,i[r]=u=o*(m+=Math.abs(n(i)))}function Z2(e,t,n,a,r){for(var i,o,u=0,c=0,f=e.length,m=0;m<f;++m)(i=+n(o=e[m]))<0?(o[a]=c,o[r]=c+=i):(o[a]=u,o[r]=u+=i)}ck.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:AC,values:[AC,TC,CC]},{name:"as",type:"string",array:!0,length:2,default:RC}]},Me(ck,xe,{transform(e,t){var n,a,r,i,o=e.as||RC,u=o[0],c=o[1],f=os(e.sort),m=e.field||pe,g=e.offset===TC?K2:e.offset===CC?X2:Z2;for(n=function(v,E,k,_){var R,O,N,$,M,U,z,q,Y,K=[],ne=X=>X(M);if(E==null)K.push(v.slice());else for(R={},O=0,N=v.length;O<N;++O)M=v[O],(z=R[U=E.map(ne)])||(R[U]=z=[],K.push(z)),z.push(M);for(U=0,Y=0,$=K.length;U<$;++U){for(O=0,q=0,N=(z=K[U]).length;O<N;++O)q+=Math.abs(_(z[O]));z.sum=q,q>Y&&(Y=q),k&&z.sort(k)}return K.max=Y,K}(t.source,e.groupby,f,m),a=0,r=n.length,i=n.max;a<r;++a)g(n[a],i,m,u,c);return t.reflow(e.modified()).modifies(o)}});var J2=Object.freeze({__proto__:null,axisticks:pC,datajoin:hC,encode:mC,legendentries:gC,linkpath:sk,pie:lk,scale:_C,sortitems:SC,stack:ck}),ht=1e-6,Kv=1e-12,Nt=Math.PI,Nn=Nt/2,Xv=Nt/4,br=2*Nt,Ln=180/Nt,Tt=Nt/180,Ot=Math.abs,Pp=Math.atan,to=Math.atan2,bt=Math.cos,Zv=Math.ceil,NC=Math.exp,dk=Math.hypot,Jv=Math.log,fk=Math.pow,ct=Math.sin,no=Math.sign||function(e){return e>0?1:e<0?-1:0},yr=Math.sqrt,pk=Math.tan;function IC(e){return e>1?0:e<-1?Nt:Math.acos(e)}function Ur(e){return e>1?Nn:e<-1?-Nn:Math.asin(e)}function Oa(){}function Qv(e,t){e&&DC.hasOwnProperty(e.type)&&DC[e.type](e,t)}var OC={Feature:function(e,t){Qv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;++a<r;)Qv(n[a].geometry,t)}},DC={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){hk(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)hk(n[a],t,0)},Polygon:function(e,t){MC(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)MC(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;++a<r;)Qv(n[a],t)}};function hk(e,t,n){var a,r=-1,i=e.length-n;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function MC(e,t){var n=-1,a=e.length;for(t.polygonStart();++n<a;)hk(e[n],t,1);t.polygonEnd()}function wl(e,t){e&&OC.hasOwnProperty(e.type)?OC[e.type](e,t):Qv(e,t)}var LC,FC,mk,gk,bk,xn,zr,In,gi,dd,PC,$C,$p,sb,Bu,_l,eE=new Ba,tE=new Ba,Ts={point:Oa,lineStart:Oa,lineEnd:Oa,polygonStart:function(){eE=new Ba,Ts.lineStart=Q2,Ts.lineEnd=eL},polygonEnd:function(){var e=+eE;tE.add(e<0?br+e:e),this.lineStart=this.lineEnd=this.point=Oa},sphere:function(){tE.add(br)}};function Q2(){Ts.point=tL}function eL(){BC(LC,FC)}function tL(e,t){Ts.point=BC,LC=e,FC=t,mk=e*=Tt,gk=bt(t=(t*=Tt)/2+Xv),bk=ct(t)}function BC(e,t){var n=(e*=Tt)-mk,a=n>=0?1:-1,r=a*n,i=bt(t=(t*=Tt)/2+Xv),o=ct(t),u=bk*o,c=gk*i+u*bt(r),f=u*a*ct(r);eE.add(to(f,c)),mk=e,gk=i,bk=o}function nE(e){return[to(e[1],e[0]),Ur(e[2])]}function fd(e){var t=e[0],n=e[1],a=bt(n);return[a*bt(t),a*ct(t),ct(n)]}function aE(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bp(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yk(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function rE(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function iE(e){var t=yr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var lb,oE,sE,lE,uE,cE,dE,fE,vk,Ek,wk,UC,zC,vr,Er,wr,kl={point:_k,lineStart:jC,lineEnd:HC,polygonStart:function(){kl.point=qC,kl.lineStart=nL,kl.lineEnd=aL,sb=new Ba,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),kl.point=_k,kl.lineStart=jC,kl.lineEnd=HC,eE<0?(xn=-(In=180),zr=-(gi=90)):sb>ht?gi=90:sb<-ht&&(zr=-90),_l[0]=xn,_l[1]=In},sphere:function(){xn=-(In=180),zr=-(gi=90)}};function _k(e,t){Bu.push(_l=[xn=e,In=e]),t<zr&&(zr=t),t>gi&&(gi=t)}function GC(e,t){var n=fd([e*Tt,t*Tt]);if($p){var a=Bp($p,n),r=Bp([a[1],-a[0],0],a);iE(r),r=nE(r);var i,o=e-dd,u=o>0?1:-1,c=r[0]*Ln*u,f=Ot(o)>180;f^(u*dd<c&&c<u*e)?(i=r[1]*Ln)>gi&&(gi=i):f^(u*dd<(c=(c+360)%360-180)&&c<u*e)?(i=-r[1]*Ln)<zr&&(zr=i):(t<zr&&(zr=t),t>gi&&(gi=t)),f?e<dd?bi(xn,e)>bi(xn,In)&&(In=e):bi(e,In)>bi(xn,In)&&(xn=e):In>=xn?(e<xn&&(xn=e),e>In&&(In=e)):e>dd?bi(xn,e)>bi(xn,In)&&(In=e):bi(e,In)>bi(xn,In)&&(xn=e)}else Bu.push(_l=[xn=e,In=e]);t<zr&&(zr=t),t>gi&&(gi=t),$p=n,dd=e}function jC(){kl.point=GC}function HC(){_l[0]=xn,_l[1]=In,kl.point=_k,$p=null}function qC(e,t){if($p){var n=e-dd;sb.add(Ot(n)>180?n+(n>0?360:-360):n)}else PC=e,$C=t;Ts.point(e,t),GC(e,t)}function nL(){Ts.lineStart()}function aL(){qC(PC,$C),Ts.lineEnd(),Ot(sb)>ht&&(xn=-(In=180)),_l[0]=xn,_l[1]=In,$p=null}function bi(e,t){return(t-=e)<0?t+360:t}function rL(e,t){return e[0]-t[0]}function WC(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Bo={sphere:Oa,point:kk,lineStart:VC,lineEnd:YC,polygonStart:function(){Bo.lineStart=sL,Bo.lineEnd=lL},polygonEnd:function(){Bo.lineStart=VC,Bo.lineEnd=YC}};function kk(e,t){e*=Tt;var n=bt(t*=Tt);ub(n*bt(e),n*ct(e),ct(t))}function ub(e,t,n){++lb,sE+=(e-sE)/lb,lE+=(t-lE)/lb,uE+=(n-uE)/lb}function VC(){Bo.point=iL}function iL(e,t){e*=Tt;var n=bt(t*=Tt);vr=n*bt(e),Er=n*ct(e),wr=ct(t),Bo.point=oL,ub(vr,Er,wr)}function oL(e,t){e*=Tt;var n=bt(t*=Tt),a=n*bt(e),r=n*ct(e),i=ct(t),o=to(yr((o=Er*i-wr*r)*o+(o=wr*a-vr*i)*o+(o=vr*r-Er*a)*o),vr*a+Er*r+wr*i);oE+=o,cE+=o*(vr+(vr=a)),dE+=o*(Er+(Er=r)),fE+=o*(wr+(wr=i)),ub(vr,Er,wr)}function YC(){Bo.point=kk}function sL(){Bo.point=uL}function lL(){KC(UC,zC),Bo.point=kk}function uL(e,t){UC=e,zC=t,e*=Tt,t*=Tt,Bo.point=KC;var n=bt(t);vr=n*bt(e),Er=n*ct(e),wr=ct(t),ub(vr,Er,wr)}function KC(e,t){e*=Tt;var n=bt(t*=Tt),a=n*bt(e),r=n*ct(e),i=ct(t),o=Er*i-wr*r,u=wr*a-vr*i,c=vr*r-Er*a,f=dk(o,u,c),m=Ur(f),g=f&&-m/f;vk.add(g*o),Ek.add(g*u),wk.add(g*c),oE+=m,cE+=m*(vr+(vr=a)),dE+=m*(Er+(Er=r)),fE+=m*(wr+(wr=i)),ub(vr,Er,wr)}function xk(e,t){function n(a,r){return a=e(a,r),t(a[0],a[1])}return e.invert&&t.invert&&(n.invert=function(a,r){return(a=t.invert(a,r))&&e.invert(a[0],a[1])}),n}function Sk(e,t){return Ot(e)>Nt&&(e-=Math.round(e/br)*br),[e,t]}function XC(e,t,n){return(e%=br)?t||n?xk(JC(e),QC(t,n)):JC(e):t||n?QC(t,n):Sk}function ZC(e){return function(t,n){return Ot(t+=e)>Nt&&(t-=Math.round(t/br)*br),[t,n]}}function JC(e){var t=ZC(e);return t.invert=ZC(-e),t}function QC(e,t){var n=bt(e),a=ct(e),r=bt(t),i=ct(t);function o(u,c){var f=bt(c),m=bt(u)*f,g=ct(u)*f,v=ct(c),E=v*n+m*a;return[to(g*r-E*i,m*n-v*a),Ur(E*r+g*i)]}return o.invert=function(u,c){var f=bt(c),m=bt(u)*f,g=ct(u)*f,v=ct(c),E=v*r-g*i;return[to(g*r+v*i,m*n+E*a),Ur(E*n-m*a)]},o}function eR(e,t){(t=fd(t))[0]-=e,iE(t);var n=IC(-t[1]);return((-t[2]<0?-n:n)+br-ht)%br}function tR(){var e,t=[];return{point:function(n,a,r){e.push([n,a,r])},lineStart:function(){t.push(e=[])},lineEnd:Oa,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pE(e,t){return Ot(e[0]-t[0])<ht&&Ot(e[1]-t[1])<ht}function hE(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function nR(e,t,n,a,r){var i,o,u=[],c=[];if(e.forEach(function(k){if(!((_=k.length-1)<=0)){var _,R,O=k[0],N=k[_];if(pE(O,N)){if(!O[2]&&!N[2]){for(r.lineStart(),i=0;i<_;++i)r.point((O=k[i])[0],O[1]);return void r.lineEnd()}N[0]+=2*ht}u.push(R=new hE(O,k,null,!0)),c.push(R.o=new hE(O,null,R,!1)),u.push(R=new hE(N,k,null,!1)),c.push(R.o=new hE(N,null,R,!0))}}),u.length){for(c.sort(t),aR(u),aR(c),i=0,o=c.length;i<o;++i)c[i].e=n=!n;for(var f,m,g=u[0];;){for(var v=g,E=!0;v.v;)if((v=v.n)===g)return;f=v.z,r.lineStart();do{if(v.v=v.o.v=!0,v.e){if(E)for(i=0,o=f.length;i<o;++i)r.point((m=f[i])[0],m[1]);else a(v.x,v.n.x,1,r);v=v.n}else{if(E)for(f=v.p.z,i=f.length-1;i>=0;--i)r.point((m=f[i])[0],m[1]);else a(v.x,v.p.x,-1,r);v=v.p}f=(v=v.o).z,E=!E}while(!v.v);r.lineEnd()}}}function aR(e){if(t=e.length){for(var t,n,a=0,r=e[0];++a<t;)r.n=n=e[a],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Ak(e){return Ot(e[0])<=Nt?e[0]:no(e[0])*((Ot(e[0])+Nt)%br-Nt)}function rR(e,t,n,a){return function(r){var i,o,u,c=t(r),f=tR(),m=t(f),g=!1,v={point:E,lineStart:_,lineEnd:R,polygonStart:function(){v.point=O,v.lineStart=N,v.lineEnd=$,o=[],i=[]},polygonEnd:function(){v.point=E,v.lineStart=_,v.lineEnd=R,o=bh(o);var M=function(U,z){var q=Ak(z),Y=z[1],K=ct(Y),ne=[ct(q),-bt(q),0],X=0,ie=0,oe=new Ba;K===1?Y=Nn+ht:K===-1&&(Y=-Nn-ht);for(var le=0,ce=U.length;le<ce;++le)if(_e=(ve=U[le]).length)for(var ve,_e,Ie=ve[_e-1],Be=Ak(Ie),je=Ie[1]/2+Xv,Oe=ct(je),ot=bt(je),st=0;st<_e;++st,Be=Ct,Oe=Yt,ot=va,Ie=mt){var mt=ve[st],Ct=Ak(mt),pn=mt[1]/2+Xv,Yt=ct(pn),va=bt(pn),Sn=Ct-Be,ua=Sn>=0?1:-1,Ea=ua*Sn,Fn=Ea>Nt,tr=Oe*Yt;if(oe.add(to(tr*ua*ct(Ea),ot*va+tr*bt(Ea))),X+=Fn?Sn+ua*br:Sn,Fn^Be>=q^Ct>=q){var wa=Bp(fd(Ie),fd(mt));iE(wa);var oo=Bp(ne,wa);iE(oo);var Wr=(Fn^Sn>=0?-1:1)*Ur(oo[2]);(Y>Wr||Y===Wr&&(wa[0]||wa[1]))&&(ie+=Fn^Sn>=0?1:-1)}}return(X<-ht||X<ht&&oe<-Kv)^1&ie}(i,a);o.length?(g||(r.polygonStart(),g=!0),nR(o,dL,M,n,r)):M&&(g||(r.polygonStart(),g=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),o=i=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function E(M,U){e(M,U)&&r.point(M,U)}function k(M,U){c.point(M,U)}function _(){v.point=k,c.lineStart()}function R(){v.point=E,c.lineEnd()}function O(M,U){u.push([M,U]),m.point(M,U)}function N(){m.lineStart(),u=[]}function $(){O(u[0][0],u[0][1]),m.lineEnd();var M,U,z,q,Y=m.clean(),K=f.result(),ne=K.length;if(u.pop(),i.push(u),u=null,ne)if(1&Y){if((U=(z=K[0]).length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),M=0;M<U;++M)r.point((q=z[M])[0],q[1]);r.lineEnd()}}else ne>1&&2&Y&&K.push(K.pop().concat(K.shift())),o.push(K.filter(cL))}return v}}function cL(e){return e.length>1}function dL(e,t){return((e=e.x)[0]<0?e[1]-Nn-ht:Nn-e[1])-((t=t.x)[0]<0?t[1]-Nn-ht:Nn-t[1])}Sk.invert=Sk;var iR=rR(function(){return!0},function(e){var t,n=NaN,a=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var u=i>0?Nt:-Nt,c=Ot(i-n);Ot(c-Nt)<ht?(e.point(n,a=(a+o)/2>0?Nn:-Nn),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(u,a),e.point(i,a),t=0):r!==u&&c>=Nt&&(Ot(n-r)<ht&&(n-=r*ht),Ot(i-u)<ht&&(i-=u*ht),a=function(f,m,g,v){var E,k,_=ct(f-g);return Ot(_)>ht?Pp((ct(m)*(k=bt(v))*ct(g)-ct(v)*(E=bt(m))*ct(f))/(E*k*_)):(m+v)/2}(n,a,i,o),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(u,a),t=0),e.point(n=i,a=o),r=u},lineEnd:function(){e.lineEnd(),n=a=NaN},clean:function(){return 2-t}}},function(e,t,n,a){var r;if(e==null)r=n*Nn,a.point(-Nt,r),a.point(0,r),a.point(Nt,r),a.point(Nt,0),a.point(Nt,-r),a.point(0,-r),a.point(-Nt,-r),a.point(-Nt,0),a.point(-Nt,r);else if(Ot(e[0]-t[0])>ht){var i=e[0]<t[0]?Nt:-Nt;r=n*i/2,a.point(-i,r),a.point(0,r),a.point(i,r)}else a.point(t[0],t[1])},[-Nt,-Nn]);function fL(e){var t=bt(e),n=6*Tt,a=t>0,r=Ot(t)>ht;function i(c,f){return bt(c)*bt(f)>t}function o(c,f,m){var g=[1,0,0],v=Bp(fd(c),fd(f)),E=aE(v,v),k=v[0],_=E-k*k;if(!_)return!m&&c;var R=t*E/_,O=-t*k/_,N=Bp(g,v),$=rE(g,R);yk($,rE(v,O));var M=N,U=aE($,M),z=aE(M,M),q=U*U-z*(aE($,$)-1);if(!(q<0)){var Y=yr(q),K=rE(M,(-U-Y)/z);if(yk(K,$),K=nE(K),!m)return K;var ne,X=c[0],ie=f[0],oe=c[1],le=f[1];ie<X&&(ne=X,X=ie,ie=ne);var ce=ie-X,ve=Ot(ce-Nt)<ht;if(!ve&&le<oe&&(ne=oe,oe=le,le=ne),ve||ce<ht?ve?oe+le>0^K[1]<(Ot(K[0]-X)<ht?oe:le):oe<=K[1]&&K[1]<=le:ce>Nt^(X<=K[0]&&K[0]<=ie)){var _e=rE(M,(-U+Y)/z);return yk(_e,$),[K,nE(_e)]}}}function u(c,f){var m=a?e:Nt-e,g=0;return c<-m?g|=1:c>m&&(g|=2),f<-m?g|=4:f>m&&(g|=8),g}return rR(i,function(c){var f,m,g,v,E;return{lineStart:function(){v=g=!1,E=1},point:function(k,_){var R,O=[k,_],N=i(k,_),$=a?N?0:u(k,_):N?u(k+(k<0?Nt:-Nt),_):0;if(!f&&(v=g=N)&&c.lineStart(),N!==g&&(!(R=o(f,O))||pE(f,R)||pE(O,R))&&(O[2]=1),N!==g)E=0,N?(c.lineStart(),R=o(O,f),c.point(R[0],R[1])):(R=o(f,O),c.point(R[0],R[1],2),c.lineEnd()),f=R;else if(r&&f&&a^N){var M;$&m||!(M=o(O,f,!0))||(E=0,a?(c.lineStart(),c.point(M[0][0],M[0][1]),c.point(M[1][0],M[1][1]),c.lineEnd()):(c.point(M[1][0],M[1][1]),c.lineEnd(),c.lineStart(),c.point(M[0][0],M[0][1],3)))}!N||f&&pE(f,O)||c.point(O[0],O[1]),f=O,g=N,m=$},lineEnd:function(){g&&c.lineEnd(),f=null},clean:function(){return E|(v&&g)<<1}}},function(c,f,m,g){(function(v,E,k,_,R,O){if(k){var N=bt(E),$=ct(E),M=_*k;R==null?(R=E+_*br,O=E-M/2):(R=eR(N,R),O=eR(N,O),(_>0?R<O:R>O)&&(R+=_*br));for(var U,z=R;_>0?z>O:z<O;z-=M)U=nE([N,-$*bt(z),-$*ct(z)]),v.point(U[0],U[1])}})(g,e,n,m,c,f)},a?[0,-e]:[-Nt,e-Nt])}var cb=1e9,mE=-cb;function oR(e,t,n,a){function r(f,m){return e<=f&&f<=n&&t<=m&&m<=a}function i(f,m,g,v){var E=0,k=0;if(f==null||(E=o(f,g))!==(k=o(m,g))||c(f,m)<0^g>0)do v.point(E===0||E===3?e:n,E>1?a:t);while((E=(E+g+4)%4)!==k);else v.point(m[0],m[1])}function o(f,m){return Ot(f[0]-e)<ht?m>0?0:3:Ot(f[0]-n)<ht?m>0?2:1:Ot(f[1]-t)<ht?m>0?1:0:m>0?3:2}function u(f,m){return c(f.x,m.x)}function c(f,m){var g=o(f,1),v=o(m,1);return g!==v?g-v:g===0?m[1]-f[1]:g===1?f[0]-m[0]:g===2?f[1]-m[1]:m[0]-f[0]}return function(f){var m,g,v,E,k,_,R,O,N,$,M,U=f,z=tR(),q={point:Y,lineStart:function(){q.point=K,g&&g.push(v=[]),$=!0,N=!1,R=O=NaN},lineEnd:function(){m&&(K(E,k),_&&N&&z.rejoin(),m.push(z.result())),q.point=Y,N&&U.lineEnd()},polygonStart:function(){U=z,m=[],g=[],M=!0},polygonEnd:function(){var ne=function(){for(var oe=0,le=0,ce=g.length;le<ce;++le)for(var ve,_e,Ie=g[le],Be=1,je=Ie.length,Oe=Ie[0],ot=Oe[0],st=Oe[1];Be<je;++Be)ve=ot,_e=st,ot=(Oe=Ie[Be])[0],st=Oe[1],_e<=a?st>a&&(ot-ve)*(a-_e)>(st-_e)*(e-ve)&&++oe:st<=a&&(ot-ve)*(a-_e)<(st-_e)*(e-ve)&&--oe;return oe}(),X=M&&ne,ie=(m=bh(m)).length;(X||ie)&&(f.polygonStart(),X&&(f.lineStart(),i(null,null,1,f),f.lineEnd()),ie&&nR(m,u,ne,i,f),f.polygonEnd()),U=f,m=g=v=null}};function Y(ne,X){r(ne,X)&&U.point(ne,X)}function K(ne,X){var ie=r(ne,X);if(g&&v.push([ne,X]),$)E=ne,k=X,_=ie,$=!1,ie&&(U.lineStart(),U.point(ne,X));else if(ie&&N)U.point(ne,X);else{var oe=[R=Math.max(mE,Math.min(cb,R)),O=Math.max(mE,Math.min(cb,O))],le=[ne=Math.max(mE,Math.min(cb,ne)),X=Math.max(mE,Math.min(cb,X))];(function(ce,ve,_e,Ie,Be,je){var Oe,ot=ce[0],st=ce[1],mt=0,Ct=1,pn=ve[0]-ot,Yt=ve[1]-st;if(Oe=_e-ot,pn||!(Oe>0)){if(Oe/=pn,pn<0){if(Oe<mt)return;Oe<Ct&&(Ct=Oe)}else if(pn>0){if(Oe>Ct)return;Oe>mt&&(mt=Oe)}if(Oe=Be-ot,pn||!(Oe<0)){if(Oe/=pn,pn<0){if(Oe>Ct)return;Oe>mt&&(mt=Oe)}else if(pn>0){if(Oe<mt)return;Oe<Ct&&(Ct=Oe)}if(Oe=Ie-st,Yt||!(Oe>0)){if(Oe/=Yt,Yt<0){if(Oe<mt)return;Oe<Ct&&(Ct=Oe)}else if(Yt>0){if(Oe>Ct)return;Oe>mt&&(mt=Oe)}if(Oe=je-st,Yt||!(Oe<0)){if(Oe/=Yt,Yt<0){if(Oe>Ct)return;Oe>mt&&(mt=Oe)}else if(Yt>0){if(Oe<mt)return;Oe<Ct&&(Ct=Oe)}return mt>0&&(ce[0]=ot+mt*pn,ce[1]=st+mt*Yt),Ct<1&&(ve[0]=ot+Ct*pn,ve[1]=st+Ct*Yt),!0}}}}})(oe,le,e,t,n,a)?(N||(U.lineStart(),U.point(oe[0],oe[1])),U.point(le[0],le[1]),ie||U.lineEnd(),M=!1):ie&&(U.lineStart(),U.point(ne,X),M=!1)}R=ne,O=X,N=ie}return q}}function sR(e,t,n){var a=Zn(e,t-ht,n).concat(t);return function(r){return a.map(function(i){return[r,i]})}}function lR(e,t,n){var a=Zn(e,t-ht,n).concat(t);return function(r){return a.map(function(i){return[i,r]})}}var uR,cR,Tk,Ck,db=e=>e,Rk=new Ba,Nk=new Ba,Uu={point:Oa,lineStart:Oa,lineEnd:Oa,polygonStart:function(){Uu.lineStart=pL,Uu.lineEnd=mL},polygonEnd:function(){Uu.lineStart=Uu.lineEnd=Uu.point=Oa,Rk.add(Ot(Nk)),Nk=new Ba},result:function(){var e=Rk/2;return Rk=new Ba,e}};function pL(){Uu.point=hL}function hL(e,t){Uu.point=dR,uR=Tk=e,cR=Ck=t}function dR(e,t){Nk.add(Ck*e-Tk*t),Tk=e,Ck=t}function mL(){dR(uR,cR)}var fR=Uu,Up=1/0,gE=Up,fb=-Up,bE=fb,gL={point:function(e,t){e<Up&&(Up=e),e>fb&&(fb=e),t<gE&&(gE=t),t>bE&&(bE=t)},lineStart:Oa,lineEnd:Oa,polygonStart:Oa,polygonEnd:Oa,result:function(){var e=[[Up,gE],[fb,bE]];return fb=bE=-(gE=Up=1/0),e}},pR,hR,Cs,Rs,yE=gL,Ik=0,Ok=0,pb=0,vE=0,EE=0,zp=0,Dk=0,Mk=0,hb=0,Uo={point:pd,lineStart:mR,lineEnd:gR,polygonStart:function(){Uo.lineStart=vL,Uo.lineEnd=EL},polygonEnd:function(){Uo.point=pd,Uo.lineStart=mR,Uo.lineEnd=gR},result:function(){var e=hb?[Dk/hb,Mk/hb]:zp?[vE/zp,EE/zp]:pb?[Ik/pb,Ok/pb]:[NaN,NaN];return Ik=Ok=pb=vE=EE=zp=Dk=Mk=hb=0,e}};function pd(e,t){Ik+=e,Ok+=t,++pb}function mR(){Uo.point=bL}function bL(e,t){Uo.point=yL,pd(Cs=e,Rs=t)}function yL(e,t){var n=e-Cs,a=t-Rs,r=yr(n*n+a*a);vE+=r*(Cs+e)/2,EE+=r*(Rs+t)/2,zp+=r,pd(Cs=e,Rs=t)}function gR(){Uo.point=pd}function vL(){Uo.point=wL}function EL(){bR(pR,hR)}function wL(e,t){Uo.point=bR,pd(pR=Cs=e,hR=Rs=t)}function bR(e,t){var n=e-Cs,a=t-Rs,r=yr(n*n+a*a);vE+=r*(Cs+e)/2,EE+=r*(Rs+t)/2,zp+=r,Dk+=(r=Rs*e-Cs*t)*(Cs+e),Mk+=r*(Rs+t),hb+=3*r,pd(Cs=e,Rs=t)}var yR=Uo;function vR(e){this._context=e}vR.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,br)}},result:Oa};var Lk,ER,wR,mb,gb,Fk=new Ba,wE={point:Oa,lineStart:function(){wE.point=_L},lineEnd:function(){Lk&&_R(ER,wR),wE.point=Oa},polygonStart:function(){Lk=!0},polygonEnd:function(){Lk=null},result:function(){var e=+Fk;return Fk=new Ba,e}};function _L(e,t){wE.point=_R,ER=mb=e,wR=gb=t}function _R(e,t){mb-=e,gb-=t,Fk.add(yr(mb*mb+gb*gb)),mb=e,gb=t}var kR=wE;let xR,_E,SR,AR;class TR{constructor(t){this._append=t==null?CR:function(n){let a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);if(a>15)return CR;if(a!==xR){let r=10**a;xR=a,_E=function(i){let o=1;this._+=i[0];for(let u=i.length;o<u;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}return _E}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==SR||this._append!==_E){let a=this._radius,r=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,SR=a,_E=this._append,AR=this._,this._=r}this._+=AR}}result(){let t=this._;return this._="",t.length?t:null}}function CR(e){let t=1;this._+=e[0];for(let n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function RR(e,t){let n,a,r=3,i=4.5;function o(u){return u&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),wl(u,n(a))),a.result()}return o.area=function(u){return wl(u,n(fR)),fR.result()},o.measure=function(u){return wl(u,n(kR)),kR.result()},o.bounds=function(u){return wl(u,n(yE)),yE.result()},o.centroid=function(u){return wl(u,n(yR)),yR.result()},o.projection=function(u){return arguments.length?(n=u==null?(e=null,db):(e=u).stream,o):e},o.context=function(u){return arguments.length?(a=u==null?(t=null,new TR(r)):new vR(t=u),typeof i!="function"&&a.pointRadius(i),o):t},o.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(a.pointRadius(+u),+u),o):i},o.digits=function(u){if(!arguments.length)return r;if(u==null)r=null;else{let c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);r=c}return t===null&&(a=new TR(r)),o},o.projection(e).digits(r).context(t)}function kE(e){return function(t){var n=new Pk;for(var a in e)n[a]=e[a];return n.stream=t,n}}function Pk(){}function $k(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),wl(n,e.stream(yE)),t(yE.result()),a!=null&&e.clipExtent(a),e}function xE(e,t,n){return $k(e,function(a){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+t[0][0]+(r-o*(a[1][0]+a[0][0]))/2,c=+t[0][1]+(i-o*(a[1][1]+a[0][1]))/2;e.scale(150*o).translate([u,c])},n)}function Bk(e,t,n){return xE(e,[[0,0],t],n)}function Uk(e,t,n){return $k(e,function(a){var r=+t,i=r/(a[1][0]-a[0][0]),o=(r-i*(a[1][0]+a[0][0]))/2,u=-i*a[0][1];e.scale(150*i).translate([o,u])},n)}function zk(e,t,n){return $k(e,function(a){var r=+t,i=r/(a[1][1]-a[0][1]),o=-i*a[0][0],u=(r-i*(a[1][1]+a[0][1]))/2;e.scale(150*i).translate([o,u])},n)}Pk.prototype={constructor:Pk,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var NR=16,kL=bt(30*Tt);function IR(e,t){return+t?function(n,a){function r(i,o,u,c,f,m,g,v,E,k,_,R,O,N){var $=g-i,M=v-o,U=$*$+M*M;if(U>4*a&&O--){var z=c+k,q=f+_,Y=m+R,K=yr(z*z+q*q+Y*Y),ne=Ur(Y/=K),X=Ot(Ot(Y)-1)<ht||Ot(u-E)<ht?(u+E)/2:to(q,z),ie=n(X,ne),oe=ie[0],le=ie[1],ce=oe-i,ve=le-o,_e=M*ce-$*ve;(_e*_e/U>a||Ot(($*ce+M*ve)/U-.5)>.3||c*k+f*_+m*R<kL)&&(r(i,o,u,c,f,m,oe,le,X,z/=K,q/=K,Y,O,N),N.point(oe,le),r(oe,le,X,z,q,Y,g,v,E,k,_,R,O,N))}}return function(i){var o,u,c,f,m,g,v,E,k,_,R,O,N={point:$,lineStart:M,lineEnd:z,polygonStart:function(){i.polygonStart(),N.lineStart=q},polygonEnd:function(){i.polygonEnd(),N.lineStart=M}};function $(ne,X){ne=n(ne,X),i.point(ne[0],ne[1])}function M(){E=NaN,N.point=U,i.lineStart()}function U(ne,X){var ie=fd([ne,X]),oe=n(ne,X);r(E,k,v,_,R,O,E=oe[0],k=oe[1],v=ne,_=ie[0],R=ie[1],O=ie[2],NR,i),i.point(E,k)}function z(){N.point=$,i.lineEnd()}function q(){M(),N.point=Y,N.lineEnd=K}function Y(ne,X){U(o=ne,X),u=E,c=k,f=_,m=R,g=O,N.point=U}function K(){r(E,k,v,_,R,O,u,c,o,f,m,g,NR,i),N.lineEnd=z,z()}return N}}(e,t):function(n){return kE({point:function(a,r){a=n(a,r),this.stream.point(a[0],a[1])}})}(e)}var xL=kE({point:function(e,t){this.stream.point(e*Tt,t*Tt)}});function OR(e,t,n,a,r,i){if(!i)return function(_,R,O,N,$){function M(U,z){return[R+_*(U*=N),O-_*(z*=$)]}return M.invert=function(U,z){return[(U-R)/_*N,(O-z)/_*$]},M}(e,t,n,a,r);var o=bt(i),u=ct(i),c=o*e,f=u*e,m=o/e,g=u/e,v=(u*n-o*t)/e,E=(u*t+o*n)/e;function k(_,R){return[c*(_*=a)-f*(R*=r)+t,n-f*_-c*R]}return k.invert=function(_,R){return[a*(m*_-g*R+v),r*(E-g*_-m*R)]},k}function Ns(e){return DR(function(){return e})()}function DR(e){var t,n,a,r,i,o,u,c,f,m,g=150,v=480,E=250,k=0,_=0,R=0,O=0,N=0,$=0,M=1,U=1,z=null,q=iR,Y=null,K=db,ne=.5;function X(ce){return c(ce[0]*Tt,ce[1]*Tt)}function ie(ce){return(ce=c.invert(ce[0],ce[1]))&&[ce[0]*Ln,ce[1]*Ln]}function oe(){var ce=OR(g,0,0,M,U,$).apply(null,t(k,_)),ve=OR(g,v-ce[0],E-ce[1],M,U,$);return n=XC(R,O,N),u=xk(t,ve),c=xk(n,u),o=IR(u,ne),le()}function le(){return f=m=null,X}return X.stream=function(ce){return f&&m===ce?f:f=xL(function(ve){return kE({point:function(_e,Ie){var Be=ve(_e,Ie);return this.stream.point(Be[0],Be[1])}})}(n)(q(o(K(m=ce)))))},X.preclip=function(ce){return arguments.length?(q=ce,z=void 0,le()):q},X.postclip=function(ce){return arguments.length?(K=ce,Y=a=r=i=null,le()):K},X.clipAngle=function(ce){return arguments.length?(q=+ce?fL(z=ce*Tt):(z=null,iR),le()):z*Ln},X.clipExtent=function(ce){return arguments.length?(K=ce==null?(Y=a=r=i=null,db):oR(Y=+ce[0][0],a=+ce[0][1],r=+ce[1][0],i=+ce[1][1]),le()):Y==null?null:[[Y,a],[r,i]]},X.scale=function(ce){return arguments.length?(g=+ce,oe()):g},X.translate=function(ce){return arguments.length?(v=+ce[0],E=+ce[1],oe()):[v,E]},X.center=function(ce){return arguments.length?(k=ce[0]%360*Tt,_=ce[1]%360*Tt,oe()):[k*Ln,_*Ln]},X.rotate=function(ce){return arguments.length?(R=ce[0]%360*Tt,O=ce[1]%360*Tt,N=ce.length>2?ce[2]%360*Tt:0,oe()):[R*Ln,O*Ln,N*Ln]},X.angle=function(ce){return arguments.length?($=ce%360*Tt,oe()):$*Ln},X.reflectX=function(ce){return arguments.length?(M=ce?-1:1,oe()):M<0},X.reflectY=function(ce){return arguments.length?(U=ce?-1:1,oe()):U<0},X.precision=function(ce){return arguments.length?(o=IR(u,ne=ce*ce),le()):yr(ne)},X.fitExtent=function(ce,ve){return xE(X,ce,ve)},X.fitSize=function(ce,ve){return Bk(X,ce,ve)},X.fitWidth=function(ce,ve){return Uk(X,ce,ve)},X.fitHeight=function(ce,ve){return zk(X,ce,ve)},function(){return t=e.apply(this,arguments),X.invert=t.invert&&ie,oe()}}function Gk(e){var t=0,n=Nt/3,a=DR(e),r=a(t,n);return r.parallels=function(i){return arguments.length?a(t=i[0]*Tt,n=i[1]*Tt):[t*Ln,n*Ln]},r}function SL(e,t){var n=ct(e),a=(n+ct(t))/2;if(Ot(a)<ht)return function(u){var c=bt(u);function f(m,g){return[m*c,ct(g)/c]}return f.invert=function(m,g){return[m/c,Ur(g*c)]},f}(e);var r=1+n*(2*a-n),i=yr(r)/a;function o(u,c){var f=yr(r-2*a*ct(c))/a;return[f*ct(u*=a),i-f*bt(u)]}return o.invert=function(u,c){var f=i-c,m=to(u,Ot(f))*no(f);return f*a<0&&(m-=Nt*no(u)*no(f)),[m/a,Ur((r-(u*u+f*f)*a*a)/(2*a))]},o}function SE(){return Gk(SL).scale(155.424).center([0,33.6442])}function MR(){return SE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function LR(e){return function(t,n){var a=bt(t),r=bt(n),i=e(a*r);return i===1/0?[2,0]:[i*r*ct(t),i*ct(n)]}}function bb(e){return function(t,n){var a=yr(t*t+n*n),r=e(a),i=ct(r),o=bt(r);return[to(t*i,a*o),Ur(a&&n*i/a)]}}var FR=LR(function(e){return yr(2/(1+e))});FR.invert=bb(function(e){return 2*Ur(e/2)});var PR=LR(function(e){return(e=IC(e))&&e/ct(e)});function AE(e,t){return[e,Jv(pk((Nn+t)/2))]}function $R(e){var t,n,a,r=Ns(e),i=r.center,o=r.scale,u=r.translate,c=r.clipExtent,f=null;function m(){var g=Nt*o(),v=r(function(E){function k(_){return(_=E(_[0]*Tt,_[1]*Tt))[0]*=Ln,_[1]*=Ln,_}return E=XC(E[0]*Tt,E[1]*Tt,E.length>2?E[2]*Tt:0),k.invert=function(_){return(_=E.invert(_[0]*Tt,_[1]*Tt))[0]*=Ln,_[1]*=Ln,_},k}(r.rotate()).invert([0,0]));return c(f==null?[[v[0]-g,v[1]-g],[v[0]+g,v[1]+g]]:e===AE?[[Math.max(v[0]-g,f),t],[Math.min(v[0]+g,n),a]]:[[f,Math.max(v[1]-g,t)],[n,Math.min(v[1]+g,a)]])}return r.scale=function(g){return arguments.length?(o(g),m()):o()},r.translate=function(g){return arguments.length?(u(g),m()):u()},r.center=function(g){return arguments.length?(i(g),m()):i()},r.clipExtent=function(g){return arguments.length?(g==null?f=t=n=a=null:(f=+g[0][0],t=+g[0][1],n=+g[1][0],a=+g[1][1]),m()):f==null?null:[[f,t],[n,a]]},m()}function TE(e){return pk((Nn+e)/2)}function AL(e,t){var n=bt(e),a=e===t?ct(e):Jv(n/bt(t))/Jv(TE(t)/TE(e)),r=n*fk(TE(e),a)/a;if(!a)return AE;function i(o,u){r>0?u<-Nn+ht&&(u=-Nn+ht):u>Nn-ht&&(u=Nn-ht);var c=r/fk(TE(u),a);return[c*ct(a*o),r-c*bt(a*o)]}return i.invert=function(o,u){var c=r-u,f=no(a)*yr(o*o+c*c),m=to(o,Ot(c))*no(c);return c*a<0&&(m-=Nt*no(o)*no(c)),[m/a,2*Pp(fk(r/f,1/a))-Nn]},i}function CE(e,t){return[e,t]}function TL(e,t){var n=bt(e),a=e===t?ct(e):(n-bt(t))/(t-e),r=n/a+e;if(Ot(a)<ht)return CE;function i(o,u){var c=r-u,f=a*o;return[c*ct(f),r-c*bt(f)]}return i.invert=function(o,u){var c=r-u,f=to(o,Ot(c))*no(c);return c*a<0&&(f-=Nt*no(o)*no(c)),[f/a,r-no(a)*yr(o*o+c*c)]},i}PR.invert=bb(function(e){return e}),AE.invert=function(e,t){return[e,2*Pp(NC(t))-Nn]},CE.invert=CE;var yb=1.340264,vb=-.081106,Eb=893e-6,wb=.003796,RE=yr(3)/2;function BR(e,t){var n=Ur(RE*ct(t)),a=n*n,r=a*a*a;return[e*bt(n)/(RE*(yb+3*vb*a+r*(7*Eb+9*wb*a))),n*(yb+vb*a+r*(Eb+wb*a))]}function UR(e,t){var n=bt(t),a=bt(e)*n;return[n*ct(e)/a,ct(t)/a]}function zR(e,t){var n=t*t,a=n*n;return[e*(.8707-.131979*n+a*(a*(.003971*n-.001529*a)-.013791)),t*(1.007226+n*(.015085+a*(.028874*n-.044475-.005916*a)))]}function GR(e,t){return[bt(t)*ct(e),ct(t)]}function jR(e,t){var n=bt(t),a=1+bt(e)*n;return[n*ct(e)/a,ct(t)/a]}function HR(e,t){return[Jv(pk((Nn+t)/2)),-e]}BR.invert=function(e,t){for(var n,a=t,r=a*a,i=r*r*r,o=0;o<12&&(i=(r=(a-=n=(a*(yb+vb*r+i*(Eb+wb*r))-t)/(yb+3*vb*r+i*(7*Eb+9*wb*r)))*a)*r*r,!(Ot(n)<Kv));++o);return[RE*e*(yb+3*vb*r+i*(7*Eb+9*wb*r))/bt(a),Ur(ct(a)/RE)]},UR.invert=bb(Pp),zR.invert=function(e,t){var n,a=t,r=25;do{var i=a*a,o=i*i;a-=n=(a*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-t)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o)))}while(Ot(n)>ht&&--r>0);return[e/(.8707+(i=a*a)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),a]},GR.invert=bb(Ur),jR.invert=bb(function(e){return 2*Pp(e)}),HR.invert=function(e,t){return[-t,2*Pp(NC(e))-Nn]};var CL=Math.abs,jk=Math.cos,NE=Math.sin,RL=1e-6,qR=Math.PI,Hk=qR/2,WR=function(e){return e>0?Math.sqrt(e):0}(2);function VR(e){return e>1?Hk:e<-1?-Hk:Math.asin(e)}function NL(e,t){var n,a=e*NE(t),r=30;do t-=n=(t+NE(t)-a)/(1+jk(t));while(CL(n)>RL&&--r>0);return t/2}var IL=function(e,t,n){function a(r,i){return[e*r*jk(i=NL(n,i)),t*NE(i)]}return a.invert=function(r,i){return i=VR(i/t),[r/(e*jk(i)),VR((2*i+NE(2*i))/n)]},a}(WR/Hk,WR,qR);let OL=RR(),qk=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Wk(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(IE[e]=function(n,a){return function r(){let i=a();return i.type=n,i.path=RR().projection(i),i.copy=i.copy||function(){let o=r();return qk.forEach(u=>{i[u]&&o[u](i[u]())}),o.path.pointRadius(i.path.pointRadius()),o},kp(i)}}(e,t),this):IE[e]||null}function YR(e){return e&&e.path||OL}let IE={albers:MR,albersusa:function(){var e,t,n,a,r,i,o=MR(),u=SE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=SE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(v,E){i=[v,E]}};function m(v){var E=v[0],k=v[1];return i=null,n.point(E,k),i||(a.point(E,k),i)||(r.point(E,k),i)}function g(){return e=t=null,m}return m.invert=function(v){var E=o.scale(),k=o.translate(),_=(v[0]-k[0])/E,R=(v[1]-k[1])/E;return(R>=.12&&R<.234&&_>=-.425&&_<-.214?u:R>=.166&&R<.234&&_>=-.214&&_<-.115?c:o).invert(v)},m.stream=function(v){return e&&t===v?e:(E=[o.stream(t=v),u.stream(v),c.stream(v)],k=E.length,e={point:function(_,R){for(var O=-1;++O<k;)E[O].point(_,R)},sphere:function(){for(var _=-1;++_<k;)E[_].sphere()},lineStart:function(){for(var _=-1;++_<k;)E[_].lineStart()},lineEnd:function(){for(var _=-1;++_<k;)E[_].lineEnd()},polygonStart:function(){for(var _=-1;++_<k;)E[_].polygonStart()},polygonEnd:function(){for(var _=-1;++_<k;)E[_].polygonEnd()}});var E,k},m.precision=function(v){return arguments.length?(o.precision(v),u.precision(v),c.precision(v),g()):o.precision()},m.scale=function(v){return arguments.length?(o.scale(v),u.scale(.35*v),c.scale(v),m.translate(o.translate())):o.scale()},m.translate=function(v){if(!arguments.length)return o.translate();var E=o.scale(),k=+v[0],_=+v[1];return n=o.translate(v).clipExtent([[k-.455*E,_-.238*E],[k+.455*E,_+.238*E]]).stream(f),a=u.translate([k-.307*E,_+.201*E]).clipExtent([[k-.425*E+ht,_+.12*E+ht],[k-.214*E-ht,_+.234*E-ht]]).stream(f),r=c.translate([k-.205*E,_+.212*E]).clipExtent([[k-.214*E+ht,_+.166*E+ht],[k-.115*E-ht,_+.234*E-ht]]).stream(f),g()},m.fitExtent=function(v,E){return xE(m,v,E)},m.fitSize=function(v,E){return Bk(m,v,E)},m.fitWidth=function(v,E){return Uk(m,v,E)},m.fitHeight=function(v,E){return zk(m,v,E)},m.scale(1070)},azimuthalequalarea:function(){return Ns(FR).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Ns(PR).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Gk(AL).scale(109.5).parallels([30,30])},conicequalarea:SE,conicequidistant:function(){return Gk(TL).scale(131.154).center([0,13.9389])},equalEarth:function(){return Ns(BR).scale(177.158)},equirectangular:function(){return Ns(CE).scale(152.63)},gnomonic:function(){return Ns(UR).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,a,r,i,o,u=1,c=0,f=0,m=1,g=1,v=0,E=null,k=1,_=1,R=kE({point:function(M,U){var z=$([M,U]);this.stream.point(z[0],z[1])}}),O=db;function N(){return k=u*m,_=u*g,i=o=null,$}function $(M){var U=M[0]*k,z=M[1]*_;if(v){var q=z*e-U*t;U=U*e+z*t,z=q}return[U+c,z+f]}return $.invert=function(M){var U=M[0]-c,z=M[1]-f;if(v){var q=z*e+U*t;U=U*e-z*t,z=q}return[U/k,z/_]},$.stream=function(M){return i&&o===M?i:i=R(O(o=M))},$.postclip=function(M){return arguments.length?(O=M,E=n=a=r=null,N()):O},$.clipExtent=function(M){return arguments.length?(O=M==null?(E=n=a=r=null,db):oR(E=+M[0][0],n=+M[0][1],a=+M[1][0],r=+M[1][1]),N()):E==null?null:[[E,n],[a,r]]},$.scale=function(M){return arguments.length?(u=+M,N()):u},$.translate=function(M){return arguments.length?(c=+M[0],f=+M[1],N()):[c,f]},$.angle=function(M){return arguments.length?(t=ct(v=M%360*Tt),e=bt(v),N()):v*Ln},$.reflectX=function(M){return arguments.length?(m=M?-1:1,N()):m<0},$.reflectY=function(M){return arguments.length?(g=M?-1:1,N()):g<0},$.fitExtent=function(M,U){return xE($,M,U)},$.fitSize=function(M,U){return Bk($,M,U)},$.fitWidth=function(M,U){return Uk($,M,U)},$.fitHeight=function(M,U){return zk($,M,U)},$},mercator:function(){return $R(AE).scale(961/br)},mollweide:function(){return Ns(IL).scale(169.529)},naturalEarth1:function(){return Ns(zR).scale(175.295)},orthographic:function(){return Ns(GR).scale(249.5).clipAngle(90+ht)},stereographic:function(){return Ns(jR).scale(250).clipAngle(142)},transversemercator:function(){var e=$R(HR),t=e.center,n=e.rotate;return e.center=function(a){return arguments.length?t([-a[1],a[0]]):[(a=t())[1],-a[0]]},e.rotate=function(a){return arguments.length?n([a[0],a[1],a.length>2?a[2]+90:90]):[(a=n())[0],a[1],a[2]-90]},n([0,0,90]).scale(159.155)}};for(let e in IE)Wk(e,IE[e]);function DL(){}let xl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function KR(){var e=1,t=1,n=o;function a(u,c){return c.map(f=>r(u,f))}function r(u,c){var f=[],m=[];return function(g,v,E){var k,_,R,O,N,$,M=new Array,U=new Array;for(k=_=-1,O=g[0]>=v,xl[O<<1].forEach(z);++k<e-1;)R=O,O=g[k+1]>=v,xl[R|O<<1].forEach(z);for(xl[O<<0].forEach(z);++_<t-1;){for(k=-1,O=g[_*e+e]>=v,N=g[_*e]>=v,xl[O<<1|N<<2].forEach(z);++k<e-1;)R=O,O=g[_*e+e+k+1]>=v,$=N,N=g[_*e+k+1]>=v,xl[R|O<<1|N<<2|$<<3].forEach(z);xl[O|N<<3].forEach(z)}for(k=-1,N=g[_*e]>=v,xl[N<<2].forEach(z);++k<e-1;)$=N,N=g[_*e+k+1]>=v,xl[N<<2|$<<3].forEach(z);function z(q){var Y,K,ne=[q[0][0]+k,q[0][1]+_],X=[q[1][0]+k,q[1][1]+_],ie=i(ne),oe=i(X);(Y=U[ie])?(K=M[oe])?(delete U[Y.end],delete M[K.start],Y===K?(Y.ring.push(X),E(Y.ring)):M[Y.start]=U[K.end]={start:Y.start,end:K.end,ring:Y.ring.concat(K.ring)}):(delete U[Y.end],Y.ring.push(X),U[Y.end=oe]=Y):(Y=M[oe])?(K=U[ie])?(delete M[Y.start],delete U[K.end],Y===K?(Y.ring.push(X),E(Y.ring)):M[K.start]=U[Y.end]={start:K.start,end:Y.end,ring:K.ring.concat(Y.ring)}):(delete M[Y.start],Y.ring.unshift(ne),M[Y.start=ie]=Y):M[ie]=U[oe]={start:ie,end:oe,ring:[ne,X]}}xl[N<<3].forEach(z)}(u,c,g=>{n(g,u,c),function(v){for(var E=0,k=v.length,_=v[k-1][1]*v[0][0]-v[k-1][0]*v[0][1];++E<k;)_+=v[E-1][1]*v[E][0]-v[E-1][0]*v[E][1];return _}(g)>0?f.push([g]):m.push(g)}),m.forEach(g=>{for(var v,E=0,k=f.length;E<k;++E)if(ML((v=f[E])[0],g)!==-1)return void v.push(g)}),{type:"MultiPolygon",value:c,coordinates:f}}function i(u){return 2*u[0]+u[1]*(e+1)*4}function o(u,c,f){u.forEach(m=>{var g,v=m[0],E=m[1],k=0|v,_=0|E,R=c[_*e+k];v>0&&v<e&&k===v&&(g=c[_*e+k-1],m[0]=v+(f-g)/(R-g)-.5),E>0&&E<t&&_===E&&(g=c[(_-1)*e+k],m[1]=E+(f-g)/(R-g)-.5)})}return a.contour=r,a.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);return c>=0&&f>=0||F("invalid size"),e=c,t=f,a},a.smooth=function(u){return arguments.length?(n=u?o:DL,a):n===o},a}function ML(e,t){for(var n,a=-1,r=t.length;++a<r;)if(n=LL(e,t[a]))return n;return 0}function LL(e,t){for(var n=t[0],a=t[1],r=-1,i=0,o=e.length,u=o-1;i<o;u=i++){var c=e[i],f=c[0],m=c[1],g=e[u],v=g[0],E=g[1];if(FL(c,g,t))return 0;m>a!=E>a&&n<(v-f)*(a-m)/(E-m)+f&&(r=-r)}return r}function FL(e,t,n){var a,r,i,o;return function(u,c,f){return(c[0]-u[0])*(f[1]-u[1])==(f[0]-u[0])*(c[1]-u[1])}(e,t,n)&&(r=e[a=+(e[0]===t[0])],i=n[a],o=t[a],r<=i&&i<=o||o<=i&&i<=r)}function XR(e,t,n){return function(a){var r=$n(a),i=n?Math.min(r[0],0):r[0],o=r[1],u=o-i,c=t?Ai(i,o,e):u/(e+1);return Zn(i+c,o,c)}}function Vk(e){xe.call(this,null,e)}function ZR(e,t,n,a,r){let i=e.x1||0,o=e.y1||0,u=t*n<0;function c(g){g.forEach(f)}function f(g){u&&g.reverse(),g.forEach(m)}function m(g){g[0]=(g[0]-i)*t+a,g[1]=(g[1]-o)*n+r}return function(g){return g.coordinates.forEach(c),g}}function JR(e,t,n){let a=e>=0?e:om(t,n);return Math.round((Math.sqrt(4*a*a+1)-1)/2)}function Yk(e){return Je(e)?e:dn(+e)}function QR(){var e=c=>c[0],t=c=>c[1],n=pe,a=[-1,-1],r=960,i=500,o=2;function u(c,f){let m=JR(a[0],c,e)>>o,g=JR(a[1],c,t)>>o,v=m?m+2:0,E=g?g+2:0,k=2*v+(r>>o),_=2*E+(i>>o),R=new Float32Array(k*_),O=new Float32Array(k*_),N=R;c.forEach(M=>{let U=v+(+e(M)>>o),z=E+(+t(M)>>o);U>=0&&U<k&&z>=0&&z<_&&(R[U+z*k]+=+n(M))}),m>0&&g>0?(Gp(k,_,R,O,m),jp(k,_,O,R,g),Gp(k,_,R,O,m),jp(k,_,O,R,g),Gp(k,_,R,O,m),jp(k,_,O,R,g)):m>0?(Gp(k,_,R,O,m),Gp(k,_,O,R,m),Gp(k,_,R,O,m),N=O):g>0&&(jp(k,_,R,O,g),jp(k,_,O,R,g),jp(k,_,R,O,g),N=O);let $=f?Math.pow(2,-2*o):1/p_(N);for(let M=0,U=k*_;M<U;++M)N[M]*=$;return{values:N,scale:1<<o,width:k,height:_,x1:v,y1:E,x2:v+(r>>o),y2:E+(i>>o)}}return u.x=function(c){return arguments.length?(e=Yk(c),u):e},u.y=function(c){return arguments.length?(t=Yk(c),u):t},u.weight=function(c){return arguments.length?(n=Yk(c),u):n},u.size=function(c){if(!arguments.length)return[r,i];var f=+c[0],m=+c[1];return f>=0&&m>=0||F("invalid size"),r=f,i=m,u},u.cellSize=function(c){return arguments.length?((c=+c)>=1||F("invalid cell size"),o=Math.floor(Math.log(c)/Math.LN2),u):1<<o},u.bandwidth=function(c){return arguments.length?((c=Ce(c)).length===1&&(c=[+c[0],+c[0]]),c.length!==2&&F("invalid bandwidth"),a=c,u):a},u}function Gp(e,t,n,a,r){let i=1+(r<<1);for(let o=0;o<t;++o)for(let u=0,c=0;u<e+r;++u)u<e&&(c+=n[u+o*e]),u>=r&&(u>=i&&(c-=n[u-i+o*e]),a[u-r+o*e]=c/Math.min(u+1,e-1+i-u,i))}function jp(e,t,n,a,r){let i=1+(r<<1);for(let o=0;o<e;++o)for(let u=0,c=0;u<t+r;++u)u<t&&(c+=n[o+u*e]),u>=r&&(u>=i&&(c-=n[o+(u-i)*e]),a[o+(u-r)*e]=c/Math.min(u+1,t-1+i-u,i))}function Kk(e){xe.call(this,null,e)}Vk.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Me(Vk,xe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=t.materialize(t.SOURCE).source,r=e.field||Q,i=KR().smooth(e.smooth!==!1),o=e.thresholds||function(f,m,g){let v=XR(g.levels||10,g.nice,g.zero!==!1);return g.resolve!=="shared"?v:v(f.map(E=>$s(m(E).values)))}(a,r,e),u=e.as===null?null:e.as||"contour",c=[];return a.forEach(f=>{let m=r(f),g=i.size([m.width,m.height])(m.values,Ee(o)?o:o(m.values));(function(v,E,k,_){let R=_.scale||E.scale,O=_.translate||E.translate;if(Je(R)&&(R=R(k,_)),Je(O)&&(O=O(k,_)),(R===1||R==null)&&!O)return;let N=(Pa(R)?R:R[0])||1,$=(Pa(R)?R:R[1])||1,M=O&&O[0]||0,U=O&&O[1]||0;v.forEach(ZR(E,N,$,M,U))})(g,m,f,e),g.forEach(v=>{c.push(pc(f,Rt(u!=null?{[u]:v}:v)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=c,n}}),Kk.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let PL=["x","y","weight","size","cellSize","bandwidth"];function eN(e,t){return PL.forEach(n=>t[n]!=null?e[n](t[n]):0),e}function Xk(e){xe.call(this,null,e)}Me(Kk,xe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=function(c,f){var m,g,v,E,k,_,R=[],O=N=>N(E);if(f==null)R.push(c);else for(m={},g=0,v=c.length;g<v;++g)E=c[g],(_=m[k=f.map(O)])||(m[k]=_=[],_.dims=k,R.push(_)),_.push(E);return R}(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(x),o=eN(QR(),e),u=e.as||"grid";return n=r.map(c=>Rt(function(f,m){for(let g=0;g<i.length;++g)f[i[g]]=m[g];return f}({[u]:o(c,e.counts)},c.dims))),this.value&&(a.rem=this.value),this.value=a.source=a.add=n,a}}),Xk.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Me(Xk,xe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=KR().smooth(e.smooth!==!1),o=e.values,u=e.thresholds||XR(e.count||10,e.nice,!!o),c=e.size;return o||(o=t.materialize(t.SOURCE).source,a=ZR(n=eN(QR(),e)(o,!0),n.scale||1,n.scale||1,0,0),c=[n.width,n.height],o=n.values),u=Ee(u)?u:u(o),o=i.size(c)(o,u),a&&o.forEach(a),this.value&&(r.rem=this.value),this.value=r.source=r.add=(o||[]).map(Rt),r}});let Zk="Feature",Jk="FeatureCollection";function Qk(e){xe.call(this,null,e)}function ex(e){xe.call(this,null,e)}function tx(e){xe.call(this,null,e)}function nx(e){xe.call(this,null,e)}function ax(e){xe.call(this,[],e),this.generator=function(){var t,n,a,r,i,o,u,c,f,m,g,v,E=10,k=E,_=90,R=360,O=2.5;function N(){return{type:"MultiLineString",coordinates:$()}}function $(){return Zn(Zv(r/_)*_,a,_).map(g).concat(Zn(Zv(c/R)*R,u,R).map(v)).concat(Zn(Zv(n/E)*E,t,E).filter(function(M){return Ot(M%_)>ht}).map(f)).concat(Zn(Zv(o/k)*k,i,k).filter(function(M){return Ot(M%R)>ht}).map(m))}return N.lines=function(){return $().map(function(M){return{type:"LineString",coordinates:M}})},N.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(v(u).slice(1),g(a).reverse().slice(1),v(c).reverse().slice(1))]}},N.extent=function(M){return arguments.length?N.extentMajor(M).extentMinor(M):N.extentMinor()},N.extentMajor=function(M){return arguments.length?(r=+M[0][0],a=+M[1][0],c=+M[0][1],u=+M[1][1],r>a&&(M=r,r=a,a=M),c>u&&(M=c,c=u,u=M),N.precision(O)):[[r,c],[a,u]]},N.extentMinor=function(M){return arguments.length?(n=+M[0][0],t=+M[1][0],o=+M[0][1],i=+M[1][1],n>t&&(M=n,n=t,t=M),o>i&&(M=o,o=i,i=M),N.precision(O)):[[n,o],[t,i]]},N.step=function(M){return arguments.length?N.stepMajor(M).stepMinor(M):N.stepMinor()},N.stepMajor=function(M){return arguments.length?(_=+M[0],R=+M[1],N):[_,R]},N.stepMinor=function(M){return arguments.length?(E=+M[0],k=+M[1],N):[E,k]},N.precision=function(M){return arguments.length?(O=+M,f=sR(o,i,90),m=lR(n,t,O),g=sR(c,u,90),v=lR(r,a,O),N):O},N.extentMajor([[-180,-90+ht],[180,90-ht]]).extentMinor([[-180,-80-ht],[180,80+ht]])}()}function rx(e){xe.call(this,null,e)}function tN(e){if(!Je(e))return!1;let t=rr(T(e));return t.$x||t.$y||t.$value||t.$max}function nN(e){xe.call(this,null,e),this.modified(!0)}function aN(e,t,n){Je(e[t])&&e[t](n)}Qk.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Me(Qk,xe,{transform(e,t){var n,a=this._features,r=this._points,i=e.fields,o=i&&i[0],u=i&&i[1],c=e.geojson||!i&&Q,f=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(T(c))||o&&t.modified(T(o))||u&&t.modified(T(u)),this.value&&!n||(f=t.SOURCE,this._features=a=[],this._points=r=[]),c&&t.visit(f,m=>a.push(c(m))),o&&u&&(t.visit(f,m=>{var g=o(m),v=u(m);g!=null&&v!=null&&(g=+g)===g&&(v=+v)===v&&r.push([g,v])}),a=a.concat({type:Zk,geometry:{type:"MultiPoint",coordinates:r}})),this.value={type:Jk,features:a}}}),ex.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Me(ex,xe,{transform(e,t){var n=t.fork(t.ALL),a=this.value,r=e.field||Q,i=e.as||"path",o=n.SOURCE;!a||e.modified()?(this.value=a=YR(e.projection),n.materialize().reflow()):o=r===Q||t.modified(r.fields)?n.ADD_MOD:n.ADD;let u=function(c,f){let m=c.pointRadius();return c.context(null),f!=null&&c.pointRadius(f),m}(a,e.pointRadius);return n.visit(o,c=>c[i]=a(r(c))),a.pointRadius(u),n.modifies(i)}}),tx.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Me(tx,xe,{transform(e,t){var n,a=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],u=o[0],c=o[1];function f(m){let g=a([r(m),i(m)]);g?(m[u]=g[0],m[c]=g[1]):(m[u]=void 0,m[c]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,f):(n=t.modified(r.fields)||t.modified(i.fields),t.visit(n?t.ADD_MOD:t.ADD,f)),t.modifies(o)}}),nx.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Me(nx,xe,{transform(e,t){var n=t.fork(t.ALL),a=this.value,r=e.as||"shape",i=n.ADD;return a&&!e.modified()||(this.value=a=function(o,u,c){let f=c==null?m=>o(u(m)):m=>{var g=o.pointRadius(),v=o.pointRadius(c)(u(m));return o.pointRadius(g),v};return f.context=m=>(o.context(m),f),f}(YR(e.projection),e.field||W("datum"),e.pointRadius),n.materialize().reflow(),i=n.SOURCE),n.visit(i,o=>o[r]=a),n.modifies(r)}}),ax.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Me(ax,xe,{transform(e,t){var n,a=this.value,r=this.generator;if(!a.length||e.modified())for(let i in e)Je(r[i])&&r[i](e[i]);return n=r(),a.length?t.mod.push(ru(a[0],n)):t.add.push(Rt(n)),a[0]=n,t}}),rx.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Me(rx,xe,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,a=e.resolve==="shared",r=e.field||Q,i=function(f,m){let g;return Je(f)?(g=v=>f(v,m),g.dep=tN(f)):f?g=dn(f):(g=v=>v.$value/v.$max||0,g.dep=!0),g}(e.opacity,e),o=function(f,m){let g;return Je(f)?(g=v=>ms(f(v,m)),g.dep=tN(f)):g=dn(ms(f||"#888")),g}(e.color,e),u=e.as||"image",c={$x:0,$y:0,$value:0,$max:a?$s(n.map(f=>$s(r(f).values))):0};return n.forEach(f=>{let m=r(f),g=pt({},f,c);a||(g.$max=$s(m.values||[])),f[u]=function(v,E,k,_){let R=v.width,O=v.height,N=v.x1||0,$=v.y1||0,M=v.x2||R,U=v.y2||O,z=v.values,q=z?ie=>z[ie]:ae,Y=Ha(M-N,U-$),K=Y.getContext("2d"),ne=K.getImageData(0,0,M-N,U-$),X=ne.data;for(let ie=$,oe=0;ie<U;++ie){E.$y=ie-$;for(let le=N,ce=ie*R;le<M;++le,oe+=4){E.$x=le-N,E.$value=q(le+ce);let ve=k(E);X[oe+0]=ve.r,X[oe+1]=ve.g,X[oe+2]=ve.b,X[oe+3]=~~(255*_(E))}}return K.putImageData(ne,0,0),Y}(m,g,o.dep?o:dn(o(g)),i.dep?i:dn(i(g)))}),t.reflow(!0).modifies(u)}}),Me(nN,xe,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(a){let r=Wk((a||"mercator").toLowerCase());return r||F("Unrecognized projection type: "+a),r()}(e.type),qk.forEach(a=>{e[a]!=null&&aN(n,a,e[a])})):qk.forEach(a=>{e.modified(a)&&aN(n,a,e[a])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&function(a,r){let i=function(o){return o=Ce(o),o.length===1?o[0]:{type:Jk,features:o.reduce((u,c)=>u.concat(function(f){return f.type===Jk?f.features:Ce(f).filter(m=>m!=null).map(m=>m.type===Zk?m:{type:Zk,geometry:m})}(c)),[])}}(r.fit);r.extent?a.fitExtent(r.extent,i):r.size&&a.fitSize(r.size,i)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var $L=Object.freeze({__proto__:null,contour:Xk,geojson:Qk,geopath:ex,geopoint:tx,geoshape:nx,graticule:ax,heatmap:rx,isocontour:Vk,kde2d:Kk,projection:nN});function rN(e,t,n,a){if(isNaN(t)||isNaN(n))return e;var r,i,o,u,c,f,m,g,v,E=e._root,k={data:a},_=e._x0,R=e._y0,O=e._x1,N=e._y1;if(!E)return e._root=k,e;for(;E.length;)if((f=t>=(i=(_+O)/2))?_=i:O=i,(m=n>=(o=(R+N)/2))?R=o:N=o,r=E,!(E=E[g=m<<1|f]))return r[g]=k,e;if(u=+e._x.call(null,E.data),c=+e._y.call(null,E.data),t===u&&n===c)return k.next=E,r?r[g]=k:e._root=k,e;do r=r?r[g]=new Array(4):e._root=new Array(4),(f=t>=(i=(_+O)/2))?_=i:O=i,(m=n>=(o=(R+N)/2))?R=o:N=o;while((g=m<<1|f)==(v=(c>=o)<<1|u>=i));return r[v]=E,r[g]=k,e}function _r(e,t,n,a,r){this.node=e,this.x0=t,this.y0=n,this.x1=a,this.y1=r}function BL(e){return e[0]}function UL(e){return e[1]}function ix(e,t,n){var a=new ox(t??BL,n??UL,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function ox(e,t,n,a,r,i){this._x=e,this._y=t,this._x0=n,this._y0=a,this._x1=r,this._y1=i,this._root=void 0}function iN(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var kr=ix.prototype=ox.prototype;function xr(e){return function(){return e}}function zu(e){return 1e-6*(e()-.5)}function zL(e){return e.x+e.vx}function GL(e){return e.y+e.vy}function jL(e){return e.index}function oN(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}kr.copy=function(){var e,t,n=new ox(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root;if(!a)return n;if(!a.length)return n._root=iN(a),n;for(e=[{source:a,target:n._root=new Array(4)}];a=e.pop();)for(var r=0;r<4;++r)(t=a.source[r])&&(t.length?e.push({source:t,target:a.target[r]=new Array(4)}):a.target[r]=iN(t));return n},kr.add=function(e){let t=+this._x.call(null,e),n=+this._y.call(null,e);return rN(this.cover(t,n),t,n,e)},kr.addAll=function(e){var t,n,a,r,i=e.length,o=new Array(i),u=new Array(i),c=1/0,f=1/0,m=-1/0,g=-1/0;for(n=0;n<i;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(o[n]=a,u[n]=r,a<c&&(c=a),a>m&&(m=a),r<f&&(f=r),r>g&&(g=r));if(c>m||f>g)return this;for(this.cover(c,f).cover(m,g),n=0;n<i;++n)rN(this,o[n],u[n],e[n]);return this},kr.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,a=this._y0,r=this._x1,i=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,i=(a=Math.floor(t))+1;else{for(var o,u,c=r-n||1,f=this._root;n>e||e>=r||a>t||t>=i;)switch(u=(t<a)<<1|e<n,(o=new Array(4))[u]=f,f=o,c*=2,u){case 0:r=n+c,i=a+c;break;case 1:n=r-c,i=a+c;break;case 2:r=n+c,a=i-c;break;case 3:n=r-c,a=i-c}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=a,this._x1=r,this._y1=i,this},kr.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},kr.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},kr.find=function(e,t,n){var a,r,i,o,u,c,f,m=this._x0,g=this._y0,v=this._x1,E=this._y1,k=[],_=this._root;for(_&&k.push(new _r(_,m,g,v,E)),n==null?n=1/0:(m=e-n,g=t-n,v=e+n,E=t+n,n*=n);c=k.pop();)if(!(!(_=c.node)||(r=c.x0)>v||(i=c.y0)>E||(o=c.x1)<m||(u=c.y1)<g))if(_.length){var R=(r+o)/2,O=(i+u)/2;k.push(new _r(_[3],R,O,o,u),new _r(_[2],r,O,R,u),new _r(_[1],R,i,o,O),new _r(_[0],r,i,R,O)),(f=(t>=O)<<1|e>=R)&&(c=k[k.length-1],k[k.length-1]=k[k.length-1-f],k[k.length-1-f]=c)}else{var N=e-+this._x.call(null,_.data),$=t-+this._y.call(null,_.data),M=N*N+$*$;if(M<n){var U=Math.sqrt(n=M);m=e-U,g=t-U,v=e+U,E=t+U,a=_.data}}return a},kr.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,a,r,i,o,u,c,f,m,g,v,E=this._root,k=this._x0,_=this._y0,R=this._x1,O=this._y1;if(!E)return this;if(E.length)for(;;){if((f=i>=(u=(k+R)/2))?k=u:R=u,(m=o>=(c=(_+O)/2))?_=c:O=c,t=E,!(E=E[g=m<<1|f]))return this;if(!E.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,v=g)}for(;E.data!==e;)if(a=E,!(E=E.next))return this;return(r=E.next)&&delete E.next,a?(r?a.next=r:delete a.next,this):t?(r?t[g]=r:delete t[g],(E=t[0]||t[1]||t[2]||t[3])&&E===(t[3]||t[2]||t[1]||t[0])&&!E.length&&(n?n[v]=E:this._root=E),this):(this._root=r,this)},kr.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},kr.root=function(){return this._root},kr.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},kr.visit=function(e){var t,n,a,r,i,o,u=[],c=this._root;for(c&&u.push(new _r(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,a=t.x0,r=t.y0,i=t.x1,o=t.y1)&&c.length){var f=(a+i)/2,m=(r+o)/2;(n=c[3])&&u.push(new _r(n,f,m,i,o)),(n=c[2])&&u.push(new _r(n,a,m,f,o)),(n=c[1])&&u.push(new _r(n,f,r,i,m)),(n=c[0])&&u.push(new _r(n,a,r,f,m))}return this},kr.visitAfter=function(e){var t,n=[],a=[];for(this._root&&n.push(new _r(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var i,o=t.x0,u=t.y0,c=t.x1,f=t.y1,m=(o+c)/2,g=(u+f)/2;(i=r[0])&&n.push(new _r(i,o,u,m,g)),(i=r[1])&&n.push(new _r(i,m,u,c,g)),(i=r[2])&&n.push(new _r(i,o,g,m,f)),(i=r[3])&&n.push(new _r(i,m,g,c,f))}a.push(t)}for(;t=a.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},kr.x=function(e){return arguments.length?(this._x=e,this):this._x},kr.y=function(e){return arguments.length?(this._y=e,this):this._y};var HL={value:()=>{}};function sN(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new OE(a)}function OE(e){this._=e}function qL(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function lN(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=HL,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}OE.prototype=sN.prototype={constructor:OE,on:function(e,t){var n,a,r=this._,i=(a=r,(e+"").trim().split(/^|\s+/).map(function(c){var f="",m=c.indexOf(".");if(m>=0&&(f=c.slice(m+1),c=c.slice(0,m)),c&&!a.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:f}})),o=-1,u=i.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=i[o]).type)r[n]=lN(r[n],e.name,t);else if(t==null)for(n in r)r[n]=lN(r[n],e.name,null);return this}for(;++o<u;)if((n=(e=i[o]).type)&&(n=qL(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new OE(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(a=this._[e]).length;i<n;++i)a[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};var DE,_b,Hp=0,kb=0,xb=0,uN=1e3,ME=0,hd=0,LE=0,Sb=typeof performance=="object"&&performance.now?performance:Date,cN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sx(){return hd||(cN(WL),hd=Sb.now()+LE)}function WL(){hd=0}function FE(){this._call=this._time=this._next=null}function dN(e,t,n){var a=new FE;return a.restart(e,t,n),a}function fN(){hd=(ME=Sb.now())+LE,Hp=kb=0;try{(function(){sx(),++Hp;for(var e,t=DE;t;)(e=hd-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hp})()}finally{Hp=0,function(){for(var e,t,n=DE,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:DE=t);_b=e,lx(a)}(),hd=0}}function VL(){var e=Sb.now(),t=e-ME;t>uN&&(LE-=t,ME=e)}function lx(e){Hp||(kb&&(kb=clearTimeout(kb)),e-hd>24?(e<1/0&&(kb=setTimeout(fN,e-Sb.now()-LE)),xb&&(xb=clearInterval(xb))):(xb||(ME=Sb.now(),xb=setInterval(VL,uN)),Hp=1,cN(fN)))}FE.prototype=dN.prototype={constructor:FE,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sx():+n)+(t==null?0:+t),this._next||_b===this||(_b?_b._next=this:DE=this,_b=this),this._call=e,this._time=n,lx()},stop:function(){this._call&&(this._call=null,this._time=1/0,lx())}};let YL=1664525,KL=1013904223,pN=4294967296;function XL(e){return e.x}function ZL(e){return e.y}var JL=10,QL=Math.PI*(3-Math.sqrt(5));function eF(e){var t,n=1,a=.001,r=1-Math.pow(a,1/300),i=0,o=.6,u=new Map,c=dN(g),f=sN("tick","end"),m=function(){let _=1;return()=>(_=(YL*_+KL)%pN)/pN}();function g(){v(),f.call("tick",t),n<a&&(c.stop(),f.call("end",t))}function v(_){var R,O,N=e.length;_===void 0&&(_=1);for(var $=0;$<_;++$)for(n+=(i-n)*r,u.forEach(function(M){M(n)}),R=0;R<N;++R)(O=e[R]).fx==null?O.x+=O.vx*=o:(O.x=O.fx,O.vx=0),O.fy==null?O.y+=O.vy*=o:(O.y=O.fy,O.vy=0);return t}function E(){for(var _,R=0,O=e.length;R<O;++R){if((_=e[R]).index=R,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var N=JL*Math.sqrt(.5+R),$=R*QL;_.x=N*Math.cos($),_.y=N*Math.sin($)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function k(_){return _.initialize&&_.initialize(e,m),_}return e==null&&(e=[]),E(),t={tick:v,restart:function(){return c.restart(g),t},stop:function(){return c.stop(),t},nodes:function(_){return arguments.length?(e=_,E(),u.forEach(k),t):e},alpha:function(_){return arguments.length?(n=+_,t):n},alphaMin:function(_){return arguments.length?(a=+_,t):a},alphaDecay:function(_){return arguments.length?(r=+_,t):+r},alphaTarget:function(_){return arguments.length?(i=+_,t):i},velocityDecay:function(_){return arguments.length?(o=1-_,t):1-o},randomSource:function(_){return arguments.length?(m=_,u.forEach(k),t):m},force:function(_,R){return arguments.length>1?(R==null?u.delete(_):u.set(_,k(R)),t):u.get(_)},find:function(_,R,O){var N,$,M,U,z,q=0,Y=e.length;for(O==null?O=1/0:O*=O,q=0;q<Y;++q)(M=(N=_-(U=e[q]).x)*N+($=R-U.y)*$)<O&&(z=U,O=M);return z},on:function(_,R){return arguments.length>1?(f.on(_,R),t):f.on(_)}}}let hN={center:function(e,t){var n,a=1;function r(){var i,o,u=n.length,c=0,f=0;for(i=0;i<u;++i)c+=(o=n[i]).x,f+=o.y;for(c=(c/u-e)*a,f=(f/u-t)*a,i=0;i<u;++i)(o=n[i]).x-=c,o.y-=f}return e==null&&(e=0),t==null&&(t=0),r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(e=+i,r):e},r.y=function(i){return arguments.length?(t=+i,r):t},r.strength=function(i){return arguments.length?(a=+i,r):a},r},collide:function(e){var t,n,a,r=1,i=1;function o(){for(var f,m,g,v,E,k,_,R=t.length,O=0;O<i;++O)for(m=ix(t,zL,GL).visitAfter(u),f=0;f<R;++f)g=t[f],k=n[g.index],_=k*k,v=g.x+g.vx,E=g.y+g.vy,m.visit(N);function N($,M,U,z,q){var Y=$.data,K=$.r,ne=k+K;if(!Y)return M>v+ne||z<v-ne||U>E+ne||q<E-ne;if(Y.index>g.index){var X=v-Y.x-Y.vx,ie=E-Y.y-Y.vy,oe=X*X+ie*ie;oe<ne*ne&&(X===0&&(oe+=(X=zu(a))*X),ie===0&&(oe+=(ie=zu(a))*ie),oe=(ne-(oe=Math.sqrt(oe)))/oe*r,g.vx+=(X*=oe)*(ne=(K*=K)/(_+K)),g.vy+=(ie*=oe)*ne,Y.vx-=X*(ne=1-ne),Y.vy-=ie*ne)}}}function u(f){if(f.data)return f.r=n[f.data.index];for(var m=f.r=0;m<4;++m)f[m]&&f[m].r>f.r&&(f.r=f[m].r)}function c(){if(t){var f,m,g=t.length;for(n=new Array(g),f=0;f<g;++f)m=t[f],n[m.index]=+e(m,f,t)}}return typeof e!="function"&&(e=xr(e==null?1:+e)),o.initialize=function(f,m){t=f,a=m,c()},o.iterations=function(f){return arguments.length?(i=+f,o):i},o.strength=function(f){return arguments.length?(r=+f,o):r},o.radius=function(f){return arguments.length?(e=typeof f=="function"?f:xr(+f),c(),o):e},o},nbody:function(){var e,t,n,a,r,i=xr(-30),o=1,u=1/0,c=.81;function f(E){var k,_=e.length,R=ix(e,XL,ZL).visitAfter(g);for(a=E,k=0;k<_;++k)t=e[k],R.visit(v)}function m(){if(e){var E,k,_=e.length;for(r=new Array(_),E=0;E<_;++E)k=e[E],r[k.index]=+i(k,E,e)}}function g(E){var k,_,R,O,N,$=0,M=0;if(E.length){for(R=O=N=0;N<4;++N)(k=E[N])&&(_=Math.abs(k.value))&&($+=k.value,M+=_,R+=_*k.x,O+=_*k.y);E.x=R/M,E.y=O/M}else{(k=E).x=k.data.x,k.y=k.data.y;do $+=r[k.data.index];while(k=k.next)}E.value=$}function v(E,k,_,R){if(!E.value)return!0;var O=E.x-t.x,N=E.y-t.y,$=R-k,M=O*O+N*N;if($*$/c<M)return M<u&&(O===0&&(M+=(O=zu(n))*O),N===0&&(M+=(N=zu(n))*N),M<o&&(M=Math.sqrt(o*M)),t.vx+=O*E.value*a/M,t.vy+=N*E.value*a/M),!0;if(!(E.length||M>=u)){(E.data!==t||E.next)&&(O===0&&(M+=(O=zu(n))*O),N===0&&(M+=(N=zu(n))*N),M<o&&(M=Math.sqrt(o*M)));do E.data!==t&&($=r[E.data.index]*a/M,t.vx+=O*$,t.vy+=N*$);while(E=E.next)}}return f.initialize=function(E,k){e=E,n=k,m()},f.strength=function(E){return arguments.length?(i=typeof E=="function"?E:xr(+E),m(),f):i},f.distanceMin=function(E){return arguments.length?(o=E*E,f):Math.sqrt(o)},f.distanceMax=function(E){return arguments.length?(u=E*E,f):Math.sqrt(u)},f.theta=function(E){return arguments.length?(c=E*E,f):Math.sqrt(c)},f},link:function(e){var t,n,a,r,i,o,u=jL,c=function(_){return 1/Math.min(r[_.source.index],r[_.target.index])},f=xr(30),m=1;function g(_){for(var R=0,O=e.length;R<m;++R)for(var N,$,M,U,z,q,Y,K=0;K<O;++K)$=(N=e[K]).source,U=(M=N.target).x+M.vx-$.x-$.vx||zu(o),z=M.y+M.vy-$.y-$.vy||zu(o),U*=q=((q=Math.sqrt(U*U+z*z))-n[K])/q*_*t[K],z*=q,M.vx-=U*(Y=i[K]),M.vy-=z*Y,$.vx+=U*(Y=1-Y),$.vy+=z*Y}function v(){if(a){var _,R,O=a.length,N=e.length,$=new Map(a.map((M,U)=>[u(M,U,a),M]));for(_=0,r=new Array(O);_<N;++_)(R=e[_]).index=_,typeof R.source!="object"&&(R.source=oN($,R.source)),typeof R.target!="object"&&(R.target=oN($,R.target)),r[R.source.index]=(r[R.source.index]||0)+1,r[R.target.index]=(r[R.target.index]||0)+1;for(_=0,i=new Array(N);_<N;++_)R=e[_],i[_]=r[R.source.index]/(r[R.source.index]+r[R.target.index]);t=new Array(N),E(),n=new Array(N),k()}}function E(){if(a)for(var _=0,R=e.length;_<R;++_)t[_]=+c(e[_],_,e)}function k(){if(a)for(var _=0,R=e.length;_<R;++_)n[_]=+f(e[_],_,e)}return e==null&&(e=[]),g.initialize=function(_,R){a=_,o=R,v()},g.links=function(_){return arguments.length?(e=_,v(),g):e},g.id=function(_){return arguments.length?(u=_,g):u},g.iterations=function(_){return arguments.length?(m=+_,g):m},g.strength=function(_){return arguments.length?(c=typeof _=="function"?_:xr(+_),E(),g):c},g.distance=function(_){return arguments.length?(f=typeof _=="function"?_:xr(+_),k(),g):f},g},x:function(e){var t,n,a,r=xr(.1);function i(u){for(var c,f=0,m=t.length;f<m;++f)(c=t[f]).vx+=(a[f]-c.x)*n[f]*u}function o(){if(t){var u,c=t.length;for(n=new Array(c),a=new Array(c),u=0;u<c;++u)n[u]=isNaN(a[u]=+e(t[u],u,t))?0:+r(t[u],u,t)}}return typeof e!="function"&&(e=xr(e==null?0:+e)),i.initialize=function(u){t=u,o()},i.strength=function(u){return arguments.length?(r=typeof u=="function"?u:xr(+u),o(),i):r},i.x=function(u){return arguments.length?(e=typeof u=="function"?u:xr(+u),o(),i):e},i},y:function(e){var t,n,a,r=xr(.1);function i(u){for(var c,f=0,m=t.length;f<m;++f)(c=t[f]).vy+=(a[f]-c.y)*n[f]*u}function o(){if(t){var u,c=t.length;for(n=new Array(c),a=new Array(c),u=0;u<c;++u)n[u]=isNaN(a[u]=+e(t[u],u,t))?0:+r(t[u],u,t)}}return typeof e!="function"&&(e=xr(e==null?0:+e)),i.initialize=function(u){t=u,o()},i.strength=function(u){return arguments.length?(r=typeof u=="function"?u:xr(+u),o(),i):r},i.y=function(u){return arguments.length?(e=typeof u=="function"?u:xr(+u),o(),i):e},i}},Ab="forces",ux=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],tF=["static","iterations"],mN=["x","y","vx","vy"];function cx(e){xe.call(this,null,e)}function gN(e,t,n,a){var r,i,o,u,c=Ce(t.forces);for(r=0,i=ux.length;r<i;++r)(o=ux[r])!==Ab&&t.modified(o)&&e[o](t[o]);for(r=0,i=c.length;r<i;++r)u=Ab+r,(o=n||t.modified(Ab,r)?aF(c[r]):a&&nF(c[r],a)?e.force(u):null)&&e.force(u,o);for(i=e.numForces||0;r<i;++r)e.force(Ab+r,null);return e.numForces=c.length,e}function nF(e,t){var n,a;for(n in e)if(Je(a=e[n])&&t.modified(T(a)))return 1;return 0}function aF(e){var t,n;for(n in et(hN,e.force)||F("Unrecognized force: "+e.force),t=hN[e.force](),e)Je(t[n])&&rF(t[n],e[n],e);return t}function rF(e,t,n){e(Je(t)?a=>t(a,n):t)}cx.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:mN}]},Me(cx,xe,{transform(e,t){var n,a,r=this.value,i=t.changed(t.ADD_REM),o=e.modified(ux),u=e.iterations||300;if(r?(i&&(t.modifies("index"),r.nodes(t.source)),(o||t.changed(t.MOD))&&gN(r,e,0,t)):(this.value=r=function(c,f){let m=eF(c),g=m.stop,v=m.restart,E=!1;return m.stopped=()=>E,m.restart=()=>(E=!1,v()),m.stop=()=>(E=!0,g()),gN(m,f,!0).on("end",()=>E=!0)}(t.source,e),r.on("tick",(n=t.dataflow,a=this,()=>n.touch(a).run())),e.static||(i=!0,r.tick()),t.modifies("index")),o||i||e.modified(tF)||t.changed()&&e.restart){if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/u)),e.static)for(r.stop();--u>=0;)r.tick();else if(r.stopped()&&r.restart(),!i)return t.StopPropagation}return this.finish(e,t)},finish(e,t){let n=t.dataflow;for(let u,c=this._argops,f=0,m=c.length;f<m;++f)if(u=c[f],u.name===Ab&&u.op._argval.force==="link"){for(var a,r=u.op._argops,i=0,o=r.length;i<o;++i)if(r[i].name==="links"&&(a=r[i].op.source)){n.pulse(a,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(mN)}});var iF=Object.freeze({__proto__:null,force:cx});function oF(e,t){return e.parent===t.parent?1:2}function sF(e,t){return e+t.x}function lF(e,t){return Math.max(e,t.y)}function uF(e){var t=0,n=e.children,a=n&&n.length;if(a)for(;--a>=0;)t+=n[a].value;else t=1;e.value=t}function dx(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=dF)):t===void 0&&(t=cF);for(var n,a,r,i,o,u=new qp(e),c=[u];n=c.pop();)if((r=t(n.data))&&(o=(r=Array.from(r)).length))for(n.children=r,i=o-1;i>=0;--i)c.push(a=r[i]=new qp(r[i])),a.parent=n,a.depth=n.depth+1;return u.eachBefore(bN)}function cF(e){return e.children}function dF(e){return Array.isArray(e)?e[1]:null}function fF(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function bN(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function qp(e){this.data=e,this.depth=this.height=0,this.parent=null}function PE(e){return e==null?null:yN(e)}function yN(e){if(typeof e!="function")throw new Error;return e}function md(){return 0}function Wp(e){return function(){return e}}qp.prototype=dx.prototype={constructor:qp,count:function(){return this.eachAfter(uF)},each:function(e,t){let n=-1;for(let a of this)e.call(t,a,++n,this);return this},eachAfter:function(e,t){for(var n,a,r,i=this,o=[i],u=[],c=-1;i=o.pop();)if(u.push(i),n=i.children)for(a=0,r=n.length;a<r;++a)o.push(n[a]);for(;i=u.pop();)e.call(t,i,++c,this);return this},eachBefore:function(e,t){for(var n,a,r=this,i=[r],o=-1;r=i.pop();)if(e.call(t,r,++o,this),n=r.children)for(a=n.length-1;a>=0;--a)i.push(n[a]);return this},find:function(e,t){let n=-1;for(let a of this)if(e.call(t,a,++n,this))return a},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,a=t.children,r=a&&a.length;--r>=0;)n+=a[r].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(i,o){if(i===o)return i;var u=i.ancestors(),c=o.ancestors(),f=null;for(i=u.pop(),o=c.pop();i===o;)f=i,i=u.pop(),o=c.pop();return f}(t,e),a=[t];t!==n;)t=t.parent,a.push(t);for(var r=a.length;e!==n;)a.splice(r,0,e),e=e.parent;return a},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return dx(this).eachBefore(fF)},[Symbol.iterator]:function*(){var e,t,n,a,r=this,i=[r];do for(e=i.reverse(),i=[];r=e.pop();)if(yield r,t=r.children)for(n=0,a=t.length;n<a;++n)i.push(t[n]);while(i.length)}};let pF=1664525,hF=1013904223,vN=4294967296;function mF(e,t){var n,a;if(fx(t,e))return[t];for(n=0;n<e.length;++n)if($E(t,e[n])&&fx(Tb(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(a=n+1;a<e.length;++a)if($E(Tb(e[n],e[a]),t)&&$E(Tb(e[n],t),e[a])&&$E(Tb(e[a],t),e[n])&&fx(wN(e[n],e[a],t),e))return[e[n],e[a],t];throw new Error}function $E(e,t){var n=e.r-t.r,a=t.x-e.x,r=t.y-e.y;return n<0||n*n<a*a+r*r}function EN(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),a=t.x-e.x,r=t.y-e.y;return n>0&&n*n>a*a+r*r}function fx(e,t){for(var n=0;n<t.length;++n)if(!EN(e,t[n]))return!1;return!0}function gF(e){switch(e.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(e[0]);case 2:return Tb(e[0],e[1]);case 3:return wN(e[0],e[1],e[2])}}function Tb(e,t){var n=e.x,a=e.y,r=e.r,i=t.x,o=t.y,u=t.r,c=i-n,f=o-a,m=u-r,g=Math.sqrt(c*c+f*f);return{x:(n+i+c/g*m)/2,y:(a+o+f/g*m)/2,r:(g+r+u)/2}}function wN(e,t,n){var a=e.x,r=e.y,i=e.r,o=t.x,u=t.y,c=t.r,f=n.x,m=n.y,g=n.r,v=a-o,E=a-f,k=r-u,_=r-m,R=c-i,O=g-i,N=a*a+r*r-i*i,$=N-o*o-u*u+c*c,M=N-f*f-m*m+g*g,U=E*k-v*_,z=(k*M-_*$)/(2*U)-a,q=(_*R-k*O)/U,Y=(E*$-v*M)/(2*U)-r,K=(v*O-E*R)/U,ne=q*q+K*K-1,X=2*(i+z*q+Y*K),ie=z*z+Y*Y-i*i,oe=-(Math.abs(ne)>1e-6?(X+Math.sqrt(X*X-4*ne*ie))/(2*ne):ie/X);return{x:a+z+q*oe,y:r+Y+K*oe,r:oe}}function _N(e,t,n){var a,r,i,o,u=e.x-t.x,c=e.y-t.y,f=u*u+c*c;f?(r=t.r+n.r,r*=r,o=e.r+n.r,r>(o*=o)?(a=(f+o-r)/(2*f),i=Math.sqrt(Math.max(0,o/f-a*a)),n.x=e.x-a*u-i*c,n.y=e.y-a*c+i*u):(a=(f+r-o)/(2*f),i=Math.sqrt(Math.max(0,r/f-a*a)),n.x=t.x+a*u-i*c,n.y=t.y+a*c+i*u)):(n.x=t.x+n.r,n.y=t.y)}function kN(e,t){var n=e.r+t.r-1e-6,a=t.x-e.x,r=t.y-e.y;return n>0&&n*n>a*a+r*r}function xN(e){var t=e._,n=e.next._,a=t.r+n.r,r=(t.x*n.r+n.x*t.r)/a,i=(t.y*n.r+n.y*t.r)/a;return r*r+i*i}function BE(e){this._=e,this.next=null,this.previous=null}function bF(e,t){if(!(i=(e=function(E){return typeof E=="object"&&"length"in E?E:Array.from(E)}(e)).length))return 0;var n,a,r,i,o,u,c,f,m,g,v;if((n=e[0]).x=0,n.y=0,!(i>1))return n.r;if(a=e[1],n.x=-a.r,a.x=n.r,a.y=0,!(i>2))return n.r+a.r;_N(a,n,r=e[2]),n=new BE(n),a=new BE(a),r=new BE(r),n.next=r.previous=a,a.next=n.previous=r,r.next=a.previous=n;e:for(c=3;c<i;++c){_N(n._,a._,r=e[c]),r=new BE(r),f=a.next,m=n.previous,g=a._.r,v=n._.r;do if(g<=v){if(kN(f._,r._)){a=f,n.next=a,a.previous=n,--c;continue e}g+=f._.r,f=f.next}else{if(kN(m._,r._)){(n=m).next=a,a.previous=n,--c;continue e}v+=m._.r,m=m.previous}while(f!==m.next);for(r.previous=n,r.next=a,n.next=a.previous=a=r,o=xN(n);(r=r.next)!==a;)(u=xN(r))<o&&(n=r,o=u);a=n.next}for(n=[a._],r=a;(r=r.next)!==a;)n.push(r._);for(r=function(E,k){for(var _,R,O=0,N=(E=function(M,U){let z,q,Y=M.length;for(;Y;)q=U()*Y--|0,z=M[Y],M[Y]=M[q],M[q]=z;return M}(Array.from(E),k)).length,$=[];O<N;)_=E[O],R&&EN(R,_)?++O:(R=gF($=mF($,_)),O=0);return R}(n,t),c=0;c<i;++c)(n=e[c]).x-=r.x,n.y-=r.y;return r.r}function yF(e){return Math.sqrt(e.value)}function SN(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function px(e,t,n){return function(a){if(r=a.children){var r,i,o,u=r.length,c=e(a)*t||0;if(c)for(i=0;i<u;++i)r[i].r+=c;if(o=bF(r,n),c)for(i=0;i<u;++i)r[i].r-=c;a.r=o+c}}}function AN(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function TN(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cb(e,t,n,a,r){for(var i,o=e.children,u=-1,c=o.length,f=e.value&&(a-t)/e.value;++u<c;)(i=o[u]).y0=n,i.y1=r,i.x0=t,i.x1=t+=i.value*f}var vF={depth:-1},CN={},hx={};function EF(e){return e.id}function wF(e){return e.parentId}function RN(){var e,t=EF,n=wF;function a(r){var i,o,u,c,f,m,g,v,E=Array.from(r),k=t,_=n,R=new Map;if(e!=null){let O=E.map((M,U)=>function(z){z=`${z}`;let q=z.length;return mx(z,q-1)&&!mx(z,q-2)&&(z=z.slice(0,-1)),z[0]==="/"?z:`/${z}`}(e(M,U,r))),N=O.map(NN),$=new Set(O).add("");for(let M of N)$.has(M)||($.add(M),O.push(M),N.push(NN(M)),E.push(hx));k=(M,U)=>O[U],_=(M,U)=>N[U]}for(u=0,i=E.length;u<i;++u)o=E[u],m=E[u]=new qp(o),(g=k(o,u,r))!=null&&(g+="")&&(v=m.id=g,R.set(v,R.has(v)?CN:m)),(g=_(o,u,r))!=null&&(g+="")&&(m.parent=g);for(u=0;u<i;++u)if(g=(m=E[u]).parent){if(!(f=R.get(g)))throw new Error("missing: "+g);if(f===CN)throw new Error("ambiguous: "+g);f.children?f.children.push(m):f.children=[m],m.parent=f}else{if(c)throw new Error("multiple roots");c=m}if(!c)throw new Error("no root");if(e!=null){for(;c.data===hx&&c.children.length===1;)c=c.children[0],--i;for(let O=E.length-1;O>=0&&(m=E[O]).data===hx;--O)m.data=null}if(c.parent=vF,c.eachBefore(function(O){O.depth=O.parent.depth+1,--i}).eachBefore(bN),c.parent=null,i>0)throw new Error("cycle");return c}return a.id=function(r){return arguments.length?(t=PE(r),a):t},a.parentId=function(r){return arguments.length?(n=PE(r),a):n},a.path=function(r){return arguments.length?(e=PE(r),a):e},a}function NN(e){let t=e.length;if(t<2)return"";for(;--t>1&&!mx(e,t););return e.slice(0,t)}function mx(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(1&n))return!0}return!1}function _F(e,t){return e.parent===t.parent?1:2}function gx(e){var t=e.children;return t?t[0]:e.t}function bx(e){var t=e.children;return t?t[t.length-1]:e.t}function kF(e,t,n){var a=n/(t.i-e.i);t.c-=a,t.s+=n,e.c+=a,t.z+=n,t.m+=n}function xF(e,t,n){return e.a.parent===t.parent?e.a:n}function UE(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function zE(e,t,n,a,r){for(var i,o=e.children,u=-1,c=o.length,f=e.value&&(r-n)/e.value;++u<c;)(i=o[u]).x0=t,i.x1=a,i.y0=n,i.y1=n+=i.value*f}UE.prototype=Object.create(qp.prototype);var IN=(1+Math.sqrt(5))/2;function ON(e,t,n,a,r,i){for(var o,u,c,f,m,g,v,E,k,_,R,O=[],N=t.children,$=0,M=0,U=N.length,z=t.value;$<U;){c=r-n,f=i-a;do m=N[M++].value;while(!m&&M<U);for(g=v=m,R=m*m*(_=Math.max(f/c,c/f)/(z*e)),k=Math.max(v/R,R/g);M<U;++M){if(m+=u=N[M].value,u<g&&(g=u),u>v&&(v=u),R=m*m*_,(E=Math.max(v/R,R/g))>k){m-=u;break}k=E}O.push(o={value:m,dice:c<f,children:N.slice($,M)}),o.dice?Cb(o,n,a,r,z?a+=f*m/z:i):zE(o,n,a,z?n+=c*m/z:r,i),z-=m,$=M}return O}var DN=function e(t){function n(a,r,i,o,u){ON(t,a,r,i,o,u)}return n.ratio=function(a){return e((a=+a)>1?a:1)},n}(IN),SF=function e(t){function n(a,r,i,o,u){if((c=a._squarify)&&c.ratio===t)for(var c,f,m,g,v,E=-1,k=c.length,_=a.value;++E<k;){for(m=(f=c[E]).children,g=f.value=0,v=m.length;g<v;++g)f.value+=m[g].value;f.dice?Cb(f,r,i,o,_?i+=(u-i)*f.value/_:u):zE(f,r,i,_?r+=(o-r)*f.value/_:o,u),_-=f.value}else a._squarify=c=ON(t,a,r,i,o,u),c.ratio=t}return n.ratio=function(a){return e((a=+a)>1?a:1)},n}(IN);function yx(e,t,n){let a={};return e.each(r=>{let i=r.data;n(i)&&(a[t(i)]=r)}),e.lookup=a,e}function vx(e){xe.call(this,null,e)}vx.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let AF=e=>e.values;function TF(){let e=[],t={entries:r=>a(n(r,0),0),key:r=>(e.push(r),t)};function n(r,i){if(i>=e.length)return r;let o=r.length,u=e[i++],c={},f={},m,g,v,E=-1;for(;++E<o;)m=u(g=r[E])+"",(v=c[m])?v.push(g):c[m]=[g];for(m in c)f[m]=n(c[m],i);return f}function a(r,i){if(++i>e.length)return r;let o=[];for(let u in r)o.push({key:u,values:a(r[u],i)});return o}return t}function Sl(e){xe.call(this,null,e)}Me(vx,xe,{transform(e,t){t.source||F("Nest transform requires an upstream data source.");var n=e.generate,a=e.modified(),r=t.clone(),i=this.value;return(!i||a||t.changed())&&(i&&i.each(o=>{o.children&&nu(o.data)&&r.rem.push(o.data)}),this.value=i=dx({values:Ce(e.keys).reduce((o,u)=>(o.key(u),o),TF()).entries(r.source)},AF),n&&i.each(o=>{o.children&&(o=Rt(o.data),r.add.push(o),r.source.push(o))}),yx(i,at,at)),r.source.root=i,r}});let CF=(e,t)=>e.parent===t.parent?1:2;Me(Sl,xe,{transform(e,t){t.source&&t.source.root||F(this.constructor.name+" transform requires a backing tree data source.");let n=this.layout(e.method),a=this.fields,r=t.source.root,i=e.as||a;e.field?r.sum(e.field):r.count(),e.sort&&r.sort(os(e.sort,o=>o.data)),function(o,u,c){for(let f,m=0,g=u.length;m<g;++m)f=u[m],f in c&&o[f](c[f])}(n,this.params,e),n.separation&&n.separation(e.separation!==!1?CF:pe);try{this.value=n(r)}catch(o){F(o)}return r.each(o=>function(u,c,f){let m=u.data,g=c.length-1;for(let v=0;v<g;++v)m[f[v]]=u[c[v]];m[f[g]]=u.children?u.children.length:0}(o,a,i)),t.reflow(e.modified()).modifies(i).modifies("leaf")}});let Ex=["x","y","r","depth","children"];function wx(e){Sl.call(this,e)}wx.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ex.length,default:Ex}]},Me(wx,Sl,{layout:function(){var e=null,t=1,n=1,a=md;function r(i){let o=function(){let u=1;return()=>(u=(pF*u+hF)%vN)/vN}();return i.x=t/2,i.y=n/2,e?i.eachBefore(SN(e)).eachAfter(px(a,.5,o)).eachBefore(AN(1)):i.eachBefore(SN(yF)).eachAfter(px(md,1,o)).eachAfter(px(a,i.r/Math.min(t,n),o)).eachBefore(AN(Math.min(t,n)/(2*i.r))),i}return r.radius=function(i){return arguments.length?(e=PE(i),r):e},r.size=function(i){return arguments.length?(t=+i[0],n=+i[1],r):[t,n]},r.padding=function(i){return arguments.length?(a=typeof i=="function"?i:Wp(+i),r):a},r},params:["radius","size","padding"],fields:Ex});let _x=["x0","y0","x1","y1","depth","children"];function kx(e){Sl.call(this,e)}function xx(e){xe.call(this,null,e)}kx.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:_x.length,default:_x}]},Me(kx,Sl,{layout:function(){var e=1,t=1,n=0,a=!1;function r(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(u,c){return function(f){f.children&&Cb(f,f.x0,u*(f.depth+1)/c,f.x1,u*(f.depth+2)/c);var m=f.x0,g=f.y0,v=f.x1-n,E=f.y1-n;v<m&&(m=v=(m+v)/2),E<g&&(g=E=(g+E)/2),f.x0=m,f.y0=g,f.x1=v,f.y1=E}}(t,o)),a&&i.eachBefore(TN),i}return r.round=function(i){return arguments.length?(a=!!i,r):a},r.size=function(i){return arguments.length?(e=+i[0],t=+i[1],r):[e,t]},r.padding=function(i){return arguments.length?(n=+i,r):n},r},params:["size","round","padding"],fields:_x}),xx.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Me(xx,xe,{transform(e,t){t.source||F("Stratify transform requires an upstream data source.");let n=this.value,a=e.modified(),r=t.fork(t.ALL).materialize(t.SOURCE),i=!n||a||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return r.source=r.source.slice(),i&&(n=r.source.length?yx(RN().id(e.key).parentId(e.parentKey)(r.source),e.key,Z):yx(RN()([{}]),e.key,e.key)),r.source.root=this.value=n,r}});let MN={tidy:function(){var e=_F,t=1,n=1,a=null;function r(c){var f=function(O){for(var N,$,M,U,z,q=new UE(O,0),Y=[q];N=Y.pop();)if(M=N._.children)for(N.children=new Array(z=M.length),U=z-1;U>=0;--U)Y.push($=N.children[U]=new UE(M[U],U)),$.parent=N;return(q.parent=new UE(null,0)).children=[q],q}(c);if(f.eachAfter(i),f.parent.m=-f.z,f.eachBefore(o),a)c.eachBefore(u);else{var m=c,g=c,v=c;c.eachBefore(function(O){O.x<m.x&&(m=O),O.x>g.x&&(g=O),O.depth>v.depth&&(v=O)});var E=m===g?1:e(m,g)/2,k=E-m.x,_=t/(g.x+E+k),R=n/(v.depth||1);c.eachBefore(function(O){O.x=(O.x+k)*_,O.y=O.depth*R})}return c}function i(c){var f=c.children,m=c.parent.children,g=c.i?m[c.i-1]:null;if(f){(function(E){for(var k,_=0,R=0,O=E.children,N=O.length;--N>=0;)(k=O[N]).z+=_,k.m+=_,_+=k.s+(R+=k.c)})(c);var v=(f[0].z+f[f.length-1].z)/2;g?(c.z=g.z+e(c._,g._),c.m=c.z-v):c.z=v}else g&&(c.z=g.z+e(c._,g._));c.parent.A=function(E,k,_){if(k){for(var R,O=E,N=E,$=k,M=O.parent.children[0],U=O.m,z=N.m,q=$.m,Y=M.m;$=bx($),O=gx(O),$&&O;)M=gx(M),(N=bx(N)).a=E,(R=$.z+q-O.z-U+e($._,O._))>0&&(kF(xF($,E,_),E,R),U+=R,z+=R),q+=$.m,U+=O.m,Y+=M.m,z+=N.m;$&&!bx(N)&&(N.t=$,N.m+=q-z),O&&!gx(M)&&(M.t=O,M.m+=U-Y,_=E)}return _}(c,g,c.parent.A||m[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c){c.x*=t,c.y=c.depth*n}return r.separation=function(c){return arguments.length?(e=c,r):e},r.size=function(c){return arguments.length?(a=!1,t=+c[0],n=+c[1],r):a?null:[t,n]},r.nodeSize=function(c){return arguments.length?(a=!0,t=+c[0],n=+c[1],r):a?[t,n]:null},r},cluster:function(){var e=oF,t=1,n=1,a=!1;function r(i){var o,u=0;i.eachAfter(function(v){var E=v.children;E?(v.x=function(k){return k.reduce(sF,0)/k.length}(E),v.y=function(k){return 1+k.reduce(lF,0)}(E)):(v.x=o?u+=e(v,o):0,v.y=0,o=v)});var c=function(v){for(var E;E=v.children;)v=E[0];return v}(i),f=function(v){for(var E;E=v.children;)v=E[E.length-1];return v}(i),m=c.x-e(c,f)/2,g=f.x+e(f,c)/2;return i.eachAfter(a?function(v){v.x=(v.x-i.x)*t,v.y=(i.y-v.y)*n}:function(v){v.x=(v.x-m)/(g-m)*t,v.y=(1-(i.y?v.y/i.y:1))*n})}return r.separation=function(i){return arguments.length?(e=i,r):e},r.size=function(i){return arguments.length?(a=!1,t=+i[0],n=+i[1],r):a?null:[t,n]},r.nodeSize=function(i){return arguments.length?(a=!0,t=+i[0],n=+i[1],r):a?[t,n]:null},r}},Sx=["x","y","depth","children"];function Ax(e){Sl.call(this,e)}function Tx(e){xe.call(this,[],e)}Ax.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Sx.length,default:Sx}]},Me(Ax,Sl,{layout(e){let t=e||"tidy";if(et(MN,t))return MN[t]();F("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Sx}),Tx.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Me(Tx,xe,{transform(e,t){let n=this.value,a=t.source&&t.source.root,r=t.fork(t.NO_SOURCE),i={};return a||F("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(r.rem=n,t.visit(t.SOURCE,o=>i[at(o)]=1),a.each(o=>{let u=o.data,c=o.parent&&o.parent.data;c&&i[at(u)]&&i[at(c)]&&r.add.push(Rt({source:c,target:u}))}),this.value=r.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>i[at(o)]=1),n.forEach(o=>{(i[at(o.source)]||i[at(o.target)])&&r.mod.push(o)})),r}});let LN={binary:function(e,t,n,a,r){var i,o,u=e.children,c=u.length,f=new Array(c+1);for(f[0]=o=i=0;i<c;++i)f[i+1]=o+=u[i].value;(function m(g,v,E,k,_,R,O){if(g>=v-1){var N=u[g];return N.x0=k,N.y0=_,N.x1=R,void(N.y1=O)}for(var $=f[g],M=E/2+$,U=g+1,z=v-1;U<z;){var q=U+z>>>1;f[q]<M?U=q+1:z=q}M-f[U-1]<f[U]-M&&g+1<U&&--U;var Y=f[U]-$,K=E-Y;if(R-k>O-_){var ne=E?(k*K+R*Y)/E:R;m(g,U,Y,k,_,ne,O),m(U,v,K,ne,_,R,O)}else{var X=E?(_*K+O*Y)/E:O;m(g,U,Y,k,_,R,X),m(U,v,K,k,X,R,O)}})(0,c,e.value,t,n,a,r)},dice:Cb,slice:zE,slicedice:function(e,t,n,a,r){(1&e.depth?zE:Cb)(e,t,n,a,r)},squarify:DN,resquarify:SF},Cx=["x0","y0","x1","y1","depth","children"];function Rx(e){Sl.call(this,e)}Rx.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Cx.length,default:Cx}]},Me(Rx,Sl,{layout(){let e=function(){var t=DN,n=!1,a=1,r=1,i=[0],o=md,u=md,c=md,f=md,m=md;function g(E){return E.x0=E.y0=0,E.x1=a,E.y1=r,E.eachBefore(v),i=[0],n&&E.eachBefore(TN),E}function v(E){var k=i[E.depth],_=E.x0+k,R=E.y0+k,O=E.x1-k,N=E.y1-k;O<_&&(_=O=(_+O)/2),N<R&&(R=N=(R+N)/2),E.x0=_,E.y0=R,E.x1=O,E.y1=N,E.children&&(k=i[E.depth+1]=o(E)/2,_+=m(E)-k,R+=u(E)-k,(O-=c(E)-k)<_&&(_=O=(_+O)/2),(N-=f(E)-k)<R&&(R=N=(R+N)/2),t(E,_,R,O,N))}return g.round=function(E){return arguments.length?(n=!!E,g):n},g.size=function(E){return arguments.length?(a=+E[0],r=+E[1],g):[a,r]},g.tile=function(E){return arguments.length?(t=yN(E),g):t},g.padding=function(E){return arguments.length?g.paddingInner(E).paddingOuter(E):g.paddingInner()},g.paddingInner=function(E){return arguments.length?(o=typeof E=="function"?E:Wp(+E),g):o},g.paddingOuter=function(E){return arguments.length?g.paddingTop(E).paddingRight(E).paddingBottom(E).paddingLeft(E):g.paddingTop()},g.paddingTop=function(E){return arguments.length?(u=typeof E=="function"?E:Wp(+E),g):u},g.paddingRight=function(E){return arguments.length?(c=typeof E=="function"?E:Wp(+E),g):c},g.paddingBottom=function(E){return arguments.length?(f=typeof E=="function"?E:Wp(+E),g):f},g.paddingLeft=function(E){return arguments.length?(m=typeof E=="function"?E:Wp(+E),g):m},g}();return e.ratio=t=>{let n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{et(LN,t)?e.tile(LN[t]):F("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Cx});var RF=Object.freeze({__proto__:null,nest:vx,pack:wx,partition:kx,stratify:xx,tree:Ax,treelinks:Tx,treemap:Rx});let Nx=4278190080;function Ix(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function GE(e,t,n){if(!t.length)return;let a=t[0].mark.marktype;a==="group"?t.forEach(r=>{r.items.forEach(i=>GE(e,i.items,n))}):mi[a].draw(e,{items:n?t.map(NF):t})}function NF(e){let t=pc(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}let Al=5,Sr=31,Rb=32,Gu=new Uint32Array(Rb+1),zo=new Uint32Array(Rb+1);zo[0]=0,Gu[0]=~zo[0];for(let e=1;e<=Rb;++e)zo[e]=zo[e-1]<<1|1,Gu[e]=~zo[e];function IF(e,t,n){let a=Math.max(1,Math.sqrt(e*t/1e6)),r=~~((e+2*n+a)/a),i=~~((t+2*n+a)/a),o=u=>~~((u+n)/a);return o.invert=u=>u*a-n,o.bitmap=()=>function(u,c){let f=new Uint32Array(~~((u*c+Rb)/Rb));function m(v,E){f[v]|=E}function g(v,E){f[v]&=E}return{array:f,get:(v,E)=>{let k=E*u+v;return f[k>>>Al]&1<<(k&Sr)},set:(v,E)=>{let k=E*u+v;m(k>>>Al,1<<(k&Sr))},clear:(v,E)=>{let k=E*u+v;g(k>>>Al,~(1<<(k&Sr)))},getRange:(v,E,k,_)=>{let R,O,N,$,M=_;for(;M>=E;--M)if(R=M*u+v,O=M*u+k,N=R>>>Al,$=O>>>Al,N===$){if(f[N]&Gu[R&Sr]&zo[1+(O&Sr)])return!0}else{if(f[N]&Gu[R&Sr]||f[$]&zo[1+(O&Sr)])return!0;for(let U=N+1;U<$;++U)if(f[U])return!0}return!1},setRange:(v,E,k,_)=>{let R,O,N,$,M;for(;E<=_;++E)if(R=E*u+v,O=E*u+k,N=R>>>Al,$=O>>>Al,N===$)m(N,Gu[R&Sr]&zo[1+(O&Sr)]);else for(m(N,Gu[R&Sr]),m($,zo[1+(O&Sr)]),M=N+1;M<$;++M)m(M,4294967295)},clearRange:(v,E,k,_)=>{let R,O,N,$,M;for(;E<=_;++E)if(R=E*u+v,O=E*u+k,N=R>>>Al,$=O>>>Al,N===$)g(N,zo[R&Sr]|Gu[1+(O&Sr)]);else for(g(N,zo[R&Sr]),g($,Gu[1+(O&Sr)]),M=N+1;M<$;++M)g(M,0)},outOfBounds:(v,E,k,_)=>v<0||E<0||_>=c||k>=u}}(r,i),o.ratio=a,o.padding=n,o.width=e,o.height=t,o}function jE(e,t,n,a,r,i){let o=n/2;return e-o<0||e+o>r||t-(o=a/2)<0||t+o>i}function ju(e,t,n,a,r,i,o,u){let c=r*i/(2*a),f=e(t-c),m=e(t+c),g=e(n-(i/=2)),v=e(n+i);return o.outOfBounds(f,g,m,v)||o.getRange(f,g,m,v)||u&&u.getRange(f,g,m,v)}let OF=[-1,-1,1,1],DF=[-1,1,-1,1],MF=["right","center","left"],LF=["bottom","middle","top"];function FN(e,t,n,a,r,i,o,u,c,f,m,g){return!(r.outOfBounds(e,n,t,a)||(g&&i||r).getRange(e,n,t,a))}let FF={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},PF={naive:function(e,t,n,a){let r=e.width,i=e.height;return function(o){let u=o.datum.datum.items[a].items,c=u.length,f=o.datum.fontSize,m=Lo.width(o.datum,o.datum.text),g,v,E,k,_,R,O,N=0;for(let $=0;$<c;++$)g=u[$].x,E=u[$].y,v=u[$].x2===void 0?g:u[$].x2,k=u[$].y2===void 0?E:u[$].y2,_=(g+v)/2,R=(E+k)/2,O=Math.abs(v-g+k-E),O>=N&&(N=O,o.x=_,o.y=R);return _=m/2,R=f/2,g=o.x-_,v=o.x+_,E=o.y-R,k=o.y+R,o.align="center",g<0&&v<=r?o.align="left":0<=g&&r<v&&(o.align="right"),o.baseline="middle",E<0&&k<=i?o.baseline="top":0<=E&&i<k&&(o.baseline="bottom"),!0}},"reduced-search":function(e,t,n,a){let r=e.width,i=e.height,o=t[0],u=t[1];function c(f,m,g,v,E){let k=e.invert(f),_=e.invert(m),R,O=g,N=i;if(!jE(k,_,v,E,r,i)&&!ju(e,k,_,E,v,O,o,u)&&!ju(e,k,_,E,v,E,o,null)){for(;N-O>=1;)R=(O+N)/2,ju(e,k,_,E,v,R,o,u)?N=R:O=R;if(O>g)return[k,_,O,!0]}}return function(f){let m=f.datum.datum.items[a].items,g=m.length,v=f.datum.fontSize,E=Lo.width(f.datum,f.datum.text),k,_,R,O,N,$,M,U,z,q,Y,K,ne,X,ie,oe,le,ce=n?v:0,ve=!1,_e=!1,Ie=0;for(let Be=0;Be<g;++Be){for(k=m[Be].x,R=m[Be].y,_=m[Be].x2===void 0?k:m[Be].x2,O=m[Be].y2===void 0?R:m[Be].y2,k>_&&(le=k,k=_,_=le),R>O&&(le=R,R=O,O=le),z=e(k),Y=e(_),q=~~((z+Y)/2),K=e(R),X=e(O),ne=~~((K+X)/2),M=q;M>=z;--M)for(U=ne;U>=K;--U)oe=c(M,U,ce,E,v),oe&&([f.x,f.y,ce,ve]=oe);for(M=q;M<=Y;++M)for(U=ne;U<=X;++U)oe=c(M,U,ce,E,v),oe&&([f.x,f.y,ce,ve]=oe);ve||n||(ie=Math.abs(_-k+O-R),N=(k+_)/2,$=(R+O)/2,ie>=Ie&&!jE(N,$,E,v,r,i)&&!ju(e,N,$,v,E,v,o,null)&&(Ie=ie,f.x=N,f.y=$,_e=!0))}return!(!ve&&!_e)&&(N=E/2,$=v/2,o.setRange(e(f.x-N),e(f.y-$),e(f.x+N),e(f.y+$)),f.align="center",f.baseline="middle",!0)}},floodfill:function(e,t,n,a){let r=e.width,i=e.height,o=t[0],u=t[1],c=e.bitmap();return function(f){let m=f.datum.datum.items[a].items,g=m.length,v=f.datum.fontSize,E=Lo.width(f.datum,f.datum.text),k=[],_,R,O,N,$,M,U,z,q,Y,K,ne,X=n?v:0,ie=!1,oe=!1,le=0;for(let ce=0;ce<g;++ce){for(_=m[ce].x,O=m[ce].y,R=m[ce].x2===void 0?_:m[ce].x2,N=m[ce].y2===void 0?O:m[ce].y2,k.push([e((_+R)/2),e((O+N)/2)]);k.length;)if([U,z]=k.pop(),!(o.get(U,z)||u.get(U,z)||c.get(U,z))){c.set(U,z);for(let ve=0;ve<4;++ve)$=U+OF[ve],M=z+DF[ve],c.outOfBounds($,M,$,M)||k.push([$,M]);if($=e.invert(U),M=e.invert(z),q=X,Y=i,!jE($,M,E,v,r,i)&&!ju(e,$,M,v,E,q,o,u)&&!ju(e,$,M,v,E,v,o,null)){for(;Y-q>=1;)K=(q+Y)/2,ju(e,$,M,v,E,K,o,u)?Y=K:q=K;q>X&&(f.x=$,f.y=M,X=q,ie=!0)}}ie||n||(ne=Math.abs(R-_+N-O),$=(_+R)/2,M=(O+N)/2,ne>=le&&!jE($,M,E,v,r,i)&&!ju(e,$,M,v,E,v,o,null)&&(le=ne,f.x=$,f.y=M,oe=!0))}return!(!ie&&!oe)&&($=E/2,M=v/2,o.setRange(e(f.x-$),e(f.y-M),e(f.x+$),e(f.y+M)),f.align="center",f.baseline="middle",!0)}}};function $F(e,t,n,a,r,i,o,u,c,f,m){if(!e.length)return e;let g=Math.max(a.length,r.length),v=function(X,ie){let oe=new Float64Array(ie),le=X.length;for(let ce=0;ce<le;++ce)oe[ce]=X[ce]||0;for(let ce=le;ce<ie;++ce)oe[ce]=oe[le-1];return oe}(a,g),E=function(X,ie){let oe=new Int8Array(ie),le=X.length;for(let ce=0;ce<le;++ce)oe[ce]|=FF[X[ce]];for(let ce=le;ce<ie;++ce)oe[ce]=oe[le-1];return oe}(r,g),k=(M=e[0].datum)&&M.mark&&M.mark.marktype,_=k==="group"&&e[0].datum.items[c].marktype,R=_==="area",O=function(X,ie,oe,le){let ce=ve=>[ve.x,ve.x,ve.x,ve.y,ve.y,ve.y];return X?X==="line"||X==="area"?ve=>ce(ve.datum):ie==="line"?ve=>{let _e=ve.datum.items[le].items;return ce(_e.length?_e[oe==="start"?0:_e.length-1]:{x:NaN,y:NaN})}:ve=>{let _e=ve.datum.bounds;return[_e.x1,(_e.x1+_e.x2)/2,_e.x2,_e.y1,(_e.y1+_e.y2)/2,_e.y2]}:ce}(k,_,u,c),N=f===null||f===1/0,$=R&&m==="naive";var M;let U=-1,z=-1,q=e.map(X=>{let ie=N?Lo.width(X,X.text):void 0;return U=Math.max(U,ie),z=Math.max(z,X.fontSize),{datum:X,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:O(X),textWidth:ie}});f=f===null||f===1/0?Math.max(U,z)+Math.max(...a):f;let Y=IF(t[0],t[1],f),K;if(!$){n&&q.sort((oe,le)=>n(oe.datum,le.datum));let X=!1;for(let oe=0;oe<E.length&&!X;++oe)X=E[oe]===5||v[oe]<0;let ie=(k&&o||R)&&e.map(oe=>oe.datum);K=i.length||ie?function(oe,le,ce,ve,_e){let Ie=oe.width,Be=oe.height,je=ve||_e,Oe=Ha(Ie,Be).getContext("2d"),ot=Ha(Ie,Be).getContext("2d"),st=je&&Ha(Ie,Be).getContext("2d");ce.forEach(Nl=>GE(Oe,Nl,!1)),GE(ot,le,!1),je&&GE(st,le,!0);let mt=Ix(Oe,Ie,Be),Ct=Ix(ot,Ie,Be),pn=je&&Ix(st,Ie,Be),Yt=oe.bitmap(),va=je&&oe.bitmap(),Sn,ua,Ea,Fn,tr,wa,oo,Wr;for(ua=0;ua<Be;++ua)for(Sn=0;Sn<Ie;++Sn)tr=ua*Ie+Sn,wa=mt[tr]&Nx,Wr=Ct[tr]&Nx,oo=je&&pn[tr]&Nx,(wa||oo||Wr)&&(Ea=oe(Sn),Fn=oe(ua),_e||!wa&&!Wr||Yt.set(Ea,Fn),je&&(wa||oo)&&va.set(Ea,Fn));return[Yt,va]}(Y,ie||[],i,X,R):function(oe,le){let ce=oe.bitmap();return(le||[]).forEach(ve=>ce.set(oe(ve.boundary[0]),oe(ve.boundary[3]))),[ce,void 0]}(Y,o&&q)}let ne=R?PF[m](Y,K,o,c):function(X,ie,oe,le){let ce=X.width,ve=X.height,_e=ie[0],Ie=ie[1],Be=le.length;return function(je){let Oe=je.boundary,ot=je.datum.fontSize;if(Oe[2]<0||Oe[5]<0||Oe[0]>ce||Oe[3]>ve)return!1;let st,mt,Ct,pn,Yt,va,Sn,ua,Ea,Fn,tr,wa,oo,Wr,Nl,Ad=je.textWidth??0;for(let Ds=0;Ds<Be;++Ds){if(st=(3&oe[Ds])-1,mt=(oe[Ds]>>>2&3)-1,Ct=st===0&&mt===0||le[Ds]<0,pn=st&&mt?Math.SQRT1_2:1,Yt=le[Ds]<0?-1:1,va=Oe[1+st]+le[Ds]*st*pn,tr=Oe[4+mt]+Yt*ot*mt/2+le[Ds]*mt*pn,ua=tr-ot/2,Ea=tr+ot/2,wa=X(va),Wr=X(ua),Nl=X(Ea),!Ad){if(!FN(wa,wa,Wr,Nl,_e,Ie,0,0,0,0,0,Ct))continue;Ad=Lo.width(je.datum,je.datum.text)}if(Fn=va+Yt*Ad*st/2,va=Fn-Ad/2,Sn=Fn+Ad/2,wa=X(va),oo=X(Sn),FN(wa,oo,Wr,Nl,_e,Ie,0,0,0,0,0,Ct))return je.x=st?st*Yt<0?Sn:va:Fn,je.y=mt?mt*Yt<0?Ea:ua:tr,je.align=MF[st*Yt+1],je.baseline=LF[mt*Yt+1],_e.setRange(wa,Wr,oo,Nl),!0}return!1}}(Y,K,E,v);return q.forEach(X=>X.opacity=+ne(X)),q}let Ox=["x","y","opacity","align","baseline"],PN=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Dx(e){xe.call(this,null,e)}Dx.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:PN},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Ox.length,default:Ox}]},Me(Dx,xe,{transform(e,t){let n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(r){let i=e[r];return Je(i)&&t.modified(i.fields)}("sort")))return;e.size&&e.size.length===2||F("Size parameter should be specified as a [width, height] array.");let a=e.as||Ox;return $F(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ce(e.offset==null?1:e.offset),Ce(e.anchor||PN),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(r=>{let i=r.datum;i[a[0]]=r.x,i[a[1]]=r.y,i[a[2]]=r.opacity,i[a[3]]=r.align,i[a[4]]=r.baseline}),t.reflow(n).modifies(a)}});var BF=Object.freeze({__proto__:null,label:Dx});function $N(e,t){var n,a,r,i,o,u,c=[],f=function(m){return m(i)};if(t==null)c.push(e);else for(n={},a=0,r=e.length;a<r;++a)i=e[a],(u=n[o=t.map(f)])||(n[o]=u=[],u.dims=o,c.push(u)),u.push(i);return c}function Mx(e){xe.call(this,null,e)}Mx.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Me(Mx,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let a=$N(t.materialize(t.SOURCE).source,e.groupby),r=(e.groupby||[]).map(x),i=r.length,o=e.as||[x(e.x),x(e.y)],u=[];a.forEach(c=>{gm(c,e.x,e.y,e.bandwidth||.3).forEach(f=>{let m={};for(let g=0;g<i;++g)m[r[g]]=c.dims[g];m[o[0]]=f[0],m[o[1]]=f[1],u.push(Rt(m))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});let Lx={constant:If,linear:cu,log:xc,exp:pm,pow:ly,quad:oi,poly:hm};function Fx(e){xe.call(this,null,e)}Fx.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Lx)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Me(Fx,xe,{transform(e,t){let n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){let a=$N(t.materialize(t.SOURCE).source,e.groupby),r=(e.groupby||[]).map(x),i=e.method||"linear",o=e.order==null?3:e.order,u=((v,E)=>v==="poly"?E:v==="quad"?2:1)(i,o),c=e.as||[x(e.x),x(e.y)],f=Lx[i],m=[],g=e.extent;et(Lx,i)||F("Invalid regression method: "+i),g!=null&&i==="log"&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),a.forEach(v=>{if(v.length<=u)return void t.dataflow.warn("Skipping regression with more parameters than data points.");let E=f(v,e.x,e.y,o);if(e.params)return void m.push(Rt({keys:v.dims,coef:E.coef,rSquared:E.rSquared}));let k=g||$n(v,e.x),_=R=>{let O={};for(let N=0;N<r.length;++N)O[r[N]]=v.dims[N];O[c[0]]=R[0],O[c[1]]=R[1],m.push(Rt(O))};i==="linear"||i==="constant"?k.forEach(R=>_([R,E.predict(R)])):Of(E.predict,k,25,200).forEach(_)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=m}return n}});var UF=Object.freeze({__proto__:null,loess:Mx,regression:Fx});let Ja=134217729,zF=33306690738754706e-32;function Px(e,t,n,a,r){let i,o,u,c,f=t[0],m=a[0],g=0,v=0;m>f==m>-f?(i=f,f=t[++g]):(i=m,m=a[++v]);let E=0;if(g<e&&v<n)for(m>f==m>-f?(o=f+i,u=i-(o-f),f=t[++g]):(o=m+i,u=i-(o-m),m=a[++v]),i=o,u!==0&&(r[E++]=u);g<e&&v<n;)m>f==m>-f?(o=i+f,c=o-i,u=i-(o-c)+(f-c),f=t[++g]):(o=i+m,c=o-i,u=i-(o-c)+(m-c),m=a[++v]),i=o,u!==0&&(r[E++]=u);for(;g<e;)o=i+f,c=o-i,u=i-(o-c)+(f-c),f=t[++g],i=o,u!==0&&(r[E++]=u);for(;v<n;)o=i+m,c=o-i,u=i-(o-c)+(m-c),m=a[++v],i=o,u!==0&&(r[E++]=u);return i===0&&E!==0||(r[E++]=i),E}function Nb(e){return new Float64Array(e)}let GF=33306690738754716e-32,jF=22204460492503146e-32,HF=11093356479670487e-47,Vp=Nb(4),BN=Nb(8),UN=Nb(12),zN=Nb(16),Ar=Nb(4);function HE(e,t,n,a,r,i){let o=(t-i)*(n-r),u=(e-r)*(a-i),c=o-u;if(o===0||u===0||o>0!=u>0)return c;let f=Math.abs(o+u);return Math.abs(c)>=GF*f?c:-function(m,g,v,E,k,_,R){let O,N,$,M,U,z,q,Y,K,ne,X,ie,oe,le,ce,ve,_e,Ie,Be=m-k,je=v-k,Oe=g-_,ot=E-_;le=Be*ot,z=Ja*Be,q=z-(z-Be),Y=Be-q,z=Ja*ot,K=z-(z-ot),ne=ot-K,ce=Y*ne-(le-q*K-Y*K-q*ne),ve=Oe*je,z=Ja*Oe,q=z-(z-Oe),Y=Oe-q,z=Ja*je,K=z-(z-je),ne=je-K,_e=Y*ne-(ve-q*K-Y*K-q*ne),X=ce-_e,U=ce-X,Vp[0]=ce-(X+U)+(U-_e),ie=le+X,U=ie-le,oe=le-(ie-U)+(X-U),X=oe-ve,U=oe-X,Vp[1]=oe-(X+U)+(U-ve),Ie=ie+X,U=Ie-ie,Vp[2]=ie-(Ie-U)+(X-U),Vp[3]=Ie;let st=function(va,Sn){let ua=Sn[0];for(let Ea=1;Ea<va;Ea++)ua+=Sn[Ea];return ua}(4,Vp),mt=jF*R;if(st>=mt||-st>=mt||(U=m-Be,O=m-(Be+U)+(U-k),U=v-je,$=v-(je+U)+(U-k),U=g-Oe,N=g-(Oe+U)+(U-_),U=E-ot,M=E-(ot+U)+(U-_),O===0&&N===0&&$===0&&M===0)||(mt=HF*R+zF*Math.abs(st),st+=Be*M+ot*O-(Oe*$+je*N),st>=mt||-st>=mt))return st;le=O*ot,z=Ja*O,q=z-(z-O),Y=O-q,z=Ja*ot,K=z-(z-ot),ne=ot-K,ce=Y*ne-(le-q*K-Y*K-q*ne),ve=N*je,z=Ja*N,q=z-(z-N),Y=N-q,z=Ja*je,K=z-(z-je),ne=je-K,_e=Y*ne-(ve-q*K-Y*K-q*ne),X=ce-_e,U=ce-X,Ar[0]=ce-(X+U)+(U-_e),ie=le+X,U=ie-le,oe=le-(ie-U)+(X-U),X=oe-ve,U=oe-X,Ar[1]=oe-(X+U)+(U-ve),Ie=ie+X,U=Ie-ie,Ar[2]=ie-(Ie-U)+(X-U),Ar[3]=Ie;let Ct=Px(4,Vp,4,Ar,BN);le=Be*M,z=Ja*Be,q=z-(z-Be),Y=Be-q,z=Ja*M,K=z-(z-M),ne=M-K,ce=Y*ne-(le-q*K-Y*K-q*ne),ve=Oe*$,z=Ja*Oe,q=z-(z-Oe),Y=Oe-q,z=Ja*$,K=z-(z-$),ne=$-K,_e=Y*ne-(ve-q*K-Y*K-q*ne),X=ce-_e,U=ce-X,Ar[0]=ce-(X+U)+(U-_e),ie=le+X,U=ie-le,oe=le-(ie-U)+(X-U),X=oe-ve,U=oe-X,Ar[1]=oe-(X+U)+(U-ve),Ie=ie+X,U=Ie-ie,Ar[2]=ie-(Ie-U)+(X-U),Ar[3]=Ie;let pn=Px(Ct,BN,4,Ar,UN);le=O*M,z=Ja*O,q=z-(z-O),Y=O-q,z=Ja*M,K=z-(z-M),ne=M-K,ce=Y*ne-(le-q*K-Y*K-q*ne),ve=N*$,z=Ja*N,q=z-(z-N),Y=N-q,z=Ja*$,K=z-(z-$),ne=$-K,_e=Y*ne-(ve-q*K-Y*K-q*ne),X=ce-_e,U=ce-X,Ar[0]=ce-(X+U)+(U-_e),ie=le+X,U=ie-le,oe=le-(ie-U)+(X-U),X=oe-ve,U=oe-X,Ar[1]=oe-(X+U)+(U-ve),Ie=ie+X,U=Ie-ie,Ar[2]=ie-(Ie-U)+(X-U),Ar[3]=Ie;let Yt=Px(pn,UN,4,Ar,zN);return zN[Yt-1]}(e,t,n,a,r,i,f)}let GN=Math.pow(2,-52),qE=new Uint32Array(512);class WE{static from(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VF,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YF,r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){let u=t[o];i[2*o]=n(u),i[2*o+1]=a(u)}return new WE(i)}constructor(t){let n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let a=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*a),this._halfedges=new Int32Array(3*a),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:t,_hullPrev:n,_hullNext:a,_hullTri:r,_hullHash:i}=this,o=t.length>>1,u=1/0,c=1/0,f=-1/0,m=-1/0;for(let ne=0;ne<o;ne++){let X=t[2*ne],ie=t[2*ne+1];X<u&&(u=X),ie<c&&(c=ie),X>f&&(f=X),ie>m&&(m=ie),this._ids[ne]=ne}let g=(u+f)/2,v=(c+m)/2,E,k,_,R=1/0;for(let ne=0;ne<o;ne++){let X=$x(g,v,t[2*ne],t[2*ne+1]);X<R&&(E=ne,R=X)}let O=t[2*E],N=t[2*E+1];R=1/0;for(let ne=0;ne<o;ne++){if(ne===E)continue;let X=$x(O,N,t[2*ne],t[2*ne+1]);X<R&&X>0&&(k=ne,R=X)}let $=t[2*k],M=t[2*k+1],U=1/0;for(let ne=0;ne<o;ne++){if(ne===E||ne===k)continue;let X=WF(O,N,$,M,t[2*ne],t[2*ne+1]);X<U&&(_=ne,U=X)}let z=t[2*_],q=t[2*_+1];if(U===1/0){for(let ie=0;ie<o;ie++)this._dists[ie]=t[2*ie]-t[0]||t[2*ie+1]-t[1];Yp(this._ids,this._dists,0,o-1);let ne=new Uint32Array(o),X=0;for(let ie=0,oe=-1/0;ie<o;ie++){let le=this._ids[ie];this._dists[le]>oe&&(ne[X++]=le,oe=this._dists[le])}return this.hull=ne.subarray(0,X),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(HE(O,N,$,M,z,q)<0){let ne=k,X=$,ie=M;k=_,$=z,M=q,_=ne,z=X,q=ie}let Y=function(ne,X,ie,oe,le,ce){let ve=ie-ne,_e=oe-X,Ie=le-ne,Be=ce-X,je=ve*ve+_e*_e,Oe=Ie*Ie+Be*Be,ot=.5/(ve*Be-_e*Ie),st=ne+(Be*je-_e*Oe)*ot,mt=X+(ve*Oe-Ie*je)*ot;return{x:st,y:mt}}(O,N,$,M,z,q);this._cx=Y.x,this._cy=Y.y;for(let ne=0;ne<o;ne++)this._dists[ne]=$x(t[2*ne],t[2*ne+1],Y.x,Y.y);Yp(this._ids,this._dists,0,o-1),this._hullStart=E;let K=3;a[E]=n[_]=k,a[k]=n[E]=_,a[_]=n[k]=E,r[E]=0,r[k]=1,r[_]=2,i.fill(-1),i[this._hashKey(O,N)]=E,i[this._hashKey($,M)]=k,i[this._hashKey(z,q)]=_,this.trianglesLen=0,this._addTriangle(E,k,_,-1,-1,-1);for(let ne,X,ie=0;ie<this._ids.length;ie++){let oe=this._ids[ie],le=t[2*oe],ce=t[2*oe+1];if(ie>0&&Math.abs(le-ne)<=GN&&Math.abs(ce-X)<=GN||(ne=le,X=ce,oe===E||oe===k||oe===_))continue;let ve=0;for(let Oe=0,ot=this._hashKey(le,ce);Oe<this._hashSize&&(ve=i[(ot+Oe)%this._hashSize],ve===-1||ve===a[ve]);Oe++);ve=n[ve];let _e,Ie=ve;for(;_e=a[Ie],HE(le,ce,t[2*Ie],t[2*Ie+1],t[2*_e],t[2*_e+1])>=0;)if(Ie=_e,Ie===ve){Ie=-1;break}if(Ie===-1)continue;let Be=this._addTriangle(Ie,oe,a[Ie],-1,-1,r[Ie]);r[oe]=this._legalize(Be+2),r[Ie]=Be,K++;let je=a[Ie];for(;_e=a[je],HE(le,ce,t[2*je],t[2*je+1],t[2*_e],t[2*_e+1])<0;)Be=this._addTriangle(je,oe,_e,r[oe],-1,r[je]),r[oe]=this._legalize(Be+2),a[je]=je,K--,je=_e;if(Ie===ve)for(;_e=n[Ie],HE(le,ce,t[2*_e],t[2*_e+1],t[2*Ie],t[2*Ie+1])<0;)Be=this._addTriangle(_e,oe,Ie,-1,r[Ie],r[_e]),this._legalize(Be+2),r[_e]=Be,a[Ie]=Ie,K--,Ie=_e;this._hullStart=n[oe]=Ie,a[Ie]=n[je]=oe,a[oe]=je,i[this._hashKey(le,ce)]=oe,i[this._hashKey(t[2*Ie],t[2*Ie+1])]=Ie}this.hull=new Uint32Array(K);for(let ne=0,X=this._hullStart;ne<K;ne++)this.hull[ne]=X,X=a[X];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(a,r){let i=a/(Math.abs(a)+Math.abs(r));return(r>0?3-i:1+i)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:n,_halfedges:a,coords:r}=this,i=0,o=0;for(;;){let u=a[t],c=t-t%3;if(o=c+(t+2)%3,u===-1){if(i===0)break;t=qE[--i];continue}let f=u-u%3,m=c+(t+1)%3,g=f+(u+2)%3,v=n[o],E=n[t],k=n[m],_=n[g];if(qF(r[2*v],r[2*v+1],r[2*E],r[2*E+1],r[2*k],r[2*k+1],r[2*_],r[2*_+1])){n[t]=_,n[u]=v;let R=a[g];if(R===-1){let N=this._hullStart;do{if(this._hullTri[N]===g){this._hullTri[N]=t;break}N=this._hullPrev[N]}while(N!==this._hullStart)}this._link(t,R),this._link(u,a[o]),this._link(o,g);let O=f+(u+1)%3;i<qE.length&&(qE[i++]=O)}else{if(i===0)break;t=qE[--i]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,a,r,i,o){let u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=a,this._link(u,r),this._link(u+1,i),this._link(u+2,o),this.trianglesLen+=3,u}}function $x(e,t,n,a){let r=e-n,i=t-a;return r*r+i*i}function qF(e,t,n,a,r,i,o,u){let c=e-o,f=t-u,m=n-o,g=a-u,v=r-o,E=i-u,k=m*m+g*g,_=v*v+E*E;return c*(g*_-k*E)-f*(m*_-k*v)+(c*c+f*f)*(m*E-g*v)<0}function WF(e,t,n,a,r,i){let o=n-e,u=a-t,c=r-e,f=i-t,m=o*o+u*u,g=c*c+f*f,v=.5/(o*f-u*c),E=(f*m-u*g)*v,k=(o*g-c*m)*v;return E*E+k*k}function Yp(e,t,n,a){if(a-n<=20)for(let r=n+1;r<=a;r++){let i=e[r],o=t[i],u=r-1;for(;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=i}else{let r=n+1,i=a;Ib(e,n+a>>1,r),t[e[n]]>t[e[a]]&&Ib(e,n,a),t[e[r]]>t[e[a]]&&Ib(e,r,a),t[e[n]]>t[e[r]]&&Ib(e,n,r);let o=e[r],u=t[o];for(;;){do r++;while(t[e[r]]<u);do i--;while(t[e[i]]>u);if(i<r)break;Ib(e,r,i)}e[n+1]=e[i],e[i]=o,a-r+1>=i-n?(Yp(e,t,r,a),Yp(e,t,n,i-1)):(Yp(e,t,n,i-1),Yp(e,t,r,a))}}function Ib(e,t,n){let a=e[t];e[t]=e[n],e[n]=a}function VF(e){return e[0]}function YF(e){return e[1]}let jN=1e-6;class gd{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,a){let r=(t=+t)+(a=+a),i=n=+n;if(a<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>jN||Math.abs(this._y1-i)>jN)&&(this._+="L"+r+","+i),a&&(this._+=`A${a},${a},0,1,1,${t-a},${n}A${a},${a},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,a,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+a}v${+r}h${-a}Z`}value(){return this._||null}}class Bx{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let KF=2*Math.PI,Kp=Math.pow;function XF(e){return e[0]}function ZF(e){return e[1]}function JF(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Ux{static from(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XF,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZF,r=arguments.length>3?arguments[3]:void 0;return new Ux("length"in t?function(i,o,u,c){let f=i.length,m=new Float64Array(2*f);for(let g=0;g<f;++g){let v=i[g];m[2*g]=o.call(c,v,g,i),m[2*g+1]=u.call(c,v,g,i)}return m}(t,n,a,r):Float64Array.from(function*(i,o,u,c){let f=0;for(let m of i)yield o.call(c,m,f,i),yield u.call(c,m,f,i),++f}(t,n,a,r)))}constructor(t){this._delaunator=new WE(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(c){let{triangles:f,coords:m}=c;for(let g=0;g<f.length;g+=3){let v=2*f[g],E=2*f[g+1],k=2*f[g+2];if((m[k]-m[v])*(m[E+1]-m[v+1])-(m[E]-m[v])*(m[k+1]-m[v+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(v,E)=>E).sort((v,E)=>n[2*v]-n[2*E]||n[2*v+1]-n[2*E+1]);let c=this.collinear[0],f=this.collinear[this.collinear.length-1],m=[n[2*c],n[2*c+1],n[2*f],n[2*f+1]],g=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let v=0,E=n.length/2;v<E;++v){let k=JF(n[2*v],n[2*v+1],g);n[2*v]=k[0],n[2*v+1]=k[1]}this._delaunator=new WE(n)}else delete this.collinear;let a=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let c=0,f=a.length;c<f;++c){let m=i[c%3==2?c-2:c+1];a[c]!==-1&&o[m]!==-1||(o[m]=c)}for(let c=0,f=r.length;c<f;++c)u[r[c]]=c;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,r.length===2&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new class{constructor(n){let[a,r,i,o]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,960,500];if(!((i=+i)>=(a=+a)&&(o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(2*n.points.length),this.vectors=new Float64Array(2*n.points.length),this.xmax=i,this.xmin=a,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:n,hull:a,triangles:r},vectors:i}=this,o,u,c=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let R,O,N=0,$=0,M=r.length;N<M;N+=3,$+=2){let U=2*r[N],z=2*r[N+1],q=2*r[N+2],Y=n[U],K=n[U+1],ne=n[z],X=n[z+1],ie=n[q],oe=n[q+1],le=ne-Y,ce=X-K,ve=ie-Y,_e=oe-K,Ie=2*(le*_e-ce*ve);if(Math.abs(Ie)<1e-9){if(o===void 0){o=u=0;for(let je of a)o+=n[2*je],u+=n[2*je+1];o/=a.length,u/=a.length}let Be=1e9*Math.sign((o-Y)*_e-(u-K)*ve);R=(Y+ie)/2-Be*_e,O=(K+oe)/2+Be*ve}else{let Be=1/Ie,je=le*le+ce*ce,Oe=ve*ve+_e*_e;R=Y+(_e*je-ce*Oe)*Be,O=K+(le*Oe-ve*je)*Be}c[$]=R,c[$+1]=O}let f,m,g,v=a[a.length-1],E=4*v,k=n[2*v],_=n[2*v+1];i.fill(0);for(let R=0;R<a.length;++R)v=a[R],f=E,m=k,g=_,E=4*v,k=n[2*v],_=n[2*v+1],i[f+2]=i[E]=g-_,i[f+3]=i[E+1]=k-m}render(n){let a=n==null?n=new gd:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:u,vectors:c}=this;if(o.length<=1)return null;for(let g=0,v=r.length;g<v;++g){let E=r[g];if(E<g)continue;let k=2*Math.floor(g/3),_=2*Math.floor(E/3),R=u[k],O=u[k+1],N=u[_],$=u[_+1];this._renderSegment(R,O,N,$,n)}let f,m=o[o.length-1];for(let g=0;g<o.length;++g){f=m,m=o[g];let v=2*Math.floor(i[m]/3),E=u[v],k=u[v+1],_=4*f,R=this._project(E,k,c[_+2],c[_+3]);R&&this._renderSegment(E,k,R[0],R[1],n)}return a&&a.value()}renderBounds(n){let a=n==null?n=new gd:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(n,a){let r=a==null?a=new gd:void 0,i=this._clip(n);if(i===null||!i.length)return;a.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let u=2;u<o;u+=2)i[u]===i[u-2]&&i[u+1]===i[u-1]||a.lineTo(i[u],i[u+1]);return a.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:n}}=this;for(let a=0,r=n.length/2;a<r;++a){let i=this.cellPolygon(a);i&&(i.index=a,yield i)}}cellPolygon(n){let a=new Bx;return this.renderCell(n,a),a.value()}_renderSegment(n,a,r,i,o){let u,c=this._regioncode(n,a),f=this._regioncode(r,i);c===0&&f===0?(o.moveTo(n,a),o.lineTo(r,i)):(u=this._clipSegment(n,a,r,i,c,f))&&(o.moveTo(u[0],u[1]),o.lineTo(u[2],u[3]))}contains(n,a,r){return(a=+a)==a&&(r=+r)==r&&this.delaunay._step(n,a,r)===n}*neighbors(n){let a=this._clip(n);if(a)for(let r of this.delaunay.neighbors(n)){let i=this._clip(r);if(i){e:for(let o=0,u=a.length;o<u;o+=2)for(let c=0,f=i.length;c<f;c+=2)if(a[o]===i[c]&&a[o+1]===i[c+1]&&a[(o+2)%u]===i[(c+f-2)%f]&&a[(o+3)%u]===i[(c+f-1)%f]){yield r;break e}}}}_cell(n){let{circumcenters:a,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,u=r[n];if(u===-1)return null;let c=[],f=u;do{let m=Math.floor(f/3);if(c.push(a[2*m],a[2*m+1]),f=f%3==2?f-2:f+1,o[f]!==n)break;f=i[f]}while(f!==u&&f!==-1);return c}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let a=this._cell(n);if(a===null)return null;let{vectors:r}=this,i=4*n;return this._simplify(r[i]||r[i+1]?this._clipInfinite(n,a,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(n,a))}_clipFinite(n,a){let r=a.length,i,o,u,c,f=null,m=a[r-2],g=a[r-1],v=this._regioncode(m,g),E=0;for(let k=0;k<r;k+=2)if(i=m,o=g,m=a[k],g=a[k+1],u=v,v=this._regioncode(m,g),u===0&&v===0)c=E,E=0,f?f.push(m,g):f=[m,g];else{let _,R,O,N,$;if(u===0){if((_=this._clipSegment(i,o,m,g,u,v))===null)continue;[R,O,N,$]=_}else{if((_=this._clipSegment(m,g,i,o,v,u))===null)continue;[N,$,R,O]=_,c=E,E=this._edgecode(R,O),c&&E&&this._edge(n,c,E,f,f.length),f?f.push(R,O):f=[R,O]}c=E,E=this._edgecode(N,$),c&&E&&this._edge(n,c,E,f,f.length),f?f.push(N,$):f=[N,$]}if(f)c=E,E=this._edgecode(f[0],f[1]),c&&E&&this._edge(n,c,E,f,f.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return f}_clipSegment(n,a,r,i,o,u){let c=o<u;for(c&&([n,a,r,i,o,u]=[r,i,n,a,u,o]);;){if(o===0&&u===0)return c?[r,i,n,a]:[n,a,r,i];if(o&u)return null;let f,m,g=o||u;8&g?(f=n+(r-n)*(this.ymax-a)/(i-a),m=this.ymax):4&g?(f=n+(r-n)*(this.ymin-a)/(i-a),m=this.ymin):2&g?(m=a+(i-a)*(this.xmax-n)/(r-n),f=this.xmax):(m=a+(i-a)*(this.xmin-n)/(r-n),f=this.xmin),o?(n=f,a=m,o=this._regioncode(n,a)):(r=f,i=m,u=this._regioncode(r,i))}}_clipInfinite(n,a,r,i,o,u){let c,f=Array.from(a);if((c=this._project(f[0],f[1],r,i))&&f.unshift(c[0],c[1]),(c=this._project(f[f.length-2],f[f.length-1],o,u))&&f.push(c[0],c[1]),f=this._clipFinite(n,f))for(let m,g=0,v=f.length,E=this._edgecode(f[v-2],f[v-1]);g<v;g+=2)m=E,E=this._edgecode(f[g],f[g+1]),m&&E&&(g=this._edge(n,m,E,f,g),v=f.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(n,a,r,i,o){for(;a!==r;){let u,c;switch(a){case 5:a=4;continue;case 4:a=6,u=this.xmax,c=this.ymin;break;case 6:a=2;continue;case 2:a=10,u=this.xmax,c=this.ymax;break;case 10:a=8;continue;case 8:a=9,u=this.xmin,c=this.ymax;break;case 9:a=1;continue;case 1:a=5,u=this.xmin,c=this.ymin}i[o]===u&&i[o+1]===c||!this.contains(n,u,c)||(i.splice(o,0,u,c),o+=2)}return o}_project(n,a,r,i){let o,u,c,f=1/0;if(i<0){if(a<=this.ymin)return null;(o=(this.ymin-a)/i)<f&&(c=this.ymin,u=n+(f=o)*r)}else if(i>0){if(a>=this.ymax)return null;(o=(this.ymax-a)/i)<f&&(c=this.ymax,u=n+(f=o)*r)}if(r>0){if(n>=this.xmax)return null;(o=(this.xmax-n)/r)<f&&(u=this.xmax,c=a+(f=o)*i)}else if(r<0){if(n<=this.xmin)return null;(o=(this.xmin-n)/r)<f&&(u=this.xmin,c=a+(f=o)*i)}return[u,c]}_edgecode(n,a){return(n===this.xmin?1:n===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(n,a){return(n<this.xmin?1:n>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let a=0;a<n.length;a+=2){let r=(a+2)%n.length,i=(a+4)%n.length;(n[a]===n[r]&&n[r]===n[i]||n[a+1]===n[r+1]&&n[r+1]===n[i+1])&&(n.splice(r,2),a-=2)}n.length||(n=null)}return n}}(this,t)}*neighbors(t){let{inedges:n,hull:a,_hullIndex:r,halfedges:i,triangles:o,collinear:u}=this;if(u){let g=u.indexOf(t);return g>0&&(yield u[g-1]),void(g<u.length-1&&(yield u[g+1]))}let c=n[t];if(c===-1)return;let f=c,m=-1;do{if(yield m=o[f],f=f%3==2?f-2:f+1,o[f]!==t)return;if(f=i[f],f===-1){let g=a[(r[t]+1)%a.length];return void(g!==m&&(yield g))}}while(f!==c)}find(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if((t=+t)!=t||(n=+n)!=n)return-1;let r=a,i;for(;(i=this._step(a,t,n))>=0&&i!==a&&i!==r;)a=i;return i}_step(t,n,a){let{inedges:r,hull:i,_hullIndex:o,halfedges:u,triangles:c,points:f}=this;if(r[t]===-1||!f.length)return(t+1)%(f.length>>1);let m=t,g=Kp(n-f[2*t],2)+Kp(a-f[2*t+1],2),v=r[t],E=v;do{let k=c[E],_=Kp(n-f[2*k],2)+Kp(a-f[2*k+1],2);if(_<g&&(g=_,m=k),E=E%3==2?E-2:E+1,c[E]!==t)break;if(E=u[E],E===-1){if(E=i[(o[t]+1)%i.length],E!==k&&Kp(n-f[2*E],2)+Kp(a-f[2*E+1],2)<g)return E;break}}while(E!==v);return m}render(t){let n=t==null?t=new gd:void 0,{points:a,halfedges:r,triangles:i}=this;for(let o=0,u=r.length;o<u;++o){let c=r[o];if(c<o)continue;let f=2*i[o],m=2*i[c];t.moveTo(a[f],a[f+1]),t.lineTo(a[m],a[m+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n!==void 0||t&&typeof t.moveTo=="function"||(n=t,t=null),n=n==null?2:+n;let a=t==null?t=new gd:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){let u=r[i],c=r[i+1];t.moveTo(u+n,c),t.arc(u,c,n,0,KF)}return a&&a.value()}renderHull(t){let n=t==null?t=new gd:void 0,{hull:a,points:r}=this,i=2*a[0],o=a.length;t.moveTo(r[i],r[i+1]);for(let u=1;u<o;++u){let c=2*a[u];t.lineTo(r[c],r[c+1])}return t.closePath(),n&&n.value()}hullPolygon(){let t=new Bx;return this.renderHull(t),t.value()}renderTriangle(t,n){let a=n==null?n=new gd:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],u=2*i[t+1],c=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[u],r[u+1]),n.lineTo(r[c],r[c+1]),n.closePath(),a&&a.value()}*trianglePolygons(){let{triangles:t}=this;for(let n=0,a=t.length/3;n<a;++n)yield this.trianglePolygon(n)}trianglePolygon(t){let n=new Bx;return this.renderTriangle(t,n),n.value()}}function zx(e){xe.call(this,null,e)}zx.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let QF=[-1e5,-1e5,1e5,1e5];function eP(e){let t=e[0][0],n=e[0][1],a=e.length-1;for(;e[a][0]===t&&e[a][1]===n;--a);return"M"+e.slice(0,a+1).join("L")+"Z"}Me(zx,xe,{transform(e,t){let n=e.as||"path",a=t.source;if(!a||!a.length)return t;let r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:QF;let i=this.value=Ux.from(a,e.x,e.y).voronoi(r);for(let o=0,u=a.length;o<u;++o){let c=i.cellPolygon(o);a[o][n]=c?eP(c):null}return t.reflow(e.modified()).modifies(n)}});var tP=Object.freeze({__proto__:null,voronoi:zx}),Gx=Math.PI/180,Ob=64,VE=2048;function nP(){var e,t,n,a,r,i,o,u=[256,256],c=HN,f=[],m=Math.random,g={};function v(E,k,_){for(var R,O,N,$=k.x,M=k.y,U=Math.hypot(u[0],u[1]),z=c(u),q=m()<.5?1:-1,Y=-q;(R=z(Y+=q))&&(O=~~R[0],N=~~R[1],!(Math.min(Math.abs(O),Math.abs(N))>=U));)if(k.x=$+O,k.y=M+N,!(k.x+k.x0<0||k.y+k.y0<0||k.x+k.x1>u[0]||k.y+k.y1>u[1])&&(!_||!rP(k,E,u[0]))&&(!_||oP(k,_))){for(var K,ne=k.sprite,X=k.width>>5,ie=u[0]>>5,oe=k.x-(X<<4),le=127&oe,ce=32-le,ve=k.y1-k.y0,_e=(k.y+k.y0)*ie+(oe>>5),Ie=0;Ie<ve;Ie++){K=0;for(var Be=0;Be<=X;Be++)E[_e+Be]|=K<<ce|(Be<X?(K=ne[Ie*X+Be])>>>le:0);_e+=ie}return k.sprite=null,!0}return!1}return g.layout=function(){for(var E=function(U){U.width=U.height=1;var z=Math.sqrt(U.getContext("2d").getImageData(0,0,1,1).data.length>>2);U.width=(Ob<<5)/z,U.height=VE/z;var q=U.getContext("2d");return q.fillStyle=q.strokeStyle="red",q.textAlign="center",{context:q,ratio:z}}(Ha()),k=function(U){for(var z=[],q=-1;++q<U;)z[q]=0;return z}((u[0]>>5)*u[1]),_=null,R=f.length,O=-1,N=[],$=f.map(U=>({text:e(U),font:t(U),style:a(U),weight:r(U),rotate:i(U),size:~~(n(U)+1e-14),padding:o(U),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:U})).sort((U,z)=>z.size-U.size);++O<R;){var M=$[O];M.x=u[0]*(m()+.5)>>1,M.y=u[1]*(m()+.5)>>1,aP(E,M,$,O),M.hasText&&v(k,M,_)&&(N.push(M),_?iP(_,M):_=[{x:M.x+M.x0,y:M.y+M.y0},{x:M.x+M.x1,y:M.y+M.y1}],M.x-=u[0]>>1,M.y-=u[1]>>1)}return N},g.words=function(E){return arguments.length?(f=E,g):f},g.size=function(E){return arguments.length?(u=[+E[0],+E[1]],g):u},g.font=function(E){return arguments.length?(t=bd(E),g):t},g.fontStyle=function(E){return arguments.length?(a=bd(E),g):a},g.fontWeight=function(E){return arguments.length?(r=bd(E),g):r},g.rotate=function(E){return arguments.length?(i=bd(E),g):i},g.text=function(E){return arguments.length?(e=bd(E),g):e},g.spiral=function(E){return arguments.length?(c=sP[E]||E,g):c},g.fontSize=function(E){return arguments.length?(n=bd(E),g):n},g.padding=function(E){return arguments.length?(o=bd(E),g):o},g.random=function(E){return arguments.length?(m=E,g):m},g}function aP(e,t,n,a){if(!t.sprite){var r=e.context,i=e.ratio;r.clearRect(0,0,(Ob<<5)/i,VE/i);var o,u,c,f,m,g=0,v=0,E=0,k=n.length;for(--a;++a<k;){if(t=n[a],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font,o=r.measureText(t.text+"m").width*i,c=t.size<<1,t.rotate){var _=Math.sin(t.rotate*Gx),R=Math.cos(t.rotate*Gx),O=o*R,N=o*_,$=c*R,M=c*_;o=Math.max(Math.abs(O+M),Math.abs(O-M))+31>>5<<5,c=~~Math.max(Math.abs(N+$),Math.abs(N-$))}else o=o+31>>5<<5;if(c>E&&(E=c),g+o>=Ob<<5&&(g=0,v+=E,E=0),v+c>=VE)break;r.translate((g+(o>>1))/i,(v+(c>>1))/i),t.rotate&&r.rotate(t.rotate*Gx),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=o,t.height=c,t.xoff=g,t.yoff=v,t.x1=o>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,g+=o}for(var U=r.getImageData(0,0,(Ob<<5)/i,VE/i).data,z=[];--a>=0;)if((t=n[a]).hasText){for(u=(o=t.width)>>5,c=t.y1-t.y0,f=0;f<c*u;f++)z[f]=0;if((g=t.xoff)==null)return;v=t.yoff;var q=0,Y=-1;for(m=0;m<c;m++){for(f=0;f<o;f++){var K=u*m+(f>>5),ne=U[(v+m)*(Ob<<5)+(g+f)<<2]?1<<31-f%32:0;z[K]|=ne,q|=ne}q?Y=m:(t.y0++,c--,m--,v++)}t.y1=t.y0+Y,t.sprite=z.slice(0,(t.y1-t.y0)*u)}}}function rP(e,t,n){n>>=5;for(var a,r=e.sprite,i=e.width>>5,o=e.x-(i<<4),u=127&o,c=32-u,f=e.y1-e.y0,m=(e.y+e.y0)*n+(o>>5),g=0;g<f;g++){a=0;for(var v=0;v<=i;v++)if((a<<c|(v<i?(a=r[g*i+v])>>>u:0))&t[m+v])return!0;m+=n}return!1}function iP(e,t){var n=e[0],a=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>a.x&&(a.x=t.x+t.x1),t.y+t.y1>a.y&&(a.y=t.y+t.y1)}function oP(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function HN(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function bd(e){return typeof e=="function"?e:function(){return e}}var sP={archimedean:HN,rectangular:function(e){var t=4*e[0]/e[1],n=0,a=0;return function(r){var i=r<0?-1:1;switch(Math.sqrt(1+4*i*r)-i&3){case 0:n+=t;break;case 1:a+=4;break;case 2:n-=t;break;default:a-=4}return[n,a]}}};let qN=["x","y","font","fontSize","fontStyle","fontWeight","angle"],lP=["text","font","rotate","fontSize","fontStyle","fontWeight"];function jx(e){xe.call(this,nP(),e)}jx.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:qN}]},Me(jx,xe,{transform(e,t){!e.size||e.size[0]&&e.size[1]||F("Wordcloud size dimensions must be non-zero.");let n=e.modified();if(!(n||t.changed(t.ADD_REM)||lP.some(function(E){let k=e[E];return Je(k)&&t.modified(k.fields)})))return;let a=t.materialize(t.SOURCE).source,r=this.value,i=e.as||qN,o,u=e.fontSize||14;if(Je(u)?o=e.fontSizeRange:u=dn(u),o){let E=u,k=Pt("sqrt")().domain($n(a,E)).range(o);u=_=>k(E(_))}a.forEach(E=>{E[i[0]]=NaN,E[i[1]]=NaN,E[i[3]]=0});let c=r.words(a).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(p.random).layout(),f=r.size(),m=f[0]>>1,g=f[1]>>1,v=c.length;for(let E,k,_=0;_<v;++_)E=c[_],k=E.datum,k[i[0]]=E.x+m,k[i[1]]=E.y+g,k[i[2]]=E.font,k[i[3]]=E.size,k[i[4]]=E.style,k[i[5]]=E.weight,k[i[6]]=E.rotate;return t.reflow(n).modifies(i)}});var uP=Object.freeze({__proto__:null,wordcloud:jx});let cP=e=>new Uint8Array(e),dP=e=>new Uint16Array(e),Db=e=>new Uint32Array(e);function YE(e,t,n){let a=(t<257?cP:t<65537?dP:Db)(e);return n&&a.set(n),a}function WN(e,t,n){let a=1<<t;return{one:a,zero:~a,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(r,i){let o=this,u=o.bisect(o.range,r.value),c=r.index,f=u[0],m=u[1],g=c.length,v;for(v=0;v<f;++v)i[c[v]]|=a;for(v=m;v<g;++v)i[c[v]]|=a;return o}}}function VN(){let e=Db(0),t=[],n=0;return{insert:function(a,r,i){if(!r.length)return[];let o=n,u=r.length,c=Db(u),f,m,g,v=Array(u);for(g=0;g<u;++g)v[g]=a(r[g]),c[g]=g;if(v=function(E,k){return E.sort.call(k,(_,R)=>{let O=E[_],N=E[R];return O<N?-1:O>N?1:0}),function(_,R){return Array.from(R,O=>_[O])}(E,k)}(v,c),o)f=t,m=e,t=Array(o+u),e=Db(o+u),function(E,k,_,R,O,N,$,M,U){let z,q=0,Y=0;for(z=0;q<R&&Y<$;++z)k[q]<O[Y]?(M[z]=k[q],U[z]=_[q++]):(M[z]=O[Y],U[z]=N[Y++]+E);for(;q<R;++q,++z)M[z]=k[q],U[z]=_[q];for(;Y<$;++Y,++z)M[z]=O[Y],U[z]=N[Y]+E}(i,f,m,o,v,c,u,t,e);else{if(i>0)for(g=0;g<u;++g)c[g]+=i;t=v,e=c}return n=o+u,{index:c,value:v}},remove:function(a,r){let i=n,o,u,c;for(u=0;!r[e[u]]&&u<i;++u);for(c=u;u<i;++u)r[o=e[u]]||(e[c]=o,t[c]=t[u],++c);n=i-a},bisect:function(a,r){let i;return r?i=r.length:(r=t,i=n),[s_(r,a[0],0,i),$l(r,a[1],0,i)]},reindex:function(a){for(let r=0,i=n;r<i;++r)e[r]=a[e[r]]},index:()=>e,size:()=>n}}function Hx(e){xe.call(this,function(){let t=8,n=[],a=Db(0),r=YE(0,t),i=YE(0,t);return{data:()=>n,seen:()=>a=function(o,u,c){return o.length>=u?o:((c=c||new o.constructor(u)).set(o),c)}(a,n.length),add(o){for(let u,c=0,f=n.length,m=o.length;c<m;++c)u=o[c],u._index=f++,n.push(u)},remove(o,u){let c=n.length,f=Array(c-o),m=n,g,v,E;for(v=0;!u[v]&&v<c;++v)f[v]=n[v],m[v]=v;for(E=v;v<c;++v)g=n[v],u[v]?m[v]=-1:(m[v]=E,r[E]=r[v],i[E]=i[v],f[E]=g,g._index=E++),r[v]=0;return n=f,m},size:()=>n.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>t<257?255:t<65537?65535:4294967295,set(o,u){r[o]|=u},clear(o,u){r[o]&=~u},resize(o,u){(o>r.length||u>t)&&(t=Math.max(u,t),r=YE(o,t,r),i=YE(o,t))}}}(),e),this._indices=null,this._dims=null}function qx(e){xe.call(this,null,e)}Hx.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Me(Hx,xe,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(n=>t.modified(n.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){let n=e.fields,a=e.query,r=this._indices={},i=this._dims=[],o=a.length,u,c,f=0;for(;f<o;++f)u=n[f].fname,c=r[u]||(r[u]=VN()),i.push(WN(c,f,a[f]));return this.eval(e,t)},reinit(e,t){let n=t.materialize().fork(),a=e.fields,r=e.query,i=this._indices,o=this._dims,u=this.value,c=u.curr(),f=u.prev(),m=u.all(),g=n.rem=n.add,v=n.mod,E=r.length,k={},_,R,O,N,$,M,U,z,q;if(f.set(c),t.rem.length&&($=this.remove(e,t,n)),t.add.length&&u.add(t.add),t.mod.length)for(M={},N=t.mod,U=0,z=N.length;U<z;++U)M[N[U]._index]=1;for(U=0;U<E;++U)q=a[U],(!o[U]||e.modified("fields",U)||t.modified(q.fields))&&(O=q.fname,(_=k[O])||(i[O]=R=VN(),k[O]=_=R.insert(q,t.source,0)),o[U]=WN(R,U,r[U]).onAdd(_,c));for(U=0,z=u.data().length;U<z;++U)$[U]||(f[U]!==c[U]?g.push(U):M[U]&&c[U]!==m&&v.push(U));return u.mask=(1<<E)-1,n},eval(e,t){let n=t.materialize().fork(),a=this._dims.length,r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<a)-1),e.modified("query")&&!e.modified("fields")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<a)-1),t.mod.length&&(this.modify(t,n),r|=(1<<a)-1),this.value.mask=r,n},insert(e,t,n){let a=t.add,r=this.value,i=this._dims,o=this._indices,u=e.fields,c={},f=n.add,m=r.size()+a.length,g=i.length,v,E,k,_=r.size();r.resize(m,g),r.add(a);let R=r.curr(),O=r.prev(),N=r.all();for(v=0;v<g;++v)E=u[v].fname,k=c[E]||(c[E]=o[E].insert(u[v],a,_)),i[v].onAdd(k,R);for(;_<m;++_)O[_]=N,R[_]!==N&&f.push(_)},modify(e,t){let n=t.mod,a=this.value,r=a.curr(),i=a.all(),o=e.mod,u,c,f;for(u=0,c=o.length;u<c;++u)f=o[u]._index,r[f]!==i&&n.push(f)},remove(e,t,n){let a=this._indices,r=this.value,i=r.curr(),o=r.prev(),u=r.all(),c={},f=n.rem,m=t.rem,g,v,E,k;for(g=0,v=m.length;g<v;++g)E=m[g]._index,c[E]=1,o[E]=k=i[E],i[E]=u,k!==u&&f.push(E);for(E in a)a[E].remove(v,c);return this.reindex(t,v,c),c},reindex(e,t,n){let a=this._indices,r=this.value;e.runAfter(()=>{let i=r.remove(t,n);for(let o in a)a[o].reindex(i)})},update(e,t,n){let a=this._dims,r=e.query,i=t.stamp,o=a.length,u,c,f=0;for(n.filters=0,c=0;c<o;++c)e.modified("query",c)&&(u=c,++f);if(f===1)f=a[u].one,this.incrementOne(a[u],r[u],n.add,n.rem);else for(c=0,f=0;c<o;++c)e.modified("query",c)&&(f|=a[c].one,this.incrementAll(a[c],r[c],i,n.add),n.rem=n.add);return f},incrementAll(e,t,n,a){let r=this.value,i=r.seen(),o=r.curr(),u=r.prev(),c=e.index(),f=e.bisect(e.range),m=e.bisect(t),g=m[0],v=m[1],E=f[0],k=f[1],_=e.one,R,O,N;if(g<E)for(R=g,O=Math.min(E,v);R<O;++R)N=c[R],i[N]!==n&&(u[N]=o[N],i[N]=n,a.push(N)),o[N]^=_;else if(g>E)for(R=E,O=Math.min(g,k);R<O;++R)N=c[R],i[N]!==n&&(u[N]=o[N],i[N]=n,a.push(N)),o[N]^=_;if(v>k)for(R=Math.max(g,k),O=v;R<O;++R)N=c[R],i[N]!==n&&(u[N]=o[N],i[N]=n,a.push(N)),o[N]^=_;else if(v<k)for(R=Math.max(E,v),O=k;R<O;++R)N=c[R],i[N]!==n&&(u[N]=o[N],i[N]=n,a.push(N)),o[N]^=_;e.range=t.slice()},incrementOne(e,t,n,a){let r=this.value.curr(),i=e.index(),o=e.bisect(e.range),u=e.bisect(t),c=u[0],f=u[1],m=o[0],g=o[1],v=e.one,E,k,_;if(c<m)for(E=c,k=Math.min(m,f);E<k;++E)_=i[E],r[_]^=v,n.push(_);else if(c>m)for(E=m,k=Math.min(c,g);E<k;++E)_=i[E],r[_]^=v,a.push(_);if(f>g)for(E=Math.max(c,g),k=f;E<k;++E)_=i[E],r[_]^=v,n.push(_);else if(f<g)for(E=Math.max(m,f),k=g;E<k;++E)_=i[E],r[_]^=v,a.push(_);e.range=t.slice()}}),qx.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Me(qx,xe,{transform(e,t){let n=~(e.ignore||0),a=e.filter,r=a.mask;if(!(r&n))return t.StopPropagation;let i=t.fork(t.ALL),o=a.data(),u=a.curr(),c=a.prev(),f=m=>u[m]&n?null:o[m];return i.filter(i.MOD,f),r&r-1?(i.filter(i.ADD,m=>{let g=u[m]&n;return!g&&g^c[m]&n?o[m]:null}),i.filter(i.REM,m=>{let g=u[m]&n;return g&&!(g^g^c[m]&n)?o[m]:null})):(i.filter(i.ADD,f),i.filter(i.REM,m=>(u[m]&n)===r?o[m]:null)),i.filter(i.SOURCE,m=>f(m._index))}});var fP=Object.freeze({__proto__:null,crossfilter:Hx,resolvefilter:qx});let Xp="Literal",pP="Property",hP="ArrayExpression",mP="BinaryExpression",YN="CallExpression",gP="ConditionalExpression",bP="LogicalExpression",yP="MemberExpression",vP="ObjectExpression",EP="UnaryExpression";function Go(e){this.type=e}var Tl,rt,Te,Qa,Qt;Go.prototype.visit=function(e){let t,n,a;if(e(this))return 1;for(t=function(r){switch(r.type){case hP:return r.elements;case mP:case bP:return[r.left,r.right];case YN:return[r.callee].concat(r.arguments);case gP:return[r.test,r.consequent,r.alternate];case yP:return[r.object,r.property];case vP:return r.properties;case pP:return[r.key,r.value];case EP:return[r.argument];default:return[]}}(this),n=0,a=t.length;n<a;++n)if(t[n].visit(e))return 1};var KE=1,Mb=2,yd=3,Hu=4,XE=5,vd=6,Gr=7,Lb=8;(Tl={})[KE]="Boolean",Tl[Mb]="<end>",Tl[yd]="Identifier",Tl[Hu]="Keyword",Tl[XE]="Null",Tl[vd]="Numeric",Tl[Gr]="Punctuator",Tl[Lb]="String",Tl[9]="RegularExpression";var wP="ArrayExpression",_P="BinaryExpression",kP="CallExpression",xP="ConditionalExpression",KN="Identifier",SP="Literal",AP="LogicalExpression",TP="MemberExpression",CP="ObjectExpression",RP="Property",NP="UnaryExpression",ga="Unexpected token %0",IP="Unexpected number",OP="Unexpected string",DP="Unexpected identifier",MP="Unexpected reserved word",LP="Unexpected end of input",Wx="Invalid regular expression",Vx="Invalid regular expression: missing /",XN="Octal literals are not allowed in strict mode.",FP="Duplicate data property in object literal not allowed in strict mode",Da="ILLEGAL",Fb="Disabled.",PP=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),$P=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function ZE(e,t){if(!e)throw new Error("ASSERT: "+t)}function Cl(e){return e>=48&&e<=57}function Yx(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Pb(e){return"01234567".indexOf(e)>=0}function BP(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function $b(e){return e===10||e===13||e===8232||e===8233}function Bb(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&PP.test(String.fromCharCode(e))}function JE(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&$P.test(String.fromCharCode(e))}let UP={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ZN(){for(;Te<Qa;){let e=rt.charCodeAt(Te);if(!BP(e)&&!$b(e))break;++Te}}function Kx(e){var t,n,a,r=0;for(n=e==="u"?4:2,t=0;t<n;++t)Te<Qa&&Yx(rt[Te])?(a=rt[Te++],r=16*r+"0123456789abcdef".indexOf(a.toLowerCase())):qt({},ga,Da);return String.fromCharCode(r)}function zP(){var e,t,n,a;for(t=0,(e=rt[Te])==="}"&&qt({},ga,Da);Te<Qa&&Yx(e=rt[Te++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&qt({},ga,Da),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),a=56320+(t-65536&1023),String.fromCharCode(n,a))}function JN(){var e,t;for(e=rt.charCodeAt(Te++),t=String.fromCharCode(e),e===92&&(rt.charCodeAt(Te)!==117&&qt({},ga,Da),++Te,(e=Kx("u"))&&e!=="\\"&&Bb(e.charCodeAt(0))||qt({},ga,Da),t=e);Te<Qa&&JE(e=rt.charCodeAt(Te));)++Te,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rt.charCodeAt(Te)!==117&&qt({},ga,Da),++Te,(e=Kx("u"))&&e!=="\\"&&JE(e.charCodeAt(0))||qt({},ga,Da),t+=e);return t}function GP(){var e,t;return e=Te,t=rt.charCodeAt(Te)===92?JN():function(){var n,a;for(n=Te++;Te<Qa;){if((a=rt.charCodeAt(Te))===92)return Te=n,JN();if(!JE(a))break;++Te}return rt.slice(n,Te)}(),{type:t.length===1?yd:UP.hasOwnProperty(t)?Hu:t==="null"?XE:t==="true"||t==="false"?KE:yd,value:t,start:e,end:Te}}function Xx(){var e,t,n,a,r=Te,i=rt.charCodeAt(Te),o=rt[Te];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Te,{type:Gr,value:String.fromCharCode(i),start:r,end:Te};default:if((e=rt.charCodeAt(Te+1))===61)switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Te+=2,{type:Gr,value:String.fromCharCode(i)+String.fromCharCode(e),start:r,end:Te};case 33:case 61:return Te+=2,rt.charCodeAt(Te)===61&&++Te,{type:Gr,value:rt.slice(r,Te),start:r,end:Te}}}return(a=rt.substr(Te,4))===">>>="?{type:Gr,value:a,start:r,end:Te+=4}:(n=a.substr(0,3))===">>>"||n==="<<="||n===">>="?{type:Gr,value:n,start:r,end:Te+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||t==="=>"?{type:Gr,value:t,start:r,end:Te+=2}:(t==="//"&&qt({},ga,Da),"<>=!+-*%&|^/".indexOf(o)>=0?(++Te,{type:Gr,value:o,start:r,end:Te}):void qt({},ga,Da))}function QN(){var e,t,n;if(ZE(Cl((n=rt[Te]).charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Te,e="",n!=="."){if(e=rt[Te++],n=rt[Te],e==="0"){if(n==="x"||n==="X")return++Te,function(a){let r="";for(;Te<Qa&&Yx(rt[Te]);)r+=rt[Te++];return r.length===0&&qt({},ga,Da),Bb(rt.charCodeAt(Te))&&qt({},ga,Da),{type:vd,value:parseInt("0x"+r,16),start:a,end:Te}}(t);if(Pb(n))return function(a){let r="0"+rt[Te++];for(;Te<Qa&&Pb(rt[Te]);)r+=rt[Te++];return(Bb(rt.charCodeAt(Te))||Cl(rt.charCodeAt(Te)))&&qt({},ga,Da),{type:vd,value:parseInt(r,8),octal:!0,start:a,end:Te}}(t);n&&Cl(n.charCodeAt(0))&&qt({},ga,Da)}for(;Cl(rt.charCodeAt(Te));)e+=rt[Te++];n=rt[Te]}if(n==="."){for(e+=rt[Te++];Cl(rt.charCodeAt(Te));)e+=rt[Te++];n=rt[Te]}if(n==="e"||n==="E")if(e+=rt[Te++],(n=rt[Te])!=="+"&&n!=="-"||(e+=rt[Te++]),Cl(rt.charCodeAt(Te)))for(;Cl(rt.charCodeAt(Te));)e+=rt[Te++];else qt({},ga,Da);return Bb(rt.charCodeAt(Te))&&qt({},ga,Da),{type:vd,value:parseFloat(e),start:t,end:Te}}function jP(){var e,t,n,a;return Qt=null,ZN(),e=Te,t=function(){var r,i,o,u;for(ZE((r=rt[Te])==="/","Regular expression literal must start with a slash"),i=rt[Te++],o=!1,u=!1;Te<Qa;)if(i+=r=rt[Te++],r==="\\")$b((r=rt[Te++]).charCodeAt(0))&&qt({},Vx),i+=r;else if($b(r.charCodeAt(0)))qt({},Vx);else if(o)r==="]"&&(o=!1);else{if(r==="/"){u=!0;break}r==="["&&(o=!0)}return u||qt({},Vx),{value:i.substr(1,i.length-2),literal:i}}(),n=function(){var r,i,o;for(i="",o="";Te<Qa&&JE((r=rt[Te]).charCodeAt(0));)++Te,r==="\\"&&Te<Qa?qt({},ga,Da):(o+=r,i+=r);return o.search(/[^gimuy]/g)>=0&&qt({},Wx,o),{value:o,literal:i}}(),a=function(r,i){let o=r;i.indexOf("u")>=0&&(o=o.replace(/\\u\{([0-9a-fA-F]+)\}/g,(u,c)=>{if(parseInt(c,16)<=1114111)return"x";qt({},Wx)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(o)}catch{qt({},Wx)}try{return new RegExp(r,i)}catch{return null}}(t.value,n.value),{literal:t.literal+n.literal,value:a,regex:{pattern:t.value,flags:n.value},start:e,end:Te}}function eI(){if(ZN(),Te>=Qa)return{type:Mb,start:Te,end:Te};let e=rt.charCodeAt(Te);return Bb(e)?GP():e===40||e===41||e===59?Xx():e===39||e===34?function(){var t,n,a,r,i="",o=!1;for(ZE((t=rt[Te])==="'"||t==='"',"String literal must starts with a quote"),n=Te,++Te;Te<Qa;){if((a=rt[Te++])===t){t="";break}if(a==="\\")if((a=rt[Te++])&&$b(a.charCodeAt(0)))a==="\r"&&rt[Te]===`
`&&++Te;else switch(a){case"u":case"x":rt[Te]==="{"?(++Te,i+=zP()):i+=Kx(a);break;case"n":i+=`
`;break;case"r":i+="\r";break;case"t":i+="	";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Pb(a)?((r="01234567".indexOf(a))!==0&&(o=!0),Te<Qa&&Pb(rt[Te])&&(o=!0,r=8*r+"01234567".indexOf(rt[Te++]),"0123".indexOf(a)>=0&&Te<Qa&&Pb(rt[Te])&&(r=8*r+"01234567".indexOf(rt[Te++]))),i+=String.fromCharCode(r)):i+=a}else{if($b(a.charCodeAt(0)))break;i+=a}}return t!==""&&qt({},ga,Da),{type:Lb,value:i,octal:o,start:n,end:Te}}():e===46?Cl(rt.charCodeAt(Te+1))?QN():Xx():Cl(e)?QN():Xx()}function jr(){let e=Qt;return Te=e.end,Qt=eI(),Te=e.end,e}function tI(){let e=Te;Qt=eI(),Te=e}function nI(e,t,n){let a=new Go(e==="||"||e==="&&"?AP:_P);return a.operator=e,a.left=t,a.right=n,a}function HP(e,t){let n=new Go(kP);return n.callee=e,n.arguments=t,n}function Zx(e){let t=new Go(KN);return t.name=e,t}function Ub(e){let t=new Go(SP);return t.value=e.value,t.raw=rt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function aI(e,t,n){let a=new Go(TP);return a.computed=e==="[",a.object=t,a.property=n,a.computed||(n.member=!0),a}function rI(e,t,n){let a=new Go(RP);return a.key=t,a.value=n,a.kind=e,a}function qt(e,t){var n,a=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(i,o)=>(ZE(o<a.length,"Message reference must be in range"),a[o]));throw(n=new Error(r)).index=Te,n.description=r,n}function QE(e){e.type===Mb&&qt(e,LP),e.type===vd&&qt(e,IP),e.type===Lb&&qt(e,OP),e.type===yd&&qt(e,DP),e.type===Hu&&qt(e,MP),qt(e,ga,e.value)}function er(e){let t=jr();t.type===Gr&&t.value===e||QE(t)}function fn(e){return Qt.type===Gr&&Qt.value===e}function Jx(e){return Qt.type===Hu&&Qt.value===e}function qP(){let e=[];for(Te=Qt.start,er("[");!fn("]");)fn(",")?(jr(),e.push(null)):(e.push(Ed()),fn("]")||er(","));return jr(),function(t){let n=new Go(wP);return n.elements=t,n}(e)}function iI(){Te=Qt.start;let e=jr();return e.type===Lb||e.type===vd?(e.octal&&qt(e,XN),Ub(e)):Zx(e.value)}function WP(){var e,t,n;return Te=Qt.start,(e=Qt).type===yd?(n=iI(),er(":"),rI("init",n,Ed())):e.type!==Mb&&e.type!==Gr?(t=iI(),er(":"),rI("init",t,Ed())):void QE(e)}function VP(){var e,t,n=[],a={},r=String;for(Te=Qt.start,er("{");!fn("}");)t="$"+((e=WP()).key.type===KN?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(a,t)?qt({},FP):a[t]=!0,n.push(e),fn("}")||er(",");return er("}"),function(i){let o=new Go(CP);return o.properties=i,o}(n)}let YP={if:1};function KP(){var e,t,n;if(fn("("))return function(){er("(");let a=Qx();return er(")"),a}();if(fn("["))return qP();if(fn("{"))return VP();if(e=Qt.type,Te=Qt.start,e===yd||YP[Qt.value])n=Zx(jr().value);else if(e===Lb||e===vd)Qt.octal&&qt(Qt,XN),n=Ub(jr());else{if(e===Hu)throw new Error(Fb);e===KE?((t=jr()).value=t.value==="true",n=Ub(t)):e===XE?((t=jr()).value=null,n=Ub(t)):fn("/")||fn("/=")?(n=Ub(jP()),tI()):QE(jr())}return n}function XP(){let e=[];if(er("("),!fn(")"))for(;Te<Qa&&(e.push(Ed()),!fn(")"));)er(",");return er(")"),e}function ZP(){Te=Qt.start;let e=jr();return function(t){return t.type===yd||t.type===Hu||t.type===KE||t.type===XE}(e)||QE(e),Zx(e.value)}function JP(){er("[");let e=Qx();return er("]"),e}function oI(){let e=function(){var t;for(t=KP();;)if(fn("."))er("."),t=aI(".",t,ZP());else if(fn("("))t=HP(t,XP());else{if(!fn("["))break;t=aI("[",t,JP())}return t}();if(Qt.type===Gr&&(fn("++")||fn("--")))throw new Error(Fb);return e}function ew(){var e,t;if(Qt.type!==Gr&&Qt.type!==Hu)t=oI();else{if(fn("++")||fn("--"))throw new Error(Fb);if(fn("+")||fn("-")||fn("~")||fn("!"))e=jr(),t=ew(),t=function(n,a){let r=new Go(NP);return r.operator=n,r.argument=a,r.prefix=!0,r}(e.value,t);else{if(Jx("delete")||Jx("void")||Jx("typeof"))throw new Error(Fb);t=oI()}}return t}function sI(e){let t=0;if(e.type!==Gr&&e.type!==Hu)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Ed(){var e,t;return e=function(){var n,a,r,i,o,u,c,f,m,g;if(n=Qt,m=ew(),(o=sI(i=Qt))===0)return m;for(i.prec=o,jr(),a=[n,Qt],u=[m,i,c=ew()];(o=sI(Qt))>0;){for(;u.length>2&&o<=u[u.length-2].prec;)c=u.pop(),f=u.pop().value,m=u.pop(),a.pop(),r=nI(f,m,c),u.push(r);(i=jr()).prec=o,u.push(i),a.push(Qt),r=ew(),u.push(r)}for(r=u[g=u.length-1],a.pop();g>1;)a.pop(),r=nI(u[g-1].value,u[g-2],r),g-=2;return r}(),fn("?")&&(jr(),t=Ed(),er(":"),e=function(n,a,r){let i=new Go(xP);return i.test=n,i.consequent=a,i.alternate=r,i}(e,t,Ed())),e}function Qx(){let e=Ed();if(fn(","))throw new Error(Fb);return e}function lI(e){Te=0,Qa=(rt=e).length,Qt=null,tI();let t=Qx();if(Qt.type!==Mb)throw new Error("Unexpect token after expression.");return t}var uI={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function cI(e){function t(i,o,u){return c=>function(f,m,g,v){let E=e(m[0]);return g&&(E=g+"("+E+")",g.lastIndexOf("new ",0)===0&&(E="("+E+")")),E+"."+f+(v<0?"":v===0?"()":"("+m.slice(1).map(e).join(",")+")")}(i,c,o,u)}let n="new Date",a="String",r="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(i){i.length<3&&F("Missing arguments to clamp function."),i.length>3&&F("Too many arguments to clamp function.");let o=i.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",a,0),lower:t("toLowerCase",a,0),substring:t("substring",a),split:t("split",a),trim:t("trim",a,0),regexp:r,test:t("test",r),if:function(i){i.length<3&&F("Missing arguments to if function."),i.length>3&&F("Too many arguments to if function.");let o=i.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function dI(e){let t=(e=e||{}).allowed?rr(e.allowed):{},n=e.forbidden?rr(e.forbidden):{},a=e.constants||uI,r=(e.functions||cI)(g),i=e.globalvar,o=e.fieldvar,u=Je(i)?i:k=>`${i}["${k}"]`,c={},f={},m=0;function g(k){if(Mt(k))return k;let _=v[k.type];return _==null&&F("Unsupported type: "+k.type),_(k)}let v={Literal:k=>k.raw,Identifier:k=>{let _=k.name;return m>0?_:et(n,_)?F("Illegal identifier: "+_):et(a,_)?a[_]:et(t,_)?_:(c[_]=1,u(_))},MemberExpression:k=>{let _=!k.computed,R=g(k.object);_&&(m+=1);let O=g(k.property);return R===o&&(f[function(N){let $=N&&N.length-1;return $&&(N[0]==='"'&&N[$]==='"'||N[0]==="'"&&N[$]==="'")?N.slice(1,-1):N}(O)]=1),_&&(m-=1),R+(_?"."+O:"["+O+"]")},CallExpression:k=>{k.callee.type!=="Identifier"&&F("Illegal callee type: "+k.callee.type);let _=k.callee.name,R=k.arguments,O=et(r,_)&&r[_];return O||F("Unrecognized function: "+_),Je(O)?O(R):O+"("+R.map(g).join(",")+")"},ArrayExpression:k=>"["+k.elements.map(g).join(",")+"]",BinaryExpression:k=>"("+g(k.left)+" "+k.operator+" "+g(k.right)+")",UnaryExpression:k=>"("+k.operator+g(k.argument)+")",ConditionalExpression:k=>"("+g(k.test)+"?"+g(k.consequent)+":"+g(k.alternate)+")",LogicalExpression:k=>"("+g(k.left)+k.operator+g(k.right)+")",ObjectExpression:k=>"{"+k.properties.map(g).join(",")+"}",Property:k=>{m+=1;let _=g(k.key);return m-=1,_+":"+g(k.value)}};function E(k){let _={code:g(k),globals:Object.keys(c),fields:Object.keys(f)};return c={},f={},_}return E.functions=r,E.constants=a,E}let eS="intersect",fI="union",QP="vlMulti",e$="vlPoint",pI="or",t$="and",Is="_vgsid_",zb=W(Is),n$="E",a$="R",r$="R-E",i$="R-LE",o$="R-RE",tw="index:unit";function hI(e,t){for(var n,a,r=t.fields,i=t.values,o=r.length,u=0;u<o;++u)if((a=r[u]).getter=W.getter||W(a.field),En(n=a.getter(e))&&(n=De(n)),En(i[u])&&(i[u]=De(i[u])),En(i[u][0])&&(i[u]=i[u].map(De)),a.type===n$){if(Ee(i[u])?i[u].indexOf(n)<0:n!==i[u])return!1}else if(a.type===a$){if(!_a(n,i[u]))return!1}else if(a.type===o$){if(!_a(n,i[u],!0,!1))return!1}else if(a.type===r$){if(!_a(n,i[u],!1,!1))return!1}else if(a.type===i$&&!_a(n,i[u],!1,!0))return!1;return!0}let mI=or(zb),s$=mI.left,l$=mI.right;var tS={[`${Is}_union`]:function(){let e=new mh;for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(let r of n)for(let i of r)e.add(i);return e},[`${Is}_intersect`]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e=new mh(e),n=n.map(RA);e:for(let r of e)for(let i of n)if(!i.has(r)){e.delete(r);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var n=0,a=t.length;n<a;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=De(t[0]),a=De(t[1]);return n>a&&(n=t[1],a=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<a&&(e[1]=a),e):[n,a]},R_intersect:function(e,t){var n=De(t[0]),a=De(t[1]);return n>a&&(n=t[1],a=t[0]),e.length?a<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>a&&(e[1]=a),e):[n,a]}};let u$=":",c$="@";function nS(e,t,n,a){t[0].type!==Xp&&F("First argument to selection functions must be a string literal.");let r=t[0].value,i=t.length>=2&&Pe(t).value,o="unit",u=c$+o,c=u$+r;i!==eS||et(a,u)||(a[u]=n.getData(r).indataRef(n,o)),et(a,c)||(a[c]=n.getData(r).tuplesRef())}function gI(e){let t=this.context.data[e];return t?t.values.value:[]}let Gb=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},d$=Gb("format"),bI=Gb("timeFormat"),f$=Gb("utcFormat"),p$=Gb("timeParse"),h$=Gb("utcParse"),nw=new Date(2e3,0,1);function aw(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(nw.setYear(2e3),nw.setMonth(e),nw.setDate(t),bI.call(this,nw,n)):""}let m$=":",g$="@",aS="%",yI="$";function rS(e,t,n,a){t[0].type!==Xp&&F("First argument to data functions must be a string literal.");let r=t[0].value,i=m$+r;if(!et(i,a))try{a[i]=n.getData(r).tuplesRef()}catch{}}function Hr(e,t,n,a){if(t[0].type===Xp)vI(n,a,t[0].value);else for(e in n.scales)vI(n,a,e)}function vI(e,t,n){let a=aS+n;if(!et(t,a))try{t[a]=e.scaleRef(n)}catch{}}function Rl(e,t){if(Je(e))return e;if(Mt(e)){let n=t.scales[e];return n&&function(a){return a&&a[$g]===!0}(n.value)?n.value:void 0}}function b$(e,t,n){t.__bandwidth=r=>r&&r.bandwidth?r.bandwidth():0,n._bandwidth=Hr,n._range=Hr,n._scale=Hr;let a=r=>"_["+(r.type===Xp?it(aS+r.value):it(aS)+"+"+e(r))+"]";return{_bandwidth:r=>`this.__bandwidth(${a(r[0])})`,_range:r=>`${a(r[0])}.range()`,_scale:r=>`${a(r[0])}(${e(r[1])})`}}function iS(e,t){return function(n,a,r){if(n){let i=Rl(n,(r||this).context);return i&&i.path[e](a)}return t(a)}}let y$=iS("area",function(e){return tE=new Ba,wl(e,Ts),2*tE}),v$=iS("bounds",function(e){var t,n,a,r,i,o,u;if(gi=In=-(xn=zr=1/0),Bu=[],wl(e,kl),n=Bu.length){for(Bu.sort(rL),t=1,i=[a=Bu[0]];t<n;++t)WC(a,(r=Bu[t])[0])||WC(a,r[1])?(bi(a[0],r[1])>bi(a[0],a[1])&&(a[1]=r[1]),bi(r[0],a[1])>bi(a[0],a[1])&&(a[0]=r[0])):i.push(a=r);for(o=-1/0,t=0,a=i[n=i.length-1];t<=n;a=r,++t)r=i[t],(u=bi(a[1],r[0]))>o&&(o=u,xn=r[0],In=a[1])}return Bu=_l=null,xn===1/0||zr===1/0?[[NaN,NaN],[NaN,NaN]]:[[xn,zr],[In,gi]]}),E$=iS("centroid",function(e){lb=oE=sE=lE=uE=cE=dE=fE=0,vk=new Ba,Ek=new Ba,wk=new Ba,wl(e,Bo);var t=+vk,n=+Ek,a=+wk,r=dk(t,n,a);return r<Kv&&(t=cE,n=dE,a=fE,oE<ht&&(t=sE,n=lE,a=uE),(r=dk(t,n,a))<Kv)?[NaN,NaN]:[to(n,t)*Ln,Ur(a/r)*Ln]});function oS(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(a){e.warn(a)}return n[n.length-1]}function sS(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function lS(e){let t=ms(e);return .2126*sS(t.r)+.7152*sS(t.g)+.0722*sS(t.b)}function EI(e,t){return e===t||e!=e&&t!=t||(Ee(e)?!(!Ee(t)||e.length!==t.length)&&function(n,a){for(let r=0,i=n.length;r<i;++r)if(!EI(n[r],a[r]))return!1;return!0}(e,t):!(!ye(e)||!ye(t))&&wI(e,t))}function wI(e,t){for(let n in e)if(!EI(e[n],t[n]))return!1;return!0}function _I(e){return t=>wI(e,t)}let kI={};function uS(e){return Ee(e)||ArrayBuffer.isView(e)?e:null}function cS(e){return uS(e)||(Mt(e)?e:null)}let xI=e=>e.data;function SI(e,t){let n=gI.call(t,e);return n.root&&n.root.lookup||{}}let AI=()=>typeof window<"u"&&window||null;function TI(e,t,n){if(!e)return[];let[a,r]=e,i=new Rn().set(a[0],a[1],r[0],r[1]);return FT(n||this.context.dataflow.scenegraph().root,i,function(o){let u=null;if(o){let c=Ce(o.marktype),f=Ce(o.markname);u=m=>(!c.length||c.some(g=>m.marktype===g))&&(!f.length||f.some(g=>m.name===g))}return u}(t))}let jb={random:()=>p.random(),cumulativeNormal:yc,cumulativeLogNormal:dr,cumulativeUniform:wc,densityNormal:um,densityLogNormal:Af,densityUniform:Rf,quantileNormal:vc,quantileLogNormal:fm,quantileUniform:uu,sampleNormal:lu,sampleLogNormal:Sf,sampleUniform:Ec,isArray:Ee,isBoolean:Xr,isDate:En,isDefined:e=>e!==void 0,isNumber:Pa,isObject:ye,isRegExp:_i,isString:Mt,isTuple:nu,isValid:e=>e!=null&&e==e,toBoolean:Fl,toDate:e=>Od(e),toNumber:De,toString:Dd,indexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return cS(e).indexOf(...n)},join:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return uS(e).join(...n)},lastindexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return cS(e).lastIndexOf(...n)},replace:function(e,t,n){return Je(n)&&F("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return uS(e).slice().reverse()},slice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return cS(e).slice(...n)},flush:ar,lerp:lo,merge:function(){let e=[].slice.call(arguments);return e.unshift({}),pt(...e)},pad:Vu,peek:Pe,pluck:function(e,t){let n=kI[t]||(kI[t]=W(t));return Ee(e)?e.map(n):n(e)},span:Zr,inrange:_a,truncate:ph,rgb:ms,lab:jc,hcl:sp,hsl:Uc,luminance:lS,contrast:function(e,t){let n=lS(e),a=lS(t);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)},sequence:Zn,format:d$,utcFormat:f$,utcParse:h$,utcOffset:L0,utcSequence:Dh,timeFormat:bI,timeParse:p$,timeOffset:Wd,timeSequence:Oh,timeUnitSpecifier:zd,monthFormat:function(e){return aw.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return aw.call(this,e,1,"%b")},dayFormat:function(e){return aw.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return aw.call(this,0,2+e,"%a")},quarter:At,utcquarter:ft,week:Gd,utcweek:Nh,dayofyear:T0,utcdayofyear:Rh,warn:function(){return oS(this.context.dataflow,"warn",arguments)},info:function(){return oS(this.context.dataflow,"info",arguments)},debug:function(){return oS(this.context.dataflow,"debug",arguments)},extent:e=>$n(e),inScope:function(e){let t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:TI,clampRange:Ye,pinchDistance:function(e){let t=e.touches,n=t[0].clientX-t[1].clientX,a=t[0].clientY-t[1].clientY;return Math.hypot(n,a)},pinchAngle:function(e){let t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){let e=AI();return e?e.screen:{}},containerSize:function(){let e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){let e=AI();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return _u(e||0,t||0,n||0)},setdata:function(e,t){let n=this.context.dataflow,a=this.context.data[e].input;return n.pulse(a,n.changeset().remove(Z).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?Ya(n,t=t||Bt(e)):e}},panLinear:_t,panLog:St,panPow:Kt,panSymlog:Ve,zoomLinear:Xt,zoomLog:yt,zoomPow:Zt,zoomSymlog:Dt,encode:function(e,t,n){if(e){let a=this.context.dataflow,r=e.mark.source;a.pulse(r,a.changeset().encode(e,t))}return n!==void 0?n:e},modify:function(e,t,n,a,r,i){let o=this.context.dataflow,u=this.context.data[e],c=u.input,f=o.stamp(),m,g,v=u.changes;if(o._trigger===!1||!(c.value.length||t||a))return 0;if((!v||v.stamp<f)&&(u.changes=v=o.changeset(),v.stamp=f,o.runAfter(()=>{u.modified=!0,o.pulse(c,v).run()},!0,1)),n&&(m=n===!0?Z:Ee(n)||nu(n)?n:_I(n),v.remove(m)),t&&v.insert(t),a&&(m=_I(a),c.value.some(m)?v.remove(m):v.insert(a)),r)for(g in i)v.modify(r,g,i[g]);return 1},lassoAppend:function(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,r=(e=Ce(e))[e.length-1];return r===void 0||Math.hypot(r[0]-t,r[1]-n)>a?[...e,[t,n]]:e},lassoPath:function(e){return Ce(e).reduce((t,n,a)=>{let[r,i]=n;return t+(a==0?`M ${r},${i} `:a===e.length-1?" Z":`L ${r},${i} `)},"")},intersectLasso:function(e,t,n){let{x:a,y:r,mark:i}=n,o=new Rn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[u,c]of t)u<o.x1&&(o.x1=u),u>o.x2&&(o.x2=u),c<o.y1&&(o.y1=c),c>o.y2&&(o.y2=c);return o.translate(a,r),TI([[o.x1,o.y1],[o.x2,o.y2]],e,i).filter(u=>function(c,f,m){let g=0;for(let v=0,E=m.length-1;v<m.length;E=v++){let[k,_]=m[E],[R,O]=m[v];O>f!=_>f&&c<(k-R)*(f-O)/(_-O)+R&&g++}return 1&g}(u.x,u.y,t))}},w$=["view","item","group","xy","x","y"],_$="event.vega.",CI="this.",dS={},RI={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${it(yI+e)}]`,functions:function(e){let t=cI(e);w$.forEach(n=>t[n]=_$+n);for(let n in jb)t[n]=CI+n;return pt(t,b$(e,jb,dS)),t},constants:uI,visitors:dS},fS=dI(RI);function Kn(e,t,n){return arguments.length===1?jb[e]:(jb[e]=t,n&&(dS[e]=n),fS&&(fS.functions[e]=CI+e),this)}function Os(e,t){let n={},a;try{a=lI(e=Mt(e)?e:it(e)+"")}catch{F("Expression parse error: "+e)}a.visit(i=>{if(i.type!==YN)return;let o=i.callee.name,u=RI.visitors[o];u&&u(o,i.arguments,t,n)});let r=fS(a);return r.globals.forEach(i=>{let o=yI+i;!et(n,o)&&t.getSignal(i)&&(n[o]=t.signalRef(i))}),{$expr:pt({code:r.code},t.options.ast?{ast:a}:null),$fields:r.fields,$params:n}}Kn("bandwidth",function(e,t){let n=Rl(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0},Hr),Kn("copy",function(e,t){let n=Rl(e,(t||this).context);return n?n.copy():void 0},Hr),Kn("domain",function(e,t){let n=Rl(e,(t||this).context);return n?n.domain():[]},Hr),Kn("range",function(e,t){let n=Rl(e,(t||this).context);return n&&n.range?n.range():[]},Hr),Kn("invert",function(e,t,n){let a=Rl(e,(n||this).context);return a?Ee(t)?(a.invertRange||a.invert)(t):(a.invert||a.invertExtent)(t):void 0},Hr),Kn("scale",function(e,t,n){let a=Rl(e,(n||this).context);return a?a(t):void 0},Hr),Kn("gradient",function(e,t,n,a,r){e=Rl(e,(r||this).context);let i=ut(t,n),o=e.domain(),u=o[0],c=Pe(o),f=Q;return c-u?f=rd(e,u,c):e=(e.interpolator?Pt("sequential")().interpolator(e.interpolator()):Pt("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,c=1]),e.ticks&&(o=e.ticks(+a||15),u!==o[0]&&o.unshift(u),c!==Pe(o)&&o.push(c)),o.forEach(m=>i.stop(f(m),e(m))),i},Hr),Kn("geoArea",y$,Hr),Kn("geoBounds",v$,Hr),Kn("geoCentroid",E$,Hr),Kn("geoShape",function(e,t,n){let a=Rl(e,(n||this).context);return function(r){return a?a.path.context(r)(t):""}},Hr),Kn("indata",function(e,t,n){let a=this.context.data[e]["index:"+t],r=a?a.value.get(n):void 0;return r&&r.count},function(e,t,n,a){t[0].type!==Xp&&F("First argument to indata must be a string literal."),t[1].type!==Xp&&F("Second argument to indata must be a string literal.");let r=t[0].value,i=t[1].value,o=g$+i;et(o,a)||(a[o]=n.getData(r).indataRef(n,i))}),Kn("data",gI,rS),Kn("treePath",function(e,t,n){let a=SI(e,this),r=a[t],i=a[n];return r&&i?r.path(i).map(xI):void 0},rS),Kn("treeAncestors",function(e,t){let n=SI(e,this)[t];return n?n.ancestors().map(xI):void 0},rS),Kn("vlSelectionTest",function(e,t,n){for(var a,r,i,o,u,c=this.context.data[e],f=c?c.values.value:[],m=c?c[tw]&&c[tw].value:void 0,g=n===eS,v=f.length,E=0;E<v;++E)if(a=f[E],m&&g){if((i=(r=r||{})[o=a.unit]||0)===-1)continue;if(u=hI(t,a),r[o]=u?-1:++i,u&&m.size===1)return!0;if(!u&&i===m.get(o).count)return!1}else if(g^(u=hI(t,a)))return u;return v&&g},nS),Kn("vlSelectionIdTest",function(e,t,n){let a=this.context.data[e],r=a?a.values.value:[],i=a?a[tw]&&a[tw].value:void 0,o=n===eS,u=zb(t),c=s$(r,u);if(c===r.length||zb(r[c])!==u)return!1;if(i&&o){if(i.size===1)return!0;if(l$(r,u)-c<i.size)return!1}return!0},nS),Kn("vlSelectionResolve",function(e,t,n,a){for(var r,i,o,u,c,f,m,g,v,E,k,_,R=this.context.data[e],O=R?R.values.value:[],N={},$={},M={},U=O.length,z=0;z<U;++z)if(u=(r=O[z]).unit,i=r.fields,o=r.values,i&&o){for(k=0,_=i.length;k<_;++k)c=i[k],g=(m=N[c.field]||(N[c.field]={}))[u]||(m[u]=[]),M[c.field]=v=c.type.charAt(0),E=tS[`${v}_union`],m[u]=E(g,Ce(o[k]));n&&(g=$[u]||($[u]=[])).push(Ce(o).reduce((q,Y,K)=>(q[i[K].field]=Y,q),{}))}else c=Is,f=zb(r),(g=(m=N[c]||(N[c]={}))[u]||(m[u]=[])).push(f),n&&(g=$[u]||($[u]=[])).push({[Is]:f});return t=t||fI,N[Is]?N[Is]=tS[`${Is}_${t}`](...Object.values(N[Is])):Object.keys(N).forEach(q=>{N[q]=Object.keys(N[q]).map(Y=>N[q][Y]).reduce((Y,K)=>Y===void 0?K:tS[`${M[q]}_${t}`](Y,K))}),O=Object.keys($),n&&O.length&&(N[a?e$:QP]=t===fI?{[pI]:O.reduce((q,Y)=>(q.push(...$[Y]),q),[])}:{[t$]:O.map(q=>({[pI]:$[q]}))}),N},nS),Kn("vlSelectionTuples",function(e,t){return e.map(n=>pt(t.fields?{values:t.fields.map(a=>(a.getter||(a.getter=W(a.field)))(n.datum))}:{[Is]:zb(n.datum)},t))});let k$=rr(["rule"]),NI=rr(["group","image","rect"]);function pS(e){return(e+"").toLowerCase()}function Hb(e,t,n){n.endsWith(";")||(n="return("+n+");");let a=Function(...t.concat(n));return e&&e.functions?a.bind(e.functions):a}var x$={operator:(e,t)=>Hb(e,["_"],t.code),parameter:(e,t)=>Hb(e,["datum","_"],t.code),event:(e,t)=>Hb(e,["event"],t.code),handler:(e,t)=>Hb(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{let{marktype:n,channels:a}=t,r="var o=item,datum=o.datum,m=0,$;";for(let i in a){let o="o["+it(i)+"]";r+=`$=${a[i].code};if(${o}!==$)${o}=$,m=1;`}return r+=function(i,o){let u="";return k$[o]||(i.x2&&(i.x?(NI[o]&&(u+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),u+="o.width=o.x2-o.x;"):u+="o.x=o.x2-(o.width||0);"),i.xc&&(u+="o.x=o.xc-(o.width||0)/2;"),i.y2&&(i.y?(NI[o]&&(u+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),u+="o.height=o.y2-o.y;"):u+="o.y=o.y2-(o.height||0);"),i.yc&&(u+="o.y=o.yc-(o.height||0)/2;")),u}(a,n),r+="return m;",Hb(e,["item","_"],r)},codegen:{get(e){let t=`[${e.map(it).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n,a=Function("a","b","var u, v; return "+e.map((r,i)=>{let o=t[i],u,c;return r.path?(u=`a${r.path}`,c=`b${r.path}`):((n=n||{})["f"+i]=r,u=`this.f${i}(a)`,c=`this.f${i}(b)`),function(f,m,g,v){return`((u = ${f}) < (v = ${m}) || u == null) && v != null ? ${g}
  : (u > v || v == null) && u != null ? ${v}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${g}
  : v !== v && u === u ? ${v} : `}(u,c,-o,o)}).join("")+"0;");return n?a.bind(n):a}}};function II(e,t,n){if(!e||!ye(e))return e;for(let a,r=0,i=OI.length;r<i;++r)if(a=OI[r],et(e,a.key))return a.parse(e,t,n);return e}var OI=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||F("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){let n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=ki(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);let a="e:"+e.$expr.code;return t.fn[a]||(t.fn[a]=b(t.parameterExpression(e.$expr),e.$fields))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;let n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=W(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){let n=e.$encode,a={};for(let r in n){let i=n[r];a[r]=b(t.encodeExpression(i.$expr),i.$fields),a[r].output=i.$output}return a}},{key:"$compare",parse:function(e,t){let n="c:"+e.$compare+"_"+e.$order,a=Ce(e.$compare).map(r=>r&&r.$tupleid?at:r);return t.fn[n]||(t.fn[n]=Ml(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){let n=e.$subflow;return function(a,r,i){let o=t.fork().parse(n),u=o.get(n.operators[0].id),c=o.signals.parent;return c&&c.set(i),u.detachSubflow=()=>t.detach(o),u}}},{key:"$tupleid",parse:function(){return at}}];let S$={skip:!0};function DI(e,t,n,a){return new MI(e,t,n,a)}function MI(e,t,n,a){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=a||x$,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function LI(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function FI(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}MI.prototype=LI.prototype={fork(){let e=new LI(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);let t=Object.keys(e.nodes);for(let n of t)e.nodes[n]._targets=null;for(let n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){let n=this,a=n.dataflow,r=e.value;if(n.set(e.id,t),function(i){return pS(i)==="collect"}(e.type)&&r&&(r.$ingest?a.ingest(t,r.$ingest,r.$format):r.$request?a.preload(t,r.$request,r.$format):a.pulse(t,a.changeset().insert(r))),e.root&&(n.root=t),e.parent){let i=n.get(e.parent.$ref);i?(a.connect(i,[t]),t.targets().add(i)):(n.unresolved=n.unresolved||[]).push(()=>{i=n.get(e.parent.$ref),a.connect(i,[t]),t.targets().add(i)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(let i in e.data){let o=n.data[i]||(n.data[i]={});e.data[i].forEach(u=>o[u]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[pS(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,a,r){this.dataflow.on(t,n,a,r,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){let t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(a=>t.parseOperator(a)),n.forEach(a=>t.parseOperatorParameters(a)),(e.streams||[]).forEach(a=>t.parseStream(a)),(e.updates||[]).forEach(a=>t.parseUpdate(a)),t.resolve()},parseOperator:function(e){let t=this;!function(n){return pS(n)==="operator"}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){let t=this;if(e.params){let n=t.get(e.id);n||F("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};let n=this;for(let a in e){let r=e[a];t[a]=Ee(r)?r.map(i=>II(i,n,t)):II(r,n,t)}return t},parseStream:function(e){var t,n=this,a=e.filter!=null?n.eventExpression(e.filter):void 0,r=e.stream!=null?n.get(e.stream):void 0;e.source?r=n.events(e.source,e.type,a):e.merge&&(r=(t=e.merge.map(i=>n.get(i)))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map(i=>n.get(i)),r=r.between(t[0],t[1])),e.filter&&(r=r.filter(a)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&F("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),n.stream(e,r)},parseUpdate:function(e){var t,n=this,a=ye(a=e.source)?a.$ref:a,r=n.get(a),i=e.update,o=void 0;r||F("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),i&&i.$expr&&(i.$params&&(o=n.parseParameters(i.$params)),i=n.handlerExpression(i.$expr)),n.update(e,r,t,i,o)},getState:function(e){var t=this,n={};if(e.signals){var a=n.signals={};Object.keys(t.signals).forEach(i=>{let o=t.signals[i];e.signals(i,o)&&(a[i]=o.value)})}if(e.data){var r=n.data={};Object.keys(t.data).forEach(i=>{let o=t.data[i];e.data(i,o)&&(r[i]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(i=>i.getState(e))),n},setState:function(e){var t=this,n=t.dataflow,a=e.data,r=e.signals;Object.keys(r||{}).forEach(i=>{n.update(t.signals[i],r[i],S$)}),Object.keys(a||{}).forEach(i=>{n.pulse(t.data[i].input,n.changeset().remove(Z).insert(a[i]))}),(e.subcontext||[]).forEach((i,o)=>{let u=t.subcontext[o];u&&u.setState(i)})}};let hS="default";function mS(e,t){let n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function rw(e,t){var n=e._runtime.data;return et(n,t)||F("Unrecognized data set: "+t),n[t]}function iw(e,t){iu(t)||F("Second argument to changes must be a changeset.");let n=rw(this,e);return n.modified=!0,this.pulse(n.input,t)}function PI(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function $I(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function ow(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function A$(e,t,n){var a,r,i=e._renderer,o=i&&i.canvas();return o&&(r=ow(e),(a=Ov(t.changedTouches?t.changedTouches[0]:t,o))[0]-=r[0],a[1]-=r[1]),t.dataflow=e,t.item=n,t.vega=function(u,c,f){let m=c?c.mark.marktype==="group"?c:c.mark.group:null;function g(E){var k,_=m;if(E){for(k=c;k;k=k.mark.group)if(k.mark.name===E){_=k;break}}return _&&_.mark&&_.mark.interactive?_:{}}function v(E){if(!E)return f;Mt(E)&&(E=g(E));let k=f.slice();for(;E;)k[0]-=E.x||0,k[1]-=E.y||0,E=E.mark&&E.mark.group;return k}return{view:dn(u),item:dn(c||{}),group:g,xy:v,x:E=>v(E)[0],y:E=>v(E)[1]}}(e,n,a),t}let BI="view",T$="timer",C$="window",R$={trap:!1};function UI(e,t,n,a){e._eventListeners.push({type:n,sources:Ce(t),handler:a})}function sw(e,t,n){let a=e._eventConfig&&e._eventConfig[t];return!(a===!1||ye(a)&&!a[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function zI(e){return e.item}function GI(e){return e.item.mark.source}function jI(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function yi(e,t,n){let a=document.createElement(e);for(let r in t)a.setAttribute(r,t[r]);return n!=null&&(a.textContent=n),a}let N$="vega-bind",I$="vega-bind-name",O$="vega-bind-radio";function D$(e,t,n,a){let r=n.event||"input",i=()=>e.update(t.value);a.signal(n.signal,t.value),t.addEventListener(r,i),UI(a,t,r,i),e.set=o=>{t.value=o,t.dispatchEvent(function(u){return typeof Event<"u"?new Event(u):{type:u}}(r))}}function M$(e,t,n,a){let r=a.signal(n.signal),i=yi("div",{class:N$}),o=n.input==="radio"?i:i.appendChild(yi("label"));o.appendChild(yi("span",{class:I$},n.name||n.signal)),t.appendChild(i);let u=L$;switch(n.input){case"checkbox":u=F$;break;case"select":u=P$;break;case"radio":u=$$;break;case"range":u=B$}u(e,o,n,r)}function L$(e,t,n,a){let r=yi("input");for(let i in n)i!=="signal"&&i!=="element"&&r.setAttribute(i==="input"?"type":i,n[i]);r.setAttribute("name",n.signal),r.value=a,t.appendChild(r),r.addEventListener("input",()=>e.update(r.value)),e.elements=[r],e.set=i=>r.value=i}function F$(e,t,n,a){let r={type:"checkbox",name:n.signal};a&&(r.checked=!0);let i=yi("input",r);t.appendChild(i),i.addEventListener("change",()=>e.update(i.checked)),e.elements=[i],e.set=o=>i.checked=!!o||null}function P$(e,t,n,a){let r=yi("select",{name:n.signal}),i=n.labels||[];n.options.forEach((o,u)=>{let c={value:o};lw(o,a)&&(c.selected=!0),r.appendChild(yi("option",c,(i[u]||o)+""))}),t.appendChild(r),r.addEventListener("change",()=>{e.update(n.options[r.selectedIndex])}),e.elements=[r],e.set=o=>{for(let u=0,c=n.options.length;u<c;++u)if(lw(n.options[u],o))return void(r.selectedIndex=u)}}function $$(e,t,n,a){let r=yi("span",{class:O$}),i=n.labels||[];t.appendChild(r),e.elements=n.options.map((o,u)=>{let c={type:"radio",name:n.signal,value:o};lw(o,a)&&(c.checked=!0);let f=yi("input",c);f.addEventListener("change",()=>e.update(o));let m=yi("label",{},(i[u]||o)+"");return m.prepend(f),r.appendChild(m),f}),e.set=o=>{let u=e.elements,c=u.length;for(let f=0;f<c;++f)lw(u[f].value,o)&&(u[f].checked=!0)}}function B$(e,t,n,a){a=a!==void 0?a:(+n.max+ +n.min)/2;let r=n.max!=null?n.max:Math.max(100,+a)||100,i=n.min||Math.min(0,r,+a)||0,o=n.step||Ai(i,r,100),u=yi("input",{type:"range",name:n.signal,min:i,max:r,step:o});u.value=a;let c=yi("span",{},+a);t.appendChild(u),t.appendChild(c);let f=()=>{c.textContent=u.value,e.update(+u.value)};u.addEventListener("input",f),u.addEventListener("change",f),e.elements=[u],e.set=m=>{u.value=m,c.textContent=m}}function lw(e,t){return e===t||e+""==t+""}function HI(e,t,n,a,r,i){return(t=t||new a(e.loader())).initialize(n,PI(e),$I(e),ow(e),r,i).background(e.background())}function gS(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function bS(e,t,n){if(typeof t=="string"){if(typeof document>"u")return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.textContent=""}catch(a){t=null,e.error(a)}return t}let qb=e=>+e||0,U$=e=>({top:e,bottom:e,left:e,right:e});function qI(e){return ye(e)?{top:qb(e.top),bottom:qb(e.bottom),left:qb(e.left),right:qb(e.right)}:U$(qb(e))}async function yS(e,t,n,a){let r=jv(t),i=r&&r.headless;return i||F("Unrecognized renderer type: "+t),await e.runAsync(),HI(e,null,null,i,n,a).renderAsync(e._scenegraph.root)}var WI="width",VI="height",vS="padding",YI={skip:!0};function KI(e,t){var n=e.autosize(),a=e.padding();return t-(n&&n.contains===vS?a.left+a.right:0)}function XI(e,t){var n=e.autosize(),a=e.padding();return t-(n&&n.contains===vS?a.top+a.bottom:0)}function z$(e,t){return t.modified&&Ee(t.input.value)&&e.indexOf("_:vega:_")}function G$(e,t){return!(e==="parent"||t instanceof Js.proxy)}function j$(e,t,n,a){let r=e.element();r&&r.setAttribute("title",function(i){return i==null?"":Ee(i)?ZI(i):ye(i)&&!En(i)?(o=i,Object.keys(o).map(u=>{let c=o[u];return u+": "+(Ee(c)?ZI(c):JI(c))}).join(`
`)):i+"";var o}(a))}function ZI(e){return"["+e.map(JI).join(", ")+"]"}function JI(e){return Ee(e)?"[\u2026]":ye(e)&&!En(e)?"{\u2026}":e}function QI(e,t){let n=this;if(t=t||{},Zs.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){let i=pt({},e.locale,t.locale);n.locale(Xh(i.number,i.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Lu.Canvas,n._scenegraph=new L1;let a=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||j$,n._redraw=!0,n._handler=new rb().scene(a),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(i){let o=pt({defaults:{}},i),u=(c,f)=>{f.forEach(m=>{Ee(c[m])&&(c[m]=rr(c[m]))})};return u(o.defaults,["prevent","allow"]),u(o,["view","window","selector"]),o}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);let r=function(i,o,u){return DI(i,Js,jb,u).parse(o)}(n,e,t.expr);n._runtime=r,n._signals=r.signals,n._bind=(e.bindings||[]).map(i=>({state:null,param:pt({},i)})),r.root&&r.root.set(a),a.source=r.data.root.input,n.pulse(r.data.root.input,n.changeset().insert(a.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=KI(n,n._width),n._viewHeight=XI(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(i){var o=i._signals,u=o[WI],c=o[VI],f=o[vS];function m(){i._autosize=i._resize=1}i._resizeWidth=i.add(null,v=>{i._width=v.size,i._viewWidth=KI(i,v.size),m()},{size:u}),i._resizeHeight=i.add(null,v=>{i._height=v.size,i._viewHeight=XI(i,v.size),m()},{size:c});let g=i.add(null,m,{pad:f});i._resizeWidth.rank=u.rank+1,i._resizeHeight.rank=c.rank+1,g.rank=f.rank+1}(n),function(i){i.add(null,o=>(i._background=o.bg,i._resize=1,o.bg),{bg:i._signals.background})}(n),function(i){let o=i._signals.cursor||(i._signals.cursor=i.add({user:hS,item:null}));i.on(i.events("view","mousemove"),o,(u,c)=>{let f=o.value,m=f?Mt(f)?f:f.user:hS,g=c.item&&c.item.cursor||null;return f&&m===f.user&&g==f.item?f:{user:m,item:g}}),i.add(null,function(u){let c=u.cursor,f=this.value;return Mt(c)||(f=c.item,c=c.user),mS(i,c&&c!==hS?c:f||c),f},{cursor:o})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function uw(e,t){return et(e._signals,t)?e._signals[t]:F("Unrecognized signal name: "+it(t))}function eO(e,t){let n=(e._targets||[]).filter(a=>a._update&&a._update.handler===t);return n.length?n[0]:null}function tO(e,t,n,a){let r=eO(n,a);return r||(r=gS(e,()=>a(t,n.value)),r.handler=a,e.on(n,null,r)),e}function nO(e,t,n){let a=eO(t,n);return a&&t._targets.remove(a),e}Me(QI,Zs,{async evaluate(e,t,n){if(await Zs.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,function(a){var r=ow(a),i=PI(a),o=$I(a);a._renderer.background(a.background()),a._renderer.resize(i,o,r),a._handler.origin(r),a._resizeListeners.forEach(u=>{try{u(i,o)}catch(c){a.error(c)}})}(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(a){this.error(a)}return n&&mn(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){let t=e!=null?e+"":null;return t!==this._desc&&FI(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){let a=uw(this,e);return arguments.length===1?a.value:this.update(a,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",qI(e)):qI(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(jv(e)||F("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Zs.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(uw(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,a,r,i){this.runAfter(o=>{let u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal(WI,n,YI),o._resizeWidth.skip(!0)),o.height()!==a&&(u=1,o.signal(VI,a,YI),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===r[0]&&o._origin[1]===r[1]||(o._resize=1,o._origin=r),u&&o.run("enter"),i&&o.runAfter(c=>c.resize())},!1,1)},addEventListener(e,t,n){let a=t;return n&&n.trap===!1||(a=gS(this,t),a.raw=t),this._handler.on(e,a),this},removeEventListener(e,t){for(var n,a,r=this._handler.handlers(e),i=r.length;--i>=0;)if(a=r[i].type,n=r[i].handler,e===a&&(t===n||t===n.raw)){this._handler.off(a,n);break}return this},addResizeListener(e){let t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return tO(this,e,uw(this,e),t)},removeSignalListener(e,t){return nO(this,uw(this,e),t)},addDataListener(e,t){return tO(this,e,rw(this,e).values,t)},removeDataListener(e,t){return nO(this,rw(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){let t=mS(this,null);this._globalCursor=!!e,t&&mS(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(n,a,r){var i=new FE,o=a;return a==null?(i.restart(n,a,r),i):(i._restart=i.restart,i.restart=function(u,c,f){c=+c,f=f==null?sx():+f,i._restart(function m(g){g+=o,i._restart(m,o+=c,f),u(g)},c,f)},i.restart(n,a,r),i)}(function(n){e({timestamp:Date.now(),elapsed:n})},t))},events:function(e,t,n){var a,r=this,i=new Pi(n),o=function(f,m){r.runAsync(null,()=>{e===BI&&function(g,v){var E=g._eventConfig.defaults,k=E.prevent,_=E.allow;return k!==!1&&_!==!0&&(k===!0||_===!1||(k?k[v]:_?!_[v]:g.preventDefault()))}(r,t)&&f.preventDefault(),i.receive(A$(r,f,m))})};if(e===T$)sw(r,"timer",t)&&r.timer(o,t);else if(e===BI)sw(r,"view",t)&&r.addEventListener(t,o,R$);else if(e===C$?sw(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&sw(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),a){for(var u=0,c=a.length;u<c;++u)a[u].addEventListener(t,o);UI(r,a,t,o)}else r.warn("Can not resolve event source: "+e);return i},finalize:function(){var e,t,n,a=this._tooltip,r=this._timers,i=this._eventListeners;for(e=r.length;--e>=0;)r[e].stop();for(e=i.length;--e>=0;)for(t=(n=i[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return a&&a.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",zI),GI,jI(e)),this.on(this.events("view","mouseout",zI),GI,jI(t)),this},data:function(e,t){return arguments.length<2?rw(this,e).values.value:iw.call(this,e,ss().remove(Z).insert(t))},change:iw,insert:function(e,t){return iw.call(this,e,ss().insert(t))},remove:function(e,t){return iw.call(this,e,ss().remove(t))},scale:function(e){var t=this._runtime.scales;return et(t,e)||F("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){let n=this,a=n._renderType,r=n._eventConfig.bind,i=jv(a);e=n._el=e?bS(n,e,!0):null,function(c){let f=c.container();f&&(f.setAttribute("role","graphics-document"),f.setAttribute("aria-roleDescription","visualization"),FI(f,c.description()))}(n),i||n.error("Unrecognized renderer type: "+a);let o=i.handler||rb,u=e?i.renderer:i.headless;return n._renderer=u?HI(n,n._renderer,e,u):null,n._handler=function(c,f,m,g){let v=new g(c.loader(),gS(c,c.tooltip())).scene(c.scenegraph().root).initialize(m,ow(c),c);return f&&f.handlers().forEach(E=>{v.on(E.type,E.handler)}),v}(n,n._handler,e,o),n._redraw=!0,e&&r!=="none"&&(t=t?n._elBind=bS(n,t,!0):e.appendChild(yi("form",{class:"vega-bindings"})),n._bind.forEach(c=>{c.param.element&&r!=="container"&&(c.element=bS(n,c.param.element,!!c.param.input))}),n._bind.forEach(c=>{(function(f,m,g){if(!m)return;let v=g.param,E=g.state;E||(E=g.state={elements:null,active:!1,set:null,update:k=>{k!=f.signal(v.signal)&&f.runAsync(null,()=>{E.source=!0,f.signal(v.signal,k)})}},v.debounce&&(E.update=Ko(v.debounce,E.update))),(v.input==null&&v.element?D$:M$)(E,m,v,f),E.active||(f.on(f._signals[v.signal],null,()=>{E.source?E.source=!1:E.set(f.signal(v.signal))}),E.active=!0)})(n,c.element||t,c)})),n},toImageURL:async function(e,t){e!==Lu.Canvas&&e!==Lu.SVG&&e!==Lu.PNG&&F("Unrecognized image type: "+e);let n=await yS(this,e,t);return e===Lu.SVG?function(a,r){let i=new Blob([a],{type:r});return window.URL.createObjectURL(i)}(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await yS(this,Lu.Canvas,e,t)).canvas()},toSVG:async function(e){return(await yS(this,Lu.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:z$,signals:G$,recurse:!0})},setState:function(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}});let H$="view",cw="[",dw="]",aO="{",rO="}",q$=":",iO=",",W$="@",V$=">",Y$=/[[\]{}]/,K$={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oO,sO;function lO(e,t,n){return oO=t||H$,sO=n||K$,uO(e.trim()).map(ES)}function Wb(e,t,n,a,r){let i=e.length,o,u=0;for(;t<i;++t){if(o=e[t],!u&&o===n)return t;r&&r.indexOf(o)>=0?--u:a&&a.indexOf(o)>=0&&++u}return t}function uO(e){let t=[],n=e.length,a=0,r=0;for(;r<n;)r=Wb(e,r,iO,cw+aO,dw+rO),t.push(e.substring(a,r).trim()),a=++r;if(t.length===0)throw"Empty event selector: "+e;return t}function ES(e){return e[0]==="["?function(t){let n=t.length,a,r=1;if(r=Wb(t,r,dw,cw,dw),r===n)throw"Empty between selector: "+t;if(a=uO(t.substring(1,r)),a.length!==2)throw"Between selector must have two elements: "+t;if(t=t.slice(r+1).trim(),t[0]!==V$)throw"Expected '>' after between selector: "+t;a=a.map(ES);let i=ES(t.slice(1).trim());return i.between?{between:a,stream:i}:(i.between=a,i)}(e):function(t){let n={source:oO},a=[],r,i,o=[0,0],u=0,c=0,f=t.length,m=0;if(t[f-1]===rO){if(m=t.lastIndexOf(aO),!(m>=0))throw"Unmatched right brace: "+t;try{o=function(g){let v=g.split(iO);if(!g.length||v.length>2)throw g;return v.map(E=>{let k=+E;if(k!=k)throw g;return k})}(t.substring(m+1,f-1))}catch{throw"Invalid throttle specification: "+t}f=(t=t.slice(0,m).trim()).length,m=0}if(!f)throw t;if(t[0]===W$&&(u=++m),r=Wb(t,m,q$),r<f&&(a.push(t.substring(c,r).trim()),c=m=++r),m=Wb(t,m,cw),m===f)a.push(t.substring(c,f).trim());else if(a.push(t.substring(c,m).trim()),i=[],c=++m,c===f)throw"Unmatched left bracket: "+t;for(;m<f;){if(m=Wb(t,m,dw),m===f)throw"Unmatched left bracket: "+t;if(i.push(t.substring(c,m).trim()),m<f-1&&t[++m]!==cw)throw"Expected left bracket: "+t;c=++m}if(!(f=a.length)||Y$.test(a[f-1]))throw"Invalid event selector: "+t;return f>1?(n.type=a[1],u?n.markname=a[0].slice(1):function(g){return sO[g]}(a[0])?n.marktype=a[0]:n.source=a[0]):n.type=a[0],n.type.slice(-1)==="!"&&(n.consume=!0,n.type=n.type.slice(0,-1)),i!=null&&(n.filter=i),o[0]&&(n.throttle=o[0]),o[1]&&(n.debounce=o[1]),n}(e)}function X$(e){return ye(e)?e:{type:e||"pad"}}let Vb=e=>+e||0,Z$=e=>({top:e,bottom:e,left:e,right:e});function J$(e){return ye(e)?e.signal?e:{top:Vb(e.top),bottom:Vb(e.bottom),left:Vb(e.left),right:Vb(e.right)}:Z$(Vb(e))}let ba=e=>ye(e)&&!Ee(e)?pt({},e):{value:e};function cO(e,t,n,a){return n!=null?(ye(n)&&!Ee(n)||Ee(n)&&n.length&&ye(n[0])?e.update[t]=n:e[a||"enter"][t]={value:n},1):0}function Ma(e,t,n){for(let a in t)cO(e,a,t[a]);for(let a in n)cO(e,a,n[a],"update")}function Zp(e,t,n){for(let a in t)n&&et(n,a)||(e[a]=pt(e[a]||{},t[a]));return e}function Jp(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}let wS="mark",_S="frame",kS="scope",Q$="axis",eB="axis-domain",tB="axis-grid",nB="axis-label",aB="axis-tick",rB="axis-title",iB="legend",oB="legend-band",sB="legend-entry",lB="legend-gradient",dO="legend-label",uB="legend-symbol",cB="legend-title",dB="title",fB="title-text",pB="title-subtitle";function xS(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}let fO=e=>Mt(e)?it(e):e.signal?`(${e.signal})`:pO(e);function fw(e){if(e.gradient!=null)return function(n){let a=[n.start,n.stop,n.count].map(r=>r==null?null:it(r));for(;a.length&&Pe(a)==null;)a.pop();return a.unshift(fO(n.gradient)),`gradient(${a.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(n){return n.c?pw("hcl",n.h,n.c,n.l):n.h||n.s?pw("hsl",n.h,n.s,n.l):n.l||n.a?pw("lab",n.l,n.a,n.b):n.r||n.g||n.b?pw("rgb",n.r,n.g,n.b):null}(e.color):e.field!=null?pO(e.field):e.value!==void 0?it(e.value):void 0;return e.scale!=null&&(t=function(n,a){let r=fO(n.scale);return n.range!=null?a=`lerp(_range(${r}), ${+n.range})`:(a!==void 0&&(a=`_scale(${r}, ${a})`),n.band&&(a=(a?a+"+":"")+`_bandwidth(${r})`+(+n.band==1?"":"*"+hw(n.band)),n.extra&&(a=`(datum.extra ? _scale(${r}, datum.extra.value) : ${a})`)),a==null&&(a="0")),a}(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${hw(e.exponent)})`),e.mult!=null&&(t+=`*${hw(e.mult)}`),e.offset!=null&&(t+=`+${hw(e.offset)}`),e.round&&(t=`round(${t})`),t}let pw=(e,t,n,a)=>`(${e}(${[t,n,a].map(fw).join(",")})+'')`;function hw(e){return ye(e)?"("+fw(e)+")":e}function pO(e){return hO(ye(e)?e:{datum:e})}function hO(e){let t,n,a;if(e.signal)t="datum",a=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(a=e.parent,t+=".datum"):a=e.group}else e.datum?(t="datum",a=e.datum):F("Invalid field reference: "+it(e));return e.signal||(a=Mt(a)?j(a).map(it).join("]["):hO(a)),t+"["+a+"]"}function mO(e,t,n,a,r,i){let o={};(i=i||{}).encoders={$encode:o},e=function(u,c,f,m,g){let v={},E={},k,_,R,O;for(_ in _="lineBreak",c!=="text"||g[_]==null||Jp(_,u)||xS(v,_,g[_]),(f=="legend"||String(f).startsWith("axis"))&&(f=null),O=f===_S?g.group:f===wS?pt({},g.mark,g[c]):null,O)R=Jp(_,u)||(_==="fill"||_==="stroke")&&(Jp("fill",u)||Jp("stroke",u)),R||xS(v,_,O[_]);for(_ in Ce(m).forEach(N=>{let $=g.style&&g.style[N];for(let M in $)Jp(M,u)||xS(v,M,$[M])}),u=pt({},u),v)O=v[_],O.signal?(k=k||{})[_]=O:E[_]=O;return u.enter=pt(E,u.enter),k&&(u.update=pt(k,u.update)),u}(e,t,n,a,r.config);for(let u in e)o[u]=hB(e[u],t,i,r);return i}function hB(e,t,n,a){let r={},i={};for(let u in e)e[u]!=null&&(r[u]=mB((o=e[u],Ee(o)?function(c){let f="";return c.forEach(m=>{let g=fw(m);f+=m.test?`(${m.test})?${g}:`:g}),Pe(f)===":"&&(f+="null"),f}(o):fw(o)),a,n,i));var o;return{$expr:{marktype:t,channels:r},$fields:Object.keys(i),$output:Object.keys(e)}}function mB(e,t,n,a){let r=Os(e,t);return r.$fields.forEach(i=>a[i]=1),pt(n,r.$params),r.$expr}let gB="outer",bB=["value","update","init","react","bind"];function gO(e,t){F(e+' for "outer" push: '+it(t))}function bO(e,t){let n=e.name;if(e.push===gB)t.signals[n]||gO("No prior signal definition",n),bB.forEach(a=>{e[a]!==void 0&&gO("Invalid property ",a)});else{let a=t.addSignal(n,e.value);e.react===!1&&(a.react=!1),e.bind&&t.addBinding(n,e.bind)}}function SS(e,t,n,a){this.id=-1,this.type=e,this.value=t,this.params=n,a&&(this.parent=a)}function mw(e,t,n,a){return new SS(e,t,n,a)}function gw(e,t){return mw("operator",e,t)}function dt(e){let t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Yb(e,t){return t?{$field:e,$name:t}:{$field:e}}let AS=Yb("key");function yO(e,t){return{$compare:e,$order:t}}let yB="descending";function bw(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}let TS="scope",CS="view";function la(e){return e&&e.signal}function yw(e){if(la(e))return!0;if(ye(e)){for(let t in e)if(yw(e[t]))return!0}return!1}function jo(e,t){return e??t}function wd(e){return e&&e.signal||e}let vO="timer";function Kb(e,t){return(e.merge?vB:e.stream?EB:e.type?wB:F("Invalid stream specification: "+it(e)))(e,t)}function vB(e,t){let n=RS({merge:e.merge.map(a=>Kb(a,t))},e,t);return t.addStream(n).id}function EB(e,t){let n=RS({stream:Kb(e.stream,t)},e,t);return t.addStream(n).id}function wB(e,t){let n;e.type===vO?(n=t.event(vO,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(r){return r===TS?CS:r||CS}(e.source),e.type);let a=RS({stream:n},e,t);return Object.keys(a).length===1?n:t.addStream(a).id}function RS(e,t,n){let a=t.between;return a&&(a.length!==2&&F('Stream "between" parameter must have 2 entries: '+it(t)),e.between=[Kb(a[0],n),Kb(a[1],n)]),a=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&a.push(function(r,i,o){let u="event.item";return u+(r&&r!=="*"?"&&"+u+".mark.marktype==='"+r+"'":"")+(o?"&&"+u+".mark.role==='"+o+"'":"")+(i?"&&"+u+".mark.name==='"+i+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===TS&&a.push("inScope(event.item)"),a.length&&(e.filter=Os("("+a.join(")&&(")+")",n).$expr),(a=t.throttle)!=null&&(e.throttle=+a),(a=t.debounce)!=null&&(e.debounce=+a),t.consume&&(e.consume=!0),e}let _B={code:"_.$value",ast:{type:"Identifier",value:"value"}};function kB(e,t,n){let a=e.encode,r={target:n},i=e.events,o=e.update,u=[];i||F("Signal update missing events specification."),Mt(i)&&(i=lO(i,t.isSubscope()?TS:CS)),i=Ce(i).filter(c=>c.signal||c.scale?(u.push(c),0):1),u.length>1&&(u=[xB(u)]),i.length&&u.push(i.length>1?{merge:i}:i[0]),a!=null&&(o&&F("Signal encode and update are mutually exclusive."),o="encode(item(),"+it(a)+")"),r.update=Mt(o)?Os(o,t):o.expr!=null?Os(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:_B,$params:{$value:t.signalRef(o.signal)}}:F("Invalid signal update specification."),e.force&&(r.options={force:!0}),u.forEach(c=>t.addUpdate(pt(function(f,m){return{source:f.signal?m.signalRef(f.signal):f.scale?m.scaleRef(f.scale):Kb(f,m)}}(c,t),r)))}function xB(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}let nn=e=>(t,n,a)=>mw(e,n,t||void 0,a),EO=nn("aggregate"),SB=nn("axisticks"),wO=nn("bound"),Ho=nn("collect"),_O=nn("compare"),AB=nn("datajoin"),kO=nn("encode"),TB=nn("expression"),CB=nn("facet"),RB=nn("field"),NB=nn("key"),IB=nn("legendentries"),OB=nn("load"),DB=nn("mark"),MB=nn("multiextent"),LB=nn("multivalues"),FB=nn("overlap"),PB=nn("params"),xO=nn("prefacet"),$B=nn("projection"),BB=nn("proxy"),UB=nn("relay"),SO=nn("render"),zB=nn("scale"),_d=nn("sieve"),GB=nn("sortitems"),AO=nn("viewlayout"),jB=nn("values"),HB=0,TO={min:"min",max:"max",count:"sum"};function qB(e,t){let n=t.getScale(e.name).params,a;for(a in n.domain=CO(e.domain,e,t),e.range!=null&&(n.range=NO(e,t,n)),e.interpolate!=null&&function(r,i){i.interpolate=ao(r.type||r),r.gamma!=null&&(i.interpolateGamma=ao(r.gamma))}(e.interpolate,n),e.nice!=null&&(n.nice=function(r){return ye(r)?{interval:ao(r.interval),step:ao(r.step)}:ao(r)}(e.nice)),e.bins!=null&&(n.bins=function(r,i){return r.signal||Ee(r)?vw(r,i):i.objectProperty(r)}(e.bins,t)),e)et(n,a)||a==="name"||(n[a]=ao(e[a],t))}function ao(e,t){return ye(e)?e.signal?t.signalRef(e.signal):F("Unsupported object: "+it(e)):e}function vw(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ao(n,t))}function Ew(e){F("Can not find data set: "+it(e))}function CO(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Ee(e)?WB:e.fields?YB:VB)(e,t,n);t.domainMin==null&&t.domainMax==null||F("No scale domain defined for domainMin/domainMax to override.")}function WB(e,t,n){return e.map(a=>ao(a,n))}function VB(e,t,n){let a=n.getData(e.data);return a||Ew(e.data),ku(t.type)?a.valuesRef(n,e.field,RO(e.sort,!1)):dv(t.type)?a.domainRef(n,e.field):a.extentRef(n,e.field)}function YB(e,t,n){let a=e.data,r=e.fields.reduce((i,o)=>(o=Mt(o)?{data:a,field:o}:Ee(o)||o.signal?function(u,c){let f="_:vega:_"+HB++,m=Ho({});if(Ee(u))m.value={$ingest:u};else if(u.signal){let g="setdata("+it(f)+","+u.signal+")";m.params.input=c.signalRef(g)}return c.addDataPipeline(f,[m,_d({})]),{data:f,field:"data"}}(o,n):o,i.push(o),i),[]);return(ku(t.type)?KB:dv(t.type)?XB:ZB)(e,n,r)}function KB(e,t,n){let a=RO(e.sort,!0),r,i,o=n.map(f=>{let m=t.getData(f.data);return m||Ew(f.data),m.countsRef(t,f.field,a)}),u={groupby:AS,pulse:o};a&&(r=a.op||"count",i=a.field?bw(r,a.field):"count",u.ops=[TO[r]],u.fields=[t.fieldRef(i)],u.as=[i]),r=t.add(EO(u));let c=t.add(Ho({pulse:dt(r)}));return i=t.add(jB({field:AS,sort:t.sortRef(a),pulse:dt(c)})),dt(i)}function RO(e,t){return e&&(e.field||e.op?e.field||e.op==="count"?t&&e.field&&e.op&&!TO[e.op]&&F("Multiple domain scales can not be sorted using "+e.op):F("No field provided for sort aggregate op: "+e.op):ye(e)?e.field="key":e={field:"key"}),e}function XB(e,t,n){let a=n.map(r=>{let i=t.getData(r.data);return i||Ew(r.data),i.domainRef(t,r.field)});return dt(t.add(LB({values:a})))}function ZB(e,t,n){let a=n.map(r=>{let i=t.getData(r.data);return i||Ew(r.data),i.extentRef(t,r.field)});return dt(t.add(MB({extents:a})))}function NO(e,t,n){let a=t.config.range,r=e.range;if(r.signal)return t.signalRef(r.signal);if(Mt(r)){if(a&&et(a,r))return NO(e=pt({},e,{range:a[r]}),t,n);r==="width"?r=[0,{signal:"width"}]:r==="height"?r=ku(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:F("Unrecognized scale range value: "+it(r))}else{if(r.scheme)return n.scheme=Ee(r.scheme)?vw(r.scheme,t):ao(r.scheme,t),r.extent&&(n.schemeExtent=vw(r.extent,t)),void(r.count&&(n.schemeCount=ao(r.count,t)));if(r.step)return void(n.rangeStep=ao(r.step,t));if(ku(e.type)&&!Ee(r))return CO(r,e,t);Ee(r)||F("Unsupported range type: "+it(r))}return r.map(i=>(Ee(i)?vw:ao)(i,t))}function NS(e,t,n){return Ee(e)?e.map(a=>NS(a,t,n)):ye(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:F("Unsupported parameter object: "+it(e)):e}let qo="top",Qp="left",eh="right",qu="bottom",IO="center",JB="vertical",QB="start",eU="end",IS="index",OS="label",tU="offset",th="perc",nU="perc2",ro="value",Xb="guide-label",DS="guide-title",aU="group-title",rU="group-subtitle",OO="symbol",ww="gradient",MS="discrete",LS="size",FS=[LS,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],Zb={name:1,style:1,interactive:1},Ut={value:0},io={value:1},_w="group",DO="rect",PS="rule",iU="symbol",kd="text";function Jb(e){return e.type=_w,e.interactive=e.interactive||!1,e}function qr(e,t){let n=(a,r)=>jo(e[a],jo(t[a],r));return n.isVertical=a=>JB===jo(e.direction,t.direction||(a?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>jo(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>jo(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>jo(e.columns,jo(t.columns,+n.isVertical(!0))),n}function MO(e,t){let n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function kw(e,t,n){return`item.anchor === '${QB}' ? ${e} : item.anchor === '${eU}' ? ${t} : ${n}`}let $S=kw(it(Qp),it(eh),it(IO));function LO(e,t){return t?e?ye(e)?Object.assign({},e,{offset:LO(e.offset,t)}):{value:e,offset:t}:t:e}function vi(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Zp(e.encode,t,Zb)):e.interactive=!1,e}function oU(e,t,n,a){let r=qr(e,n),i=r.isVertical(),o=r.gradientThickness(),u=r.gradientLength(),c,f,m,g,v;i?(f=[0,1],m=[0,0],g=o,v=u):(f=[0,0],m=[1,0],g=u,v=o);let E={enter:c={opacity:Ut,x:Ut,y:Ut,width:ba(g),height:ba(v)},update:pt({},c,{opacity:io,fill:{gradient:t,start:f,stop:m}}),exit:{opacity:Ut}};return Ma(E,{stroke:r("gradientStrokeColor"),strokeWidth:r("gradientStrokeWidth")},{opacity:r("gradientOpacity")}),vi({type:DO,role:lB,encode:E},a)}function sU(e,t,n,a,r){let i=qr(e,n),o=i.isVertical(),u=i.gradientThickness(),c=i.gradientLength(),f,m,g,v,E="";o?(f="y",g="y2",m="x",v="width",E="1-"):(f="x",g="x2",m="y",v="height");let k={opacity:Ut,fill:{scale:t,field:ro}};k[f]={signal:E+"datum."+th,mult:c},k[m]=Ut,k[g]={signal:E+"datum."+nU,mult:c},k[v]=ba(u);let _={enter:k,update:pt({},k,{opacity:io}),exit:{opacity:Ut}};return Ma(_,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),vi({type:DO,role:oB,key:ro,from:r,encode:_},a)}let lU=`datum.${th}<=0?"${Qp}":datum.${th}>=1?"${eh}":"${IO}"`,uU=`datum.${th}<=0?"${qu}":datum.${th}>=1?"${qo}":"middle"`;function FO(e,t,n,a){let r=qr(e,t),i=r.isVertical(),o=ba(r.gradientThickness()),u=r.gradientLength(),c,f,m,g,v=r("labelOverlap"),E="",k={enter:c={opacity:Ut},update:f={opacity:io,text:{field:OS}},exit:{opacity:Ut}};return Ma(k,{fill:r("labelColor"),fillOpacity:r("labelOpacity"),font:r("labelFont"),fontSize:r("labelFontSize"),fontStyle:r("labelFontStyle"),fontWeight:r("labelFontWeight"),limit:jo(e.labelLimit,t.gradientLabelLimit)}),i?(c.align={value:"left"},c.baseline=f.baseline={signal:uU},m="y",g="x",E="1-"):(c.align=f.align={signal:lU},c.baseline={value:"top"},m="x",g="y"),c[m]=f[m]={signal:E+"datum."+th,mult:u},c[g]=f[g]=o,o.offset=jo(e.labelOffset,t.gradientLabelOffset)||0,v=v?{separation:r("labelSeparation"),method:v,order:"datum."+IS}:void 0,vi({type:kd,role:dO,style:Xb,key:ro,from:a,encode:k,overlap:v},n)}function cU(e,t,n,a,r){let i=qr(e,t),o=n.entries,u=!(!o||!o.interactive),c=o?o.name:void 0,f=i("clipHeight"),m=i("symbolOffset"),g={data:"value"},v=`(${r}) ? datum.${tU} : datum.${LS}`,E=f?ba(f):{field:LS},k=`datum.${IS}`,_=`max(1, ${r})`,R,O,N,$,M;E.mult=.5,R={enter:O={opacity:Ut,x:{signal:v,mult:.5,offset:m},y:E},update:N={opacity:io,x:O.x,y:O.y},exit:{opacity:Ut}};let U=null,z=null;e.fill||(U=t.symbolBaseFillColor,z=t.symbolBaseStrokeColor),Ma(R,{fill:i("symbolFillColor",U),shape:i("symbolType"),size:i("symbolSize"),stroke:i("symbolStrokeColor",z),strokeDash:i("symbolDash"),strokeDashOffset:i("symbolDashOffset"),strokeWidth:i("symbolStrokeWidth")},{opacity:i("symbolOpacity")}),FS.forEach(ne=>{e[ne]&&(N[ne]=O[ne]={scale:e[ne],field:ro})});let q=vi({type:iU,role:uB,key:ro,from:g,clip:!!f||void 0,encode:R},n.symbols),Y=ba(m);Y.offset=i("labelOffset"),R={enter:O={opacity:Ut,x:{signal:v,offset:Y},y:E},update:N={opacity:io,text:{field:OS},x:O.x,y:O.y},exit:{opacity:Ut}},Ma(R,{align:i("labelAlign"),baseline:i("labelBaseline"),fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:i("labelLimit")});let K=vi({type:kd,role:dO,style:Xb,key:ro,from:g,encode:R},n.labels);return R={enter:{noBound:{value:!f},width:Ut,height:f?ba(f):Ut,opacity:Ut},exit:{opacity:Ut},update:N={opacity:io,row:{signal:null},column:{signal:null}}},i.isVertical(!0)?($=`ceil(item.mark.items.length / ${_})`,N.row.signal=`${k}%${$}`,N.column.signal=`floor(${k} / ${$})`,M={field:["row",k]}):(N.row.signal=`floor(${k} / ${_})`,N.column.signal=`${k} % ${_}`,M={field:k}),N.column.signal=`(${r})?${N.column.signal}:${k}`,Jb({role:kS,from:a={facet:{data:a,name:"value",groupby:IS}},encode:Zp(R,o,Zb),marks:[q,K],name:c,interactive:u,sort:M})}let BS='item.orient === "left"',US='item.orient === "right"',xw=`(${BS} || ${US})`,dU=`datum.vgrad && ${xw}`,fU=kw('"top"','"bottom"','"middle"'),pU=`datum.vgrad && ${US} ? (${kw('"right"','"left"','"center"')}) : (${xw} && !(datum.vgrad && ${BS})) ? "left" : ${$S}`,hU=`item._anchor || (${xw} ? "middle" : "start")`,mU=`${dU} ? (${BS} ? -90 : 90) : 0`,gU=`${xw} ? (datum.vgrad ? (${US} ? "bottom" : "top") : ${fU}) : "top"`;function bU(e,t){let n;return ye(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+PO(e.path)+")":e.sphere&&(n="geoShape("+PO(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function PO(e){return ye(e)&&e.signal?e.signal:it(e)}function $O(e){let t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===_w?kS:t||wS:t}function yU(e){return{marktype:e.type,name:e.name||void 0,role:e.role||$O(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function vU(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function zS(e,t){let n=am(e.type);n||F("Unrecognized transform type: "+it(e.type));let a=mw(n.type.toLowerCase(),null,BO(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(a)),a.metadata=n.metadata||{},a}function BO(e,t,n){let a={},r=e.params.length;for(let i=0;i<r;++i){let o=e.params[i];a[o.name]=EU(o,t,n)}return a}function EU(e,t,n){let a=e.type,r=t[e.name];return a==="index"?function(i,o,u){return Mt(o.from)||F('Lookup "from" parameter must be a string literal.'),u.getData(o.from).lookupRef(u,o.key)}(0,t,n):r!==void 0?a==="param"?function(i,o,u){let c=o[i.name];return i.array?(Ee(c)||F("Expected an array of sub-parameters. Instead: "+it(c)),c.map(f=>zO(i,f,u))):zO(i,c,u)}(e,t,n):a==="projection"?n.projectionRef(t[e.name]):e.array&&!la(r)?r.map(i=>UO(e,i,n)):UO(e,r,n):void(e.required&&F("Missing required "+it(t.type)+" parameter: "+it(e.name)))}function UO(e,t,n){let a=e.type;if(la(t))return GO(a)?F("Expression references can not be signals."):GS(a)?n.fieldRef(t):jO(a)?n.compareRef(t):n.signalRef(t.signal);{let r=e.expr||GS(a);return r&&wU(t)?n.exprRef(t.expr,t.as):r&&_U(t)?Yb(t.field,t.as):GO(a)?Os(t,n):kU(a)?dt(n.getData(t).values):GS(a)?Yb(t):jO(a)?n.compareRef(t):t}}function zO(e,t,n){let a=e.params.length,r;for(let o=0;o<a;++o){r=e.params[o];for(let u in r.key)if(r.key[u]!==t[u]){r=null;break}if(r)break}r||F("Unsupported parameter: "+it(t));let i=pt(BO(r,t,n),r.key);return dt(n.add(PB(i)))}let wU=e=>e&&e.expr,_U=e=>e&&e.field,kU=e=>e==="data",GO=e=>e==="expr",GS=e=>e==="field",jO=e=>e==="compare";function Sw(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:dt(t.getData(e.data).output)}function xd(e,t,n,a,r){this.scope=e,this.input=t,this.output=n,this.values=a,this.aggregate=r,this.index={}}function HO(e){return Mt(e)?e:null}function qO(e,t,n){let a=bw(n.op,n.field),r;if(t.ops){for(let i=0,o=t.as.length;i<o;++i)if(t.as[i]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function Qb(e,t,n,a,r,i,o){let u=t[n]||(t[n]={}),c=function(v){return ye(v)?(v.order===yB?"-":"+")+bw(v.op,v.field):""}(i),f,m,g=HO(r);if(g!=null&&(e=t.scope,g+=c?"|"+c:"",f=u[g]),!f){let v=i?{field:AS,pulse:t.countsRef(e,r,i)}:{field:e.fieldRef(r),pulse:dt(t.output)};c&&(v.sort=e.sortRef(i)),m=e.add(mw(a,void 0,v)),o&&(t.index[r]=m),f=dt(m),g!=null&&(u[g]=f)}return f}function WO(e,t,n){let a=e.remove,r=e.insert,i=e.toggle,o=e.modify,u=e.values,c=t.add(gw()),f=Os("if("+e.trigger+',modify("'+n+'",'+[r,a,i,o,u].map(m=>m??"null").join(",")+"),0)",t);c.update=f.$expr,c.params=f.$params}function Aw(e,t){let n=$O(e),a=e.type===_w,r=e.from&&e.from.facet,i=e.overlap,o,u,c,f,m,g,v,E=e.layout||n===kS||n===_S,k=n===wS||E||r,_=function(z,q,Y){let K,ne,X,ie,oe;return z?(K=z.facet)&&(q||F("Only group marks can be faceted."),K.field!=null?ie=oe=Sw(K,Y):(z.data?oe=dt(Y.getData(z.data).aggregate):(X=zS(pt({type:"aggregate",groupby:Ce(K.groupby)},K.aggregate),Y),X.params.key=Y.keyRef(K.groupby),X.params.pulse=Sw(K,Y),ie=oe=dt(Y.add(X))),ne=Y.keyRef(K.groupby,!0))):ie=dt(Y.add(Ho(null,[{}]))),ie||(ie=Sw(z,Y)),{key:ne,pulse:ie,parent:oe}}(e.from,a,t);u=t.add(AB({key:_.key||(e.key?Yb(e.key):void 0),pulse:_.pulse,clean:!a}));let R=dt(u);u=c=t.add(Ho({pulse:R})),u=t.add(DB({markdef:yU(e),interactive:vU(e.interactive,t),clip:bU(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:dt(u)}));let O=dt(u);u=f=t.add(kO(mO(e.encode,e.type,n,e.style,t,{mod:!1,pulse:O}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(z=>{let q=zS(z,t),Y=q.metadata;(Y.generates||Y.changes)&&F("Mark transforms should not generate new data."),Y.nomod||(f.params.mod=!0),q.params.pulse=dt(u),t.add(u=q)}),e.sort&&(u=t.add(GB({sort:t.compareRef(e.sort),pulse:dt(u)})));let N=dt(u);(r||E)&&(E=t.add(AO({layout:t.objectProperty(e.layout),legends:t.legends,mark:O,pulse:N})),g=dt(E));let $=t.add(wO({mark:O,pulse:g||N}));v=dt($),a&&(k&&(o=t.operators,o.pop(),E&&o.pop()),t.pushState(N,g||v,R),r?function(z,q,Y){let K=z.from.facet,ne=K.name,X=Sw(K,q),ie;K.name||F("Facet must have a name: "+it(K)),K.data||F("Facet must reference a data set: "+it(K)),K.field?ie=q.add(xO({field:q.fieldRef(K.field),pulse:X})):K.groupby?ie=q.add(CB({key:q.keyRef(K.groupby),group:dt(q.proxy(Y.parent)),pulse:X})):F("Facet must specify groupby or field: "+it(K));let oe=q.fork(),le=oe.add(Ho()),ce=oe.add(_d({pulse:dt(le)}));oe.addData(ne,new xd(oe,le,le,ce)),oe.addSignal("parent",null),ie.params.subflow={$subflow:oe.parse(z).toRuntime()}}(e,t,_):k?function(z,q,Y){let K=q.add(xO({pulse:Y.pulse})),ne=q.fork();ne.add(_d()),ne.addSignal("parent",null),K.params.subflow={$subflow:ne.parse(z).toRuntime()}}(e,t,_):t.parse(e),t.popState(),k&&(E&&o.push(E),o.push($))),i&&(v=function(z,q,Y){let K=z.method,ne=z.bound,X=z.separation,ie={separation:la(X)?Y.signalRef(X.signal):X,method:la(K)?Y.signalRef(K.signal):K,pulse:q};if(z.order&&(ie.sort=Y.compareRef({field:z.order})),ne){let oe=ne.tolerance;ie.boundTolerance=la(oe)?Y.signalRef(oe.signal):+oe,ie.boundScale=Y.scaleRef(ne.scale),ie.boundOrient=ne.orient}return dt(Y.add(FB(ie)))}(i,v,t));let M=t.add(SO({pulse:v})),U=t.add(_d({pulse:dt(M)},void 0,t.parent()));e.name!=null&&(m=e.name,t.addData(m,new xd(t,c,M,U)),e.on&&e.on.forEach(z=>{(z.insert||z.remove||z.toggle)&&F("Marks only support modify triggers."),WO(z,t,m)}))}function xU(e,t){let n=t.config.legend,a=e.encode||{},r=qr(e,n),i=a.legend||{},o=i.name||void 0,u=i.interactive,c=i.style,f={},m,g,v,E=0;FS.forEach(N=>e[N]?(f[N]=e[N],E=E||e[N]):0),E||F("Missing valid scale for legend.");let k=function(N,$){let M=N.type||OO;return N.type||function(U){return FS.reduce((z,q)=>z+(U[q]?1:0),0)}(N)!==1||!N.fill&&!N.stroke||(M=Bg($)?ww:Ug($)?MS:OO),M!==ww?M:Ug($)?MS:ww}(e,t.scaleType(E)),_={title:e.title!=null,scales:f,type:k,vgrad:k!=="symbol"&&r.isVertical()},R=dt(t.add(Ho(null,[_]))),O=dt(t.add(IB(g={type:k,scale:t.scaleRef(E),count:t.objectProperty(r("tickCount")),limit:t.property(r("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return k===ww?(v=[oU(e,E,n,a.gradient),FO(e,n,a.labels,O)],g.count=g.count||t.signalRef(`max(2,2*floor((${wd(r.gradientLength())})/100))`)):k===MS?v=[sU(e,E,n,a.gradient,O),FO(e,n,a.labels,O)]:(m=function(N,$){let M=qr(N,$);return{align:M("gridAlign"),columns:M.entryColumns(),center:{row:!0,column:!1},padding:{row:M("rowPadding"),column:M("columnPadding")}}}(e,n),v=[cU(e,n,a,O,wd(m.columns))],g.size=function(N,$,M){let U=wd(VO("size",N,M)),z=wd(VO("strokeWidth",N,M)),q=wd(function(Y,K,ne){return MO("fontSize",Y)||function(X,ie,oe){let le=ie.config.style[oe];return le&&le[X]}("fontSize",K,ne)}(M[1].encode,$,Xb));return Os(`max(ceil(sqrt(${U})+${z}),${q})`,$)}(e,t,v[0].marks)),v=[Jb({role:sB,from:R,encode:{enter:{x:{value:0},y:{value:0}}},marks:v,layout:m,interactive:u})],_.title&&v.push(function(N,$,M,U){let z=qr(N,$),q={enter:{opacity:Ut},update:{opacity:io,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ut}};return Ma(q,{orient:z("titleOrient"),_anchor:z("titleAnchor"),anchor:{signal:hU},angle:{signal:mU},align:{signal:pU},baseline:{signal:gU},text:N.title,fill:z("titleColor"),fillOpacity:z("titleOpacity"),font:z("titleFont"),fontSize:z("titleFontSize"),fontStyle:z("titleFontStyle"),fontWeight:z("titleFontWeight"),limit:z("titleLimit"),lineHeight:z("titleLineHeight")},{align:z("titleAlign"),baseline:z("titleBaseline")}),vi({type:kd,role:cB,style:DS,from:U,encode:q},M)}(e,n,a.title,R)),Aw(Jb({role:iB,from:R,encode:Zp(SU(r,e,n),i,Zb),marks:v,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:o,interactive:u,style:c}),t)}function SU(e,t,n){let a={enter:{},update:{}};return Ma(a,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),a}function VO(e,t,n){return t[e]?`scale("${t[e]}",datum)`:MO(e,n[0].encode)}xd.fromEntries=function(e,t){let n=t.length,a=t[n-1],r=t[n-2],i=t[0],o=null,u=1;for(i&&i.type==="load"&&(i=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=dt(t[u-1]),e.add(t[u]),t[u].type==="aggregate"&&(o=t[u]);return new xd(e,i,r,a,o)},xd.prototype={countsRef(e,t,n){let a=this,r=a.counts||(a.counts={}),i=HO(t),o,u,c;return i!=null&&(e=a.scope,o=r[i]),o?n&&n.field&&qO(e,o.agg.params,n):(c={groupby:e.fieldRef(t,"key"),pulse:dt(a.output)},n&&n.field&&qO(e,c,n),u=e.add(EO(c)),o=e.add(Ho({pulse:dt(u)})),o={agg:u,ref:dt(o)},i!=null&&(r[i]=o)),o.ref},tuplesRef(){return dt(this.values)},extentRef(e,t){return Qb(e,this,"extent","extent",t,!1)},domainRef(e,t){return Qb(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Qb(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Qb(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Qb(e,this,"indata","tupleindex",t,!0,!0)}};let AU=`item.orient==="${Qp}"?-90:item.orient==="${eh}"?90:0`;function TU(e,t){let n=qr(e=Mt(e)?{text:e}:e,t.config.title),a=e.encode||{},r=a.group||{},i=r.name||void 0,o=r.interactive,u=r.style,c=[],f=dt(t.add(Ho(null,[{}])));return c.push(function(m,g,v,E){let k={value:0},_=m.text,R={enter:{opacity:k},update:{opacity:{value:1}},exit:{opacity:k}};return Ma(R,{text:_,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:g("dx"),dy:g("dy"),fill:g("color"),font:g("font"),fontSize:g("fontSize"),fontStyle:g("fontStyle"),fontWeight:g("fontWeight"),lineHeight:g("lineHeight")},{align:g("align"),angle:g("angle"),baseline:g("baseline")}),vi({type:kd,role:fB,style:aU,from:E,encode:R},v)}(e,n,function(m){let g=m.encode;return g&&g.title||pt({name:m.name,interactive:m.interactive,style:m.style},g)}(e),f)),e.subtitle&&c.push(function(m,g,v,E){let k={value:0},_=m.subtitle,R={enter:{opacity:k},update:{opacity:{value:1}},exit:{opacity:k}};return Ma(R,{text:_,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:g("dx"),dy:g("dy"),fill:g("subtitleColor"),font:g("subtitleFont"),fontSize:g("subtitleFontSize"),fontStyle:g("subtitleFontStyle"),fontWeight:g("subtitleFontWeight"),lineHeight:g("subtitleLineHeight")},{align:g("align"),angle:g("angle"),baseline:g("baseline")}),vi({type:kd,role:pB,style:rU,from:E,encode:R},v)}(e,n,a.subtitle,f)),Aw(Jb({role:dB,from:f,encode:CU(n,r),marks:c,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:i,interactive:o,style:u}),t)}function CU(e,t){let n={enter:{},update:{}};return Ma(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:$S},angle:{signal:AU},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Zp(n,t,Zb)}function RU(e,t){let n=[];e.transform&&e.transform.forEach(a=>{n.push(zS(a,t))}),e.on&&e.on.forEach(a=>{WO(a,t,e.name)}),t.addDataPipeline(e.name,function(a,r,i){let o=[],u,c,f,m,g,v=null,E=!1,k=!1;for(a.values?la(a.values)||yw(a.format)?(o.push(YO(r,a)),o.push(v=Sd())):o.push(v=Sd({$ingest:a.values,$format:a.format})):a.url?yw(a.url)||yw(a.format)?(o.push(YO(r,a)),o.push(v=Sd())):o.push(v=Sd({$request:a.url,$format:a.format})):a.source&&(v=u=Ce(a.source).map(_=>dt(r.getData(_).output)),o.push(null)),c=0,f=i.length;c<f;++c)m=i[c],g=m.metadata,v||g.source||o.push(v=Sd()),o.push(m),g.generates&&(k=!0),g.modifies&&!k&&(E=!0),g.source?v=m:g.changes&&(v=null);return u&&(f=u.length-1,o[0]=UB({derive:E,pulse:f?u:u[0]}),(E||f)&&o.splice(1,0,Sd())),v||o.push(Sd()),o.push(_d({})),o}(e,t,n))}function Sd(e){let t=Ho({},e);return t.metadata={source:!0},t}function YO(e,t){return OB({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}let KO=e=>e===qu||e===qo,Tw=(e,t,n)=>la(e)?DU(e.signal,t,n):e===Qp||e===qo?t:n,ya=(e,t,n)=>la(e)?IU(e.signal,t,n):KO(e)?t:n,Wo=(e,t,n)=>la(e)?OU(e.signal,t,n):KO(e)?n:t,XO=(e,t,n)=>la(e)?MU(e.signal,t,n):e===qo?{value:t}:{value:n},NU=(e,t,n)=>la(e)?LU(e.signal,t,n):e===eh?{value:t}:{value:n},IU=(e,t,n)=>ZO(`${e} === '${qo}' || ${e} === '${qu}'`,t,n),OU=(e,t,n)=>ZO(`${e} !== '${qo}' && ${e} !== '${qu}'`,t,n),DU=(e,t,n)=>jS(`${e} === '${Qp}' || ${e} === '${qo}'`,t,n),MU=(e,t,n)=>jS(`${e} === '${qo}'`,t,n),LU=(e,t,n)=>jS(`${e} === '${eh}'`,t,n),ZO=(e,t,n)=>(t=t!=null?ba(t):t,n=n!=null?ba(n):n,JO(t)&&JO(n)?{signal:`${e} ? (${t=t?t.signal||it(t.value):null}) : (${n=n?n.signal||it(n.value):null})`}:[pt({test:e},t)].concat(n||[])),JO=e=>e==null||Object.keys(e).length===1,jS=(e,t,n)=>({signal:`${e} ? (${nh(t)}) : (${nh(n)})`}),FU=(e,t,n,a,r)=>({signal:(a!=null?`${e} === '${Qp}' ? (${nh(a)}) : `:"")+(n!=null?`${e} === '${qu}' ? (${nh(n)}) : `:"")+(r!=null?`${e} === '${eh}' ? (${nh(r)}) : `:"")+(t!=null?`${e} === '${qo}' ? (${nh(t)}) : `:"")+"(null)"}),nh=e=>la(e)?e.signal:e==null?null:it(e),PU=(e,t)=>t===0?0:la(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},ah=(e,t)=>{let n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function rh(e,t,n,a){let r;if(t&&et(t,e))return t[e];if(et(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":r="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":r=e[5].toLowerCase()+e.slice(6)}return a[DS][r]}if(e.startsWith("label")){switch(e){case"labelColor":r="fill";break;case"labelFont":case"labelFontSize":r=e[5].toLowerCase()+e.slice(6)}return a[Xb][r]}return null}function QO(e){let t={};for(let n of e)if(n)for(let a in n)t[a]=1;return Object.keys(t)}function eD(e,t){return{scale:e.scale,range:t}}function $U(e,t,n,a,r){let i=qr(e,t),o=e.orient,u=e.gridScale,c=Tw(o,1,-1),f=function(N,$){if($!==1)if(ye(N)){let M=N=pt({},N);for(;M.mult!=null;){if(!ye(M.mult))return M.mult=la($)?{signal:`(${M.mult}) * (${$.signal})`}:M.mult*$,N;M=M.mult=pt({},M.mult)}M.mult=$}else N=la($)?{signal:`(${$.signal}) * (${N||0})`}:$*(N||0);return N}(e.offset,c),m,g,v,E={enter:m={opacity:Ut},update:v={opacity:io},exit:g={opacity:Ut}};Ma(E,{stroke:i("gridColor"),strokeCap:i("gridCap"),strokeDash:i("gridDash"),strokeDashOffset:i("gridDashOffset"),strokeOpacity:i("gridOpacity"),strokeWidth:i("gridWidth")});let k={scale:e.scale,field:ro,band:r.band,extra:r.extra,offset:r.offset,round:i("tickRound")},_=ya(o,{signal:"height"},{signal:"width"}),R=u?{scale:u,range:0,mult:c,offset:f}:{value:0,offset:f},O=u?{scale:u,range:1,mult:c,offset:f}:pt(_,{mult:c,offset:f});return m.x=v.x=ya(o,k,R),m.y=v.y=Wo(o,k,R),m.x2=v.x2=Wo(o,O),m.y2=v.y2=ya(o,O),g.x=ya(o,k),g.y=Wo(o,k),vi({type:PS,role:tB,key:ro,from:a,encode:E},n)}function HS(e,t,n,a,r){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+a+","+r+")"}}function BU(e,t,n,a){let r=qr(e,t),i=e.orient,o=Tw(i,-1,1),u,c,f={enter:u={opacity:Ut,anchor:ba(r("titleAnchor",null)),align:{signal:$S}},update:c=pt({},u,{opacity:io,text:ba(e.title)}),exit:{opacity:Ut}},m={signal:`lerp(range("${e.scale}"), ${kw(0,1,.5)})`};return c.x=ya(i,m),c.y=Wo(i,m),u.angle=ya(i,Ut,PU(o,90)),u.baseline=ya(i,XO(i,qu,qo),{value:qu}),c.angle=u.angle,c.baseline=u.baseline,Ma(f,{fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),angle:r("titleAngle"),baseline:r("titleBaseline")}),function(g,v,E,k){let _=(N,$)=>N!=null?(E.update[$]=ah(ba(N),E.update[$]),!1):!Jp($,k),R=_(g("titleX"),"x"),O=_(g("titleY"),"y");E.enter.auto=O===R?ba(O):ya(v,ba(O),ba(R))}(r,i,f,n),f.update.align=ah(f.update.align,u.align),f.update.angle=ah(f.update.angle,u.angle),f.update.baseline=ah(f.update.baseline,u.baseline),vi({type:kd,role:rB,style:DS,from:a,encode:f},n)}function UU(e,t){let n=function(_,R){var O,N,$,M=R.config,U=M.style,z=M.axis,q=R.scaleType(_.scale)==="band"&&M.axisBand,Y=_.orient;if(la(Y)){let K=QO([M.axisX,M.axisY]),ne=QO([M.axisTop,M.axisBottom,M.axisLeft,M.axisRight]);for($ of(O={},K))O[$]=ya(Y,rh($,M.axisX,z,U),rh($,M.axisY,z,U));for($ of(N={},ne))N[$]=FU(Y.signal,rh($,M.axisTop,z,U),rh($,M.axisBottom,z,U),rh($,M.axisLeft,z,U),rh($,M.axisRight,z,U))}else O=Y===qo||Y===qu?M.axisX:M.axisY,N=M["axis"+Y[0].toUpperCase()+Y.slice(1)];return O||N||q?pt({},z,O,N,q):z}(e,t),a=e.encode||{},r=a.axis||{},i=r.name||void 0,o=r.interactive,u=r.style,c=qr(e,n),f=function(_){let R=_("tickBand"),O,N,$=_("tickOffset");return R?R.signal?(O={signal:`(${R.signal}) === 'extent' ? 1 : 0.5`},N={signal:`(${R.signal}) === 'extent'`},ye($)||($={signal:`(${R.signal}) === 'extent' ? 0 : ${$}`})):R==="extent"?(O=1,N=!0,$=0):(O=.5,N=!1):(O=_("bandPosition"),N=_("tickExtra")),{extra:N,band:O,offset:$}}(c),m={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:e.title!=null},g=dt(t.add(Ho({},[m]))),v=dt(t.add(SB({scale:t.scaleRef(e.scale),extra:t.property(f.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),E=[],k;return m.grid&&E.push($U(e,n,a.grid,v,f)),m.ticks&&(k=c("tickSize"),E.push(function(_,R,O,N,$,M){let U=qr(_,R),z=_.orient,q=Tw(z,-1,1),Y,K,ne,X={enter:Y={opacity:Ut},update:ne={opacity:io},exit:K={opacity:Ut}};Ma(X,{stroke:U("tickColor"),strokeCap:U("tickCap"),strokeDash:U("tickDash"),strokeDashOffset:U("tickDashOffset"),strokeOpacity:U("tickOpacity"),strokeWidth:U("tickWidth")});let ie=ba($);ie.mult=q;let oe={scale:_.scale,field:ro,band:M.band,extra:M.extra,offset:M.offset,round:U("tickRound")};return ne.y=Y.y=ya(z,Ut,oe),ne.y2=Y.y2=ya(z,ie),K.x=ya(z,oe),ne.x=Y.x=Wo(z,Ut,oe),ne.x2=Y.x2=Wo(z,ie),K.y=Wo(z,oe),vi({type:PS,role:aB,key:ro,from:N,encode:X},O)}(e,n,a.ticks,v,k,f))),m.labels&&(k=m.ticks?k:0,E.push(function(_,R,O,N,$,M){let U=qr(_,R),z=_.orient,q=_.scale,Y=Tw(z,-1,1),K=wd(U("labelFlush")),ne=wd(U("labelFlushOffset")),X=U("labelAlign"),ie=U("labelBaseline"),oe,le=K===0||!!K,ce=ba($);ce.mult=Y,ce.offset=ba(U("labelPadding")||0),ce.offset.mult=Y;let ve={scale:q,field:ro,band:.5,offset:LO(M.offset,U("labelOffset"))},_e=ya(z,le?HS(q,K,'"left"','"right"','"center"'):{value:"center"},NU(z,"left","right")),Ie=ya(z,XO(z,"bottom","top"),le?HS(q,K,'"top"','"bottom"','"middle"'):{value:"middle"}),Be=HS(q,K,`-(${ne})`,ne,0);le=le&&ne;let je={opacity:Ut,x:ya(z,ve,ce),y:Wo(z,ve,ce)},Oe={enter:je,update:oe={opacity:io,text:{field:OS},x:je.x,y:je.y,align:_e,baseline:Ie},exit:{opacity:Ut,x:je.x,y:je.y}};Ma(Oe,{dx:!X&&le?ya(z,Be):null,dy:!ie&&le?Wo(z,Be):null}),Ma(Oe,{angle:U("labelAngle"),fill:U("labelColor"),fillOpacity:U("labelOpacity"),font:U("labelFont"),fontSize:U("labelFontSize"),fontWeight:U("labelFontWeight"),fontStyle:U("labelFontStyle"),limit:U("labelLimit"),lineHeight:U("labelLineHeight")},{align:X,baseline:ie});let ot=U("labelBound"),st=U("labelOverlap");return st=st||ot?{separation:U("labelSeparation"),method:st,order:"datum.index",bound:ot?{scale:q,orient:z,tolerance:ot}:null}:void 0,oe.align!==_e&&(oe.align=ah(oe.align,_e)),oe.baseline!==Ie&&(oe.baseline=ah(oe.baseline,Ie)),vi({type:kd,role:nB,style:Xb,key:ro,from:N,encode:Oe,overlap:st},O)}(e,n,a.labels,v,k,f))),m.domain&&E.push(function(_,R,O,N){let $=qr(_,R),M=_.orient,U,z,q={enter:U={opacity:Ut},update:z={opacity:io},exit:{opacity:Ut}};Ma(q,{stroke:$("domainColor"),strokeCap:$("domainCap"),strokeDash:$("domainDash"),strokeDashOffset:$("domainDashOffset"),strokeWidth:$("domainWidth"),strokeOpacity:$("domainOpacity")});let Y=eD(_,0),K=eD(_,1);return U.x=z.x=ya(M,Y,Ut),U.x2=z.x2=ya(M,K),U.y=z.y=Wo(M,Y,Ut),U.y2=z.y2=Wo(M,K),vi({type:PS,role:eB,from:N,encode:q},O)}(e,n,a.domain,g)),m.title&&E.push(BU(e,n,a.title,g)),Aw(Jb({role:Q$,from:g,encode:Zp(zU(c,e),r,Zb),marks:E,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:i,interactive:o,style:u}),t)}function zU(e,t){let n={enter:{},update:{}};return Ma(n,{orient:e("orient"),offset:e("offset")||0,position:jo(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function tD(e,t,n){let a=Ce(e.signals),r=Ce(e.scales);return n||a.forEach(i=>bO(i,t)),Ce(e.projections).forEach(i=>function(o,u){let c=u.config.projection||{},f={};for(let m in o)m!=="name"&&(f[m]=NS(o[m],m,u));for(let m in c)f[m]==null&&(f[m]=NS(c[m],m,u));u.addProjection(o.name,f)}(i,t)),r.forEach(i=>function(o,u){let c=o.type||"linear";uv(c)||F("Unrecognized scale type: "+it(c)),u.addScale(o.name,{type:c,domain:void 0})}(i,t)),Ce(e.data).forEach(i=>RU(i,t)),r.forEach(i=>qB(i,t)),(n||a).forEach(i=>function(o,u){let c=u.getSignal(o.name),f=o.update;o.init&&(f?F("Signals can not include both init and update expressions."):(f=o.init,c.initonly=!0)),f&&(f=Os(f,u),c.update=f.$expr,c.params=f.$params),o.on&&o.on.forEach(m=>kB(m,u,c.id))}(i,t)),Ce(e.axes).forEach(i=>UU(i,t)),Ce(e.marks).forEach(i=>Aw(i,t)),Ce(e.legends).forEach(i=>xU(i,t)),e.title&&TU(e.title,t),t.parseLambdas(),t}let GU=e=>Zp({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function jU(e,t){let n=t.config,a=dt(t.root=t.add(gw())),r=function(f,m){let g=_=>jo(f[_],m[_]),v=[e0("background",g("background")),e0("autosize",X$(g("autosize"))),e0("padding",J$(g("padding"))),e0("width",g("width")||0),e0("height",g("height")||0)],E=v.reduce((_,R)=>(_[R.name]=R,_),{}),k={};return Ce(f.signals).forEach(_=>{et(E,_.name)?_=pt(E[_.name],_):v.push(_),k[_.name]=_}),Ce(m.signals).forEach(_=>{et(k,_.name)||et(E,_.name)||v.push(_)}),v}(e,n);r.forEach(f=>bO(f,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;let i=t.add(Ho()),o=t.add(kO(mO(GU(e.encode),_w,_S,e.style,t,{pulse:dt(i)}))),u=t.add(AO({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:dt(o)}));t.operators.pop(),t.pushState(dt(o),dt(u),null),tD(e,t,r),t.operators.push(u);let c=t.add(wO({mark:a,pulse:dt(u)}));return c=t.add(SO({pulse:dt(c)})),c=t.add(_d({pulse:dt(c)})),t.addData("root",new xd(t,i,i,c)),t}function e0(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function nD(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function aD(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function qS(e){return(Ee(e)?HU:qU)(e)}function HU(e){let t=e.length,n="[";for(let a=0;a<t;++a){let r=e[a];n+=(a>0?",":"")+(ye(r)?r.signal||qS(r):it(r))}return n+"]"}function qU(e){let t,n,a="{",r=0;for(t in e)n=e[t],a+=(++r>1?",":"")+it(t)+":"+(ye(n)?n.signal||qS(n):it(n));return a+"}"}nD.prototype=aD.prototype={parse(e){return tD(e,this)},fork(){return new aD(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){let t=e instanceof SS?dt(e):e;return this.add(BB({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(a,r,i){let o,u;a&&(o=a.data||(a.data={}),u=o[r]||(o[r]=[]),u.push(i))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(let a in t.index)n(t.index[a],e,"index:"+a)}return this},pushState(e,t,n){this._encode.push(dt(this.add(_d({pulse:e})))),this._parent.push(t),this._lookup.push(n?dt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Pe(this._parent)},encode(){return Pe(this._encode)},lookup(){return Pe(this._lookup)},markpath(){let e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Mt(e))return Yb(e,t);e.signal||F("Unsupported field reference: "+it(e));let n=e.signal,a=this.field[n];if(!a){let r={name:this.signalRef(n)};t&&(r.as=t),this.field[n]=a=dt(this.add(RB(r)))}return a},compareRef(e){let t=!1,n=i=>la(i)?(t=!0,this.signalRef(i.signal)):function(o){return o&&o.expr}(i)?(t=!0,this.exprRef(i.expr)):i,a=Ce(e.field).map(n),r=Ce(e.order).map(n);return t?dt(this.add(_O({fields:a,orders:r}))):yO(a,r)},keyRef(e,t){let n=!1,a=this.signals;return e=Ce(e).map(r=>la(r)?(n=!0,dt(a[r.signal])):r),n?dt(this.add(NB({fields:e,flat:t}))):function(r,i){let o={$key:r};return i&&(o.$flat=!0),o}(e,t)},sortRef(e){if(!e)return e;let t=bw(e.op,e.field),n=e.order||"ascending";return n.signal?dt(this.add(_O({fields:t,orders:this.signalRef(n.signal)}))):yO(t,n)},event(e,t){let n=e+":"+t;if(!this.events[n]){let a=this.id();this.streams.push({id:a,source:e,type:t}),this.events[n]=a}return this.events[n]},hasOwnSignal(e){return et(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&F("Duplicate signal name: "+it(e));let n=t instanceof SS?t:this.add(gw(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||F("Unrecognized signal name: "+it(e)),this.signals[e]},signalRef(e){return this.signals[e]?dt(this.signals[e]):(et(this.lambdas,e)||(this.lambdas[e]=this.add(gw(null))),dt(this.lambdas[e]))},parseLambdas(){let e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){let a=e[t],r=Os(a,this),i=this.lambdas[a];i.params=r.$params,i.update=r.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&ye(e)?this.signalRef(e.signal||qS(e)):e},exprRef(e,t){let n={expr:Os(e,this)};return t&&(n.expr.$name=t),dt(this.add(TB(n)))},addBinding(e,t){this.bindings||F("Nested signals do not support binding: "+it(e)),this.bindings.push(pt({signal:e},t))},addScaleProj(e,t){et(this.scales,e)&&F("Duplicate scale or projection name: "+it(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,zB(t))},addProjection(e,t){this.addScaleProj(e,$B(t))},getScale(e){return this.scales[e]||F("Unrecognized scale name: "+it(e)),this.scales[e]},scaleRef(e){return dt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return et(this.data,e)&&F("Duplicate data set name: "+it(e)),this.data[e]=t},getData(e){return this.data[e]||F("Undefined data set name: "+it(e)),this.data[e]},addDataPipeline(e,t){return et(this.data,e)&&F("Duplicate data set name: "+it(e)),this.addData(e,xd.fromEntries(this,t))}},pt(Js,Vf,z2,J2,$L,iF,BF,RF,UF,tP,uP,fP),p.Bounds=Rn,p.CanvasHandler=rb,p.CanvasRenderer=Bv,p.DATE=pa,p.DAY=ta,p.DAYOFYEAR=Ni,p.Dataflow=Zs,p.Debug=Le,p.Error=me,p.EventStream=Pi,p.Gradient=ut,p.GroupItem=gl,p.HOURS=za,p.Handler=Du,p.Info=Ne,p.Item=Oo,p.MILLISECONDS=Or,p.MINUTES=sr,p.MONTH=ea,p.Marks=mi,p.MultiPulse=gc,p.None=he,p.Operator=Vt,p.Parameters=hc,p.Pulse=ii,p.QUARTER=Sa,p.RenderType=Lu,p.Renderer=As,p.ResourceLoader=bl,p.SECONDS=lr,p.SVGHandler=U1,p.SVGRenderer=V1,p.SVGStringRenderer=K1,p.Scenegraph=L1,p.TIME_UNITS=Bd,p.Transform=xe,p.View=QI,p.WEEK=An,p.Warn=Re,p.YEAR=Qn,p.accessor=b,p.accessorFields=T,p.accessorName=x,p.array=Ce,p.ascending=Jt,p.bandwidthNRD=om,p.bin=sm,p.bootstrapCI=lm,p.boundClip=UT,p.boundContext=Kg,p.boundItem=M1,p.boundMark=aT,p.boundStroke=vl,p.changeset=ss,p.clampRange=Ye,p.codegenExpression=dI,p.compare=Ml,p.constant=dn,p.cumulativeLogNormal=dr,p.cumulativeNormal=yc,p.cumulativeUniform=wc,p.dayofyear=T0,p.debounce=Ko,p.defaultLocale=cf,p.definition=am,p.densityLogNormal=Af,p.densityNormal=um,p.densityUniform=Rf,p.domChild=Br,p.domClear=Fo,p.domCreate=Ou,p.domFind=F1,p.dotbin=xf,p.error=F,p.expressionFunction=Kn,p.extend=pt,p.extent=$n,p.extentIndex=nr,p.falsy=te,p.fastmap=ca,p.field=W,p.flush=ar,p.font=Nv,p.fontFamily=eb,p.fontSize=Ss,p.format=fc,p.formatLocale=cc,p.formats=is,p.hasOwnProperty=et,p.id=V,p.identity=Q,p.inferType=Zh,p.inferTypes=Jh,p.ingest=Rt,p.inherits=Me,p.inrange=_a,p.interpolate=zg,p.interpolateColors=Sp,p.interpolateRange=fv,p.intersect=FT,p.intersectBoxLine=Np,p.intersectPath=y1,p.intersectPoint=v1,p.intersectRule=GA,p.isArray=Ee,p.isBoolean=Xr,p.isDate=En,p.isFunction=Je,p.isIterable=wi,p.isNumber=Pa,p.isObject=ye,p.isRegExp=_i,p.isString=Mt,p.isTuple=nu,p.key=ki,p.lerp=lo,p.lineHeight=Nu,p.loader=Ks,p.locale=Xh,p.logger=ze,p.lruCache=Ll,p.markup=W1,p.merge=Fs,p.mergeConfig=Se,p.multiLineOffset=I1,p.one=pe,p.pad=Vu,p.panLinear=_t,p.panLog=St,p.panPow=Kt,p.panSymlog=Ve,p.parse=function(e,t,n){return ye(e)||F("Input Vega specification must be an object."),jU(e,new nD(t=Se(function(){let a="sans-serif",r="#4c78a8",i="#000",o="#888",u="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:a,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:a,fontSize:10},"guide-title":{fill:i,font:a,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:a,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:a,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:u},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:u,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:u,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),n)).toRuntime()},p.parseExpression=lI,p.parseSelector=lO,p.path=Nc,p.pathCurves=Xe,p.pathEqual=zT,p.pathParse=Bt,p.pathRectangle=Wg,p.pathRender=Ya,p.pathSymbols=Ka,p.pathTrail=Vg,p.peek=Pe,p.point=Ov,p.projection=Wk,p.quantileLogNormal=fm,p.quantileNormal=vc,p.quantileUniform=uu,p.quantiles=im,p.quantizeInterpolator=pv,p.quarter=At,p.quartiles=kf,p.randomInteger=function(e,t){let n,a,r;t==null&&(t=e,e=0);let i={min(o){return arguments.length?(n=o||0,r=a-n,i):n},max(o){return arguments.length?(a=o||0,r=a-n,i):a},sample:()=>n+Math.floor(r*p.random()),pdf:o=>o===Math.floor(o)&&o>=n&&o<a?1/r:0,cdf(o){let u=Math.floor(o);return u<n?0:u>=a?1:(u-n+1)/r},icdf:o=>o>=0&&o<=1?n-1+Math.floor(o*r):NaN};return i.min(e).max(t)},p.randomKDE=dm,p.randomLCG=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},p.randomLogNormal=Tf,p.randomMixture=Cf,p.randomNormal=cm,p.randomUniform=Nf,p.read=mf,p.regressionConstant=If,p.regressionExp=pm,p.regressionLinear=cu,p.regressionLoess=gm,p.regressionLog=xc,p.regressionPoly=hm,p.regressionPow=ly,p.regressionQuad=oi,p.renderModule=jv,p.repeat=uo,p.resetDefaultLocale=function(){return Yh(),dc(),cf()},p.resetSVGClipId=yv,p.resetSVGDefIds=function(){yv(),we=0},p.responseType=hf,p.runtimeContext=DI,p.sampleCurve=Of,p.sampleLogNormal=Sf,p.sampleNormal=lu,p.sampleUniform=Ec,p.scale=Pt,p.sceneEqual=Z1,p.sceneFromJSON=iT,p.scenePickVisit=Sv,p.sceneToJSON=rT,p.sceneVisit=Mo,p.sceneZOrder=E1,p.scheme=Tp,p.serializeXML=TT,p.setRandom=function(e){p.random=e},p.span=Zr,p.splitAccessPath=j,p.stringValue=it,p.textMetrics=Lo,p.timeBin=ni,p.timeFloor=O0,p.timeFormatLocale=Ys,p.timeInterval=ts,p.timeOffset=Wd,p.timeSequence=Oh,p.timeUnitSpecifier=zd,p.timeUnits=Ud,p.toBoolean=Fl,p.toDate=Od,p.toNumber=De,p.toSet=rr,p.toString=Dd,p.transform=rm,p.transforms=Js,p.truncate=ph,p.truthy=Z,p.tupleid=at,p.typeParsers=ur,p.utcFloor=qd,p.utcInterval=Dr,p.utcOffset=L0,p.utcSequence=Dh,p.utcdayofyear=Rh,p.utcquarter=ft,p.utcweek=Nh,p.version="5.25.0",p.visitArray=Zo,p.week=Gd,p.writeConfig=ke,p.zero=ae,p.zoomLinear=Xt,p.zoomLog=yt,p.zoomPow=Zt,p.zoomSymlog=Dt})});var XD=WS(($w,KD)=>{(function(p,b){typeof $w=="object"&&typeof KD<"u"?b($w,sA()):typeof define=="function"&&define.amd?define(["exports","vega"],b):b((p=typeof globalThis<"u"?globalThis:p||self).vegaLite={},p.vega)})($w,function(p,b){"use strict";var x="5.16.1";function T(l){return!!l.or}function I(l){return!!l.and}function B(l){return!!l.not}function P(l,s){if(B(l))P(l.not,s);else if(I(l))for(let d of l.and)P(d,s);else if(T(l))for(let d of l.or)P(d,s);else s(l)}function F(l,s){return B(l)?{not:F(l.not,s)}:I(l)?{and:l.and.map(d=>F(d,s))}:T(l)?{or:l.or.map(d=>F(d,s))}:s(l)}let j=globalThis.structuredClone;function W(l){throw new Error(l)}function V(l,s){let d={};for(let h of s)b.hasOwnProperty(l,h)&&(d[h]=l[h]);return d}function Q(l,s){let d={...l};for(let h of s)delete d[h];return d}function ae(l){if(b.isNumber(l))return l;let s=b.isString(l)?l:Ye(l);if(s.length<250)return s;let d=0;for(let h=0;h<s.length;h++)d=(d<<5)-d+s.charCodeAt(h),d&=d;return d}function pe(l){return l===!1||l===null}function Z(l,s){return l.includes(s)}function te(l,s){let d=0;for(let[h,y]of l.entries())if(s(y,h,d++))return!0;return!1}function ue(l,s){let d=0;for(let[h,y]of l.entries())if(!s(y,h,d++))return!1;return!0}function he(l){for(var s=arguments.length,d=new Array(s>1?s-1:0),h=1;h<s;h++)d[h-1]=arguments[h];for(let y of d)me(l,y??{});return l}function me(l,s){for(let d of be(s))b.writeConfig(l,d,s[d],!0)}function Re(l,s){let d=[],h={},y;for(let w of l)y=s(w),y in h||(h[y]=1,d.push(w));return d}function Ne(l,s){if(l.size!==s.size)return!1;for(let d of l)if(!s.has(d))return!1;return!0}function Le(l,s){for(let d of l)if(s.has(d))return!0;return!1}function ze(l){let s=new Set;for(let d of l){let h=b.splitAccessPath(d).map((w,S)=>S===0?w:`[${w}]`),y=h.map((w,S)=>h.slice(0,S+1).join(""));for(let w of y)s.add(w)}return s}function Ee(l,s){return l===void 0||s===void 0||Le(ze(l),ze(s))}function ye(l){return be(l).length===0}Set.prototype.toJSON=function(){return`Set(${[...this].map(l=>Ye(l)).join(",")})`};let be=Object.keys,Se=Object.values,ke=Object.entries;function We(l){return l===!0||l===!1}function Pe(l){let s=l.replace(/\W/g,"_");return(l.match(/^\d+/)?"_":"")+s}function De(l,s){return B(l)?`!(${De(l.not,s)})`:I(l)?`(${l.and.map(d=>De(d,s)).join(") && (")})`:T(l)?`(${l.or.map(d=>De(d,s)).join(") || (")})`:s(l)}function lt(l,s){if(s.length===0)return!0;let d=s.shift();return d in l&&lt(l[d],s)&&delete l[d],ye(l)}function gt(l){return l.charAt(0).toUpperCase()+l.substr(1)}function kt(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",d=b.splitAccessPath(l),h=[];for(let y=1;y<=d.length;y++){let w=`[${d.slice(0,y).map(b.stringValue).join("][")}]`;h.push(`${s}${w}`)}return h.join(" && ")}function an(l){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${b.stringValue(b.splitAccessPath(l).join("."))}]`}function cn(l){return l.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Gt(l){return`${b.splitAccessPath(l).map(cn).join("\\.")}`}function _t(l,s,d){return l.replace(new RegExp(s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),d)}function St(l){return`${b.splitAccessPath(l).join(".")}`}function Kt(l){return l?b.splitAccessPath(l).length:0}function Ve(){for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];for(let h of s)if(h!==void 0)return h}let Ze=42;function Xt(l){let s=++Ze;return l?String(l)+s:s}function yt(l){return Zt(l)?l:`__${l}`}function Zt(l){return l.startsWith("__")}function Dt(l){if(l!==void 0)return(l%360+360)%360}function At(l){return!!b.isNumber(l)||!isNaN(l)&&!isNaN(parseFloat(l))}let ft=Object.getPrototypeOf(globalThis.structuredClone({}));function Ce(l,s){if(l===s)return!0;if(l&&s&&typeof l=="object"&&typeof s=="object"){if(l.constructor.name!==s.constructor.name)return!1;let d,h;if(Array.isArray(l)){if(d=l.length,d!=s.length)return!1;for(h=d;h--!=0;)if(!Ce(l[h],s[h]))return!1;return!0}if(l instanceof Map&&s instanceof Map){if(l.size!==s.size)return!1;for(h of l.entries())if(!s.has(h[0]))return!1;for(h of l.entries())if(!Ce(h[1],s.get(h[0])))return!1;return!0}if(l instanceof Set&&s instanceof Set){if(l.size!==s.size)return!1;for(h of l.entries())if(!s.has(h[0]))return!1;return!0}if(ArrayBuffer.isView(l)&&ArrayBuffer.isView(s)){if(d=l.length,d!=s.length)return!1;for(h=d;h--!=0;)if(l[h]!==s[h])return!1;return!0}if(l.constructor===RegExp)return l.source===s.source&&l.flags===s.flags;if(l.valueOf!==Object.prototype.valueOf&&l.valueOf!==ft.valueOf)return l.valueOf()===s.valueOf();if(l.toString!==Object.prototype.toString&&l.toString!==ft.toString)return l.toString()===s.toString();let y=Object.keys(l);if(d=y.length,d!==Object.keys(s).length)return!1;for(h=d;h--!=0;)if(!Object.prototype.hasOwnProperty.call(s,y[h]))return!1;for(h=d;h--!=0;){let w=y[h];if(!Ce(l[w],s[w]))return!1}return!0}return l!=l&&s!=s}function Ye(l){let s=[];return function d(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h===void 0)return;if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);let y,w;if(Array.isArray(h)){for(w="[",y=0;y<h.length;y++)y&&(w+=","),w+=d(h[y])||"null";return w+"]"}if(h===null)return"null";if(s.includes(h))throw new TypeError("Converting circular structure to JSON");let S=s.push(h)-1,A=Object.keys(h).sort();for(w="",y=0;y<A.length;y++){let C=A[y],L=d(h[C]);L&&(w&&(w+=","),w+=JSON.stringify(C)+":"+L)}return s.splice(S,1),`{${w}}`}(l)}let Je="row",Yr="column",Ml="facet",Jt="x",Pn="y",Kr="x2",Ei="y2",dn="xOffset",Ko="yOffset",pt="radius",$n="radius2",nr="theta",so="theta2",et="latitude",Fa="longitude",ca="latitude2",ar="longitude2",Me="color",_a="fill",Xr="stroke",En="shape",wi="size",Pa="angle",_i="opacity",Mt="fillOpacity",ki="strokeOpacity",lo="strokeWidth",Xo="strokeDash",Ll="text",Fs="order",uo="detail",Vu="key",Zr="tooltip",it="href",Fl="url",Id="description",Od={theta:1,theta2:1,radius:1,radius2:1};function Dd(l){return l in Od}let rr={longitude:1,longitude2:1,latitude:1,latitude2:1};function ph(l){switch(l){case et:return"y";case ca:return"y2";case Fa:return"x";case ar:return"x2"}}function Zo(l){return l in rr}let l0=be(rr),Yu={x:1,y:1,x2:1,y2:1,...Od,...rr,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Jo(l){return l===Me||l===_a||l===Xr}let Pl={row:1,column:1,facet:1},$a=be(Pl),Md={...Yu,...Pl},u0=be(Md),{order:ir,detail:kA,tooltip:xA,...n_}=Md,{row:SA,column:a_,facet:r_,...i_}=n_;function c0(l){return!!Md[l]}let o_=[Kr,Ei,ca,ar,so,$n];function xi(l){return Ps(l)!==l}function Ps(l){switch(l){case Kr:return Jt;case Ei:return Pn;case ca:return et;case ar:return Fa;case so:return nr;case $n:return pt}return l}function or(l){if(Dd(l))switch(l){case nr:return"startAngle";case so:return"endAngle";case pt:return"outerRadius";case $n:return"innerRadius"}return l}function Si(l){switch(l){case Jt:return Kr;case Pn:return Ei;case et:return ca;case Fa:return ar;case nr:return so;case pt:return $n}}function ka(l){switch(l){case Jt:case Kr:return"width";case Pn:case Ei:return"height"}}function hh(l){switch(l){case Jt:return"xOffset";case Pn:return"yOffset";case Kr:return"x2Offset";case Ei:return"y2Offset";case nr:return"thetaOffset";case pt:return"radiusOffset";case so:return"theta2Offset";case $n:return"radius2Offset"}}function $l(l){switch(l){case Jt:return"xOffset";case Pn:return"yOffset"}}function s_(l){switch(l){case"xOffset":return"x";case"yOffset":return"y"}}let Ku=be(Yu),{x:Ba,y:l_,x2:mh,y2:d0,xOffset:u_,yOffset:c_,latitude:d_,longitude:f_,latitude2:AA,longitude2:TA,theta:CA,theta2:gh,radius:f0,radius2:p0,...Ai}=Yu,$s=be(Ai),Xu={x:1,y:1},Jr=be(Xu);function sn(l){return l in Xu}let Zu={theta:1,radius:1},h0=be(Zu);function Ju(l){return l==="width"?Jt:Pn}let bh={xOffset:1,yOffset:1};function Zn(l){return l in bh}let{text:p_,tooltip:RA,href:yh,url:Qu,description:h_,detail:NA,key:Bl,order:m0,...vh}=Ai,g0=be(vh),Eh={...Xu,...Zu,...bh,...vh},Ul=be(Eh);function Rr(l){return!!Eh[l]}function wh(l,s){return function(d){switch(d){case Me:case _a:case Xr:case Id:case uo:case Vu:case Zr:case it:case Fs:case _i:case Mt:case ki:case lo:case Ml:case Je:case Yr:return _h;case Jt:case Pn:case dn:case Ko:case et:case Fa:return b0;case Kr:case Ei:case ca:case ar:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case wi:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Xo:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case En:return{point:"always",geoshape:"always"};case Ll:return{text:"always"};case Pa:return{point:"always",square:"always",text:"always"};case Fl:return{image:"always"};case nr:case pt:return{text:"always",arc:"always"};case so:case $n:return{arc:"always"}}}(l)[s]}let _h={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:m_,...b0}=_h;function Ld(l){switch(l){case Jt:case Pn:case nr:case pt:case dn:case Ko:case wi:case Pa:case lo:case _i:case Mt:case ki:case Kr:case Ei:case so:case $n:return;case Ml:case Je:case Yr:case En:case Xo:case Ll:case Zr:case it:case Fl:case Id:return"discrete";case Me:case _a:case Xr:return"flexible";case et:case Fa:case ca:case ar:case uo:case Vu:case Fs:return}}let y0={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},v0={count:1,min:1,max:1};function Qr(l){return!!l&&!!l.argmin}function Ti(l){return!!l&&!!l.argmax}function wn(l){return b.isString(l)&&!!y0[l]}let zl=new Set(["count","valid","missing","distinct"]);function Ci(l){return b.isString(l)&&zl.has(l)}let Nr=new Set(["count","sum","distinct","valid","missing"]),co=new Set(["mean","average","median","q1","q3","min","max"]);function Ri(l){return b.isBoolean(l)&&(l=at(l,void 0)),"bin"+be(l).map(s=>Ir(l[s])?Pe(`_${s}_${ke(l[s])}`):Pe(`_${s}_${l[s]}`)).join("")}function Wt(l){return l===!0||fo(l)&&!l.binned}function Bn(l){return l==="binned"||fo(l)&&l.binned===!0}function fo(l){return b.isObject(l)}function Ir(l){return l?.param}function ec(l){switch(l){case Je:case Yr:case wi:case Me:case _a:case Xr:case lo:case _i:case Mt:case ki:case En:return 6;case Xo:return 4;default:return 10}}function Qo(l){return!!l?.expr}function Jn(l){let s=be(l||{}),d={};for(let h of s)d[h]=Un(l[h]);return d}function tc(l){let{anchor:s,frame:d,offset:h,orient:y,angle:w,limit:S,color:A,subtitleColor:C,subtitleFont:L,subtitleFontSize:G,subtitleFontStyle:H,subtitleFontWeight:J,subtitleLineHeight:re,subtitlePadding:ee,...se}=l,de={...s?{anchor:s}:{},...d?{frame:d}:{},...h?{offset:h}:{},...y?{orient:y}:{},...w!==void 0?{angle:w}:{},...S!==void 0?{limit:S}:{}},fe={...C?{subtitleColor:C}:{},...L?{subtitleFont:L}:{},...G?{subtitleFontSize:G}:{},...H?{subtitleFontStyle:H}:{},...J?{subtitleFontWeight:J}:{},...re?{subtitleLineHeight:re}:{},...ee?{subtitlePadding:ee}:{}};return{titleMarkConfig:{...se,...A?{fill:A}:{}},subtitleMarkConfig:V(l,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:de,subtitle:fe}}function da(l){return b.isString(l)||b.isArray(l)&&b.isString(l[0])}function Ke(l){return!!l?.signal}function po(l){return!!l.step}function xa(l){return!b.isArray(l)&&"field"in l&&"data"in l}let Gl=be({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Fd={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kh=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function E0(l){let s=b.isArray(l.condition)?l.condition.map(w0):w0(l.condition);return{...Un(l),condition:s}}function Un(l){if(Qo(l)){let{expr:s,...d}=l;return{signal:s,...d}}return l}function w0(l){if(Qo(l)){let{expr:s,...d}=l;return{signal:s,...d}}return l}function rn(l){if(Qo(l)){let{expr:s,...d}=l;return{signal:s,...d}}return Ke(l)?l:l!==void 0?{value:l}:void 0}function es(l){return Ke(l)?l.signal:b.stringValue(l.value)}function fa(l){return Ke(l)?l.signal:l==null?null:b.stringValue(l)}function Pd(l,s,d){for(let h of d){let y=Ua(h,s.markDef,s.config);y!==void 0&&(l[h]=rn(y))}return l}function _0(l){return[].concat(l.type,l.style??[])}function jt(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:y,ignoreVgConfig:w}=h;return y&&s[y]!==void 0?s[y]:s[l]!==void 0?s[l]:!w||y&&y!==l?Ua(l,s,d,h):void 0}function Ua(l,s,d){let{vgChannel:h}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ve(h?$d(l,s,d.style):void 0,$d(l,s,d.style),h?d[s.type][h]:void 0,d[s.type][l],h?d.mark[h]:d.mark[l])}function $d(l,s,d){return k0(l,_0(s),d)}function k0(l,s,d){let h;s=b.array(s);for(let y of s){let w=d[y];w&&w[l]!==void 0&&(h=w[l])}return h}function jl(l,s){return b.array(l).reduce((d,h)=>(d.field.push(Ge(h,s)),d.order.push(h.sort??"ascending"),d),{field:[],order:[]})}function Hl(l,s){let d=[...l];return s.forEach(h=>{for(let y of d)if(Ce(y,h))return;d.push(h)}),d}function ei(l,s){return Ce(l,s)||!s?l:l?[...b.array(l),...b.array(s)].join(", "):s}function ti(l,s){let d=l.value,h=s.value;if(d==null||h===null)return{explicit:l.explicit,value:null};if((da(d)||Ke(d))&&(da(h)||Ke(h)))return{explicit:l.explicit,value:ei(d,h)};if(da(d)||Ke(d))return{explicit:l.explicit,value:d};if(da(h)||Ke(h))return{explicit:l.explicit,value:h};if(!(da(d)||Ke(d)||da(h)||Ke(h)))return{explicit:l.explicit,value:Hl(d,h)};throw new Error("It should never reach here")}function nt(l,s,d){return(s=function(h){var y=function(w,S){if(typeof w!="object"||w===null)return w;var A=w[Symbol.toPrimitive];if(A!==void 0){var C=A.call(w,S||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}(h,"string");return typeof y=="symbol"?y:String(y)}(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function x0(l,s,d){return function(h,y,w){if(y.set)y.set.call(h,w);else{if(!y.writable)throw new TypeError("attempted to set read only private field");y.value=w}}(l,S0(l,s,"set"),d),d}function S0(l,s,d){if(!s.has(l))throw new TypeError("attempted to "+d+" private field on non-instance");return s.get(l)}function g_(l,s,d){(function(h,y){if(y.has(h))throw new TypeError("Cannot initialize the same private elements twice on an object")})(l,s),s.set(l,d)}function xh(l){return`Invalid specification ${Ye(l)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let Qn='Autosize "fit" only works for single views and layered views.';function Sa(l){return`${l=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function ea(l){return`${l=="width"?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${l=="width"?"x":"y"}".`}function An(l){return l?`Dropping "fit-${l}" because spec has discrete ${ka(l)}.`:'Dropping "fit" because spec has discrete size.'}function pa(l){return`Unknown field for ${l}. Cannot calculate view size.`}function ta(l){return`Cannot project a selection on encoding channel "${l}", which has no field.`}function Ni(l,s){return`Cannot project a selection on encoding channel "${l}" as it uses an aggregate function ("${s}").`}function za(l){return`Selection not supported for ${l} yet.`}let sr="The same selection must be used to override scale domains in a layered view.";function lr(l){return`The "columns" property cannot be used when "${l}" has nested row/column.`}function Or(l,s,d){return`An ancestor parsed field "${l}" as ${d} but a child wants to parse the field as ${s}.`}function Bd(l){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${l} are dropped.`}function Sh(l){return`${l}Offset dropped because ${l} is continuous`}function Ud(l){return`Invalid field type "${l}".`}function A0(l,s){let{fill:d,stroke:h}=s;return`Dropping color ${l} as the plot also has ${d&&h?"fill and stroke":d?"fill":"stroke"}.`}function zd(l,s){return`Dropping ${Ye(l)} from channel "${s}" since it does not contain any data field, datum, value, or signal.`}function Ii(l,s,d){return`${l} dropped as it is incompatible with "${s}"${d?` when ${d}`:""}.`}function Ah(l){return`${l} encoding should be discrete (ordinal / nominal / binned).`}function T0(l){return`${l} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Gd(l,s){return`Using discrete channel "${l}" to encode "${s}" field can be misleading as it does not encode ${s==="ordinal"?"order":"magnitude"}.`}function C0(l){return`Using unaggregated domain with raw field has no effect (${Ye(l)}).`}function Th(l){return`Unaggregated domain not applicable for "${l}" since it produces values outside the origin domain of the source data.`}function Ch(l){return`Unaggregated domain is currently unsupported for log scale (${Ye(l)}).`}function R0(l,s,d){return`${d}-scale's "${s}" is dropped as it does not work with ${l} scale.`}function Rh(l){return`The step for "${l}" is dropped because the ${l==="width"?"x":"y"} is continuous.`}let Nh="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function nc(l,s){return`Invalid ${l}: ${Ye(s)}.`}function jd(l){return`1D error band does not support ${l}.`}function Hd(l){return`Channel ${l} is required for "binned" bin.`}let N0=b.logger(b.Warn),ac=N0;function $e(){ac.warn(...arguments)}function Bs(l){if(l&&b.isObject(l)){for(let s of ts)if(s in l)return!0}return!1}let I0=["january","february","march","april","may","june","july","august","september","october","november","december"],O0=I0.map(l=>l.substr(0,3)),D0=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],b_=D0.map(l=>l.substr(0,3));function qd(l,s){let d=[];if(s&&l.day!==void 0&&be(l).length>1&&($e(function(h){return`Dropping day from datetime ${Ye(h)} as day cannot be combined with other units.`}(l)),delete(l=j(l)).day),l.year!==void 0?d.push(l.year):d.push(2012),l.month!==void 0){let h=s?function(y){if(At(y)&&(y=+y),b.isNumber(y))return y-1;{let w=y.toLowerCase(),S=I0.indexOf(w);if(S!==-1)return S;let A=w.substr(0,3),C=O0.indexOf(A);if(C!==-1)return C;throw new Error(nc("month",y))}}(l.month):l.month;d.push(h)}else if(l.quarter!==void 0){let h=s?function(y){if(At(y)&&(y=+y),b.isNumber(y))return y>4&&$e(nc("quarter",y)),y-1;throw new Error(nc("quarter",y))}(l.quarter):l.quarter;d.push(b.isNumber(h)?3*h:`${h}*3`)}else d.push(0);if(l.date!==void 0)d.push(l.date);else if(l.day!==void 0){let h=s?function(y){if(At(y)&&(y=+y),b.isNumber(y))return y%7;{let w=y.toLowerCase(),S=D0.indexOf(w);if(S!==-1)return S;let A=w.substr(0,3),C=b_.indexOf(A);if(C!==-1)return C;throw new Error(nc("day",y))}}(l.day):l.day;d.push(b.isNumber(h)?h+1:`${h}+1`)}else d.push(1);for(let h of["hours","minutes","seconds","milliseconds"]){let y=l[h];d.push(y===void 0?0:y)}return d}function Us(l){let s=qd(l,!0).join(", ");return l.utc?`utc(${s})`:`datetime(${s})`}let M0={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ts=be(M0);function Dr(l){return b.isObject(l)?l.binned:Ih(l)}function Ih(l){return l&&l.startsWith("binned")}function Wd(l){return l.startsWith("utc")}let L0={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function rc(l){return ts.filter(s=>Dh(l,s))}function Oh(l){let s=rc(l);return s[s.length-1]}function Dh(l,s){let d=l.indexOf(s);return!(d<0)&&!(d>0&&s==="seconds"&&l.charAt(d-1)==="i")&&!(l.length>d+3&&s==="day"&&l.charAt(d+3)==="o")&&!(d>0&&s==="year"&&l.charAt(d-1)==="f")}function y_(l,s){let{end:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},h=kt(s),y=Wd(l)?"utc":"",w,S={};for(let C of ts)Dh(l,C)&&(S[C]=(A=C)==="quarter"?`(${y}quarter(${h})-1)`:`${y}${A}(${h})`,w=C);var A;return d&&(S[w]+="+1"),function(C){let L=qd(C,!1).join(", ");return C.utc?`utc(${L})`:`datetime(${L})`}(S)}function F0(l){if(l)return`timeUnitSpecifier(${Ye(rc(l))}, ${Ye(L0)})`}function zn(l){if(!l)return;let s;return b.isString(l)?s=Ih(l)?{unit:l.substring(6),binned:!0}:{unit:l}:b.isObject(l)&&(s={...l,...l.unit?{unit:l.unit}:{}}),Wd(s.unit)&&(s.utc=!0,s.unit=s.unit.substring(3)),s}function P0(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y=>y,d=zn(l),h=Oh(d.unit);if(h&&h!=="day"){let y={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:w,part:S}=Vd(h,d.step);return`${s(Us({...y,[S]:+y[S]+w}))} - ${s(Us(y))}`}}let v_={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Vd(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(function(d){return!!v_[d]}(l))return{part:l,step:s};switch(l){case"day":case"dayofyear":return{part:"date",step:s};case"quarter":return{part:"month",step:3*s};case"week":return{part:"date",step:7*s}}}function Yd(l){return!!l?.field&&l.equal!==void 0}function zs(l){return!!l?.field&&l.lt!==void 0}function Gs(l){return!!l?.field&&l.lte!==void 0}function js(l){return!!l?.field&&l.gt!==void 0}function Mh(l){return!!l?.field&&l.gte!==void 0}function Kd(l){return!!(l?.field&&(b.isArray(l.range)&&l.range.length===2||Ke(l.range)))}function Xd(l){return!!l?.field&&(b.isArray(l.oneOf)||b.isArray(l.in))}function ql(l){return Xd(l)||Yd(l)||Kd(l)||zs(l)||js(l)||Gs(l)||Mh(l)}function ni(l,s){return au(l,{timeUnit:s,wrapTime:!0})}function Zd(l){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{field:d}=l,h=zn(l.timeUnit),{unit:y,binned:w}=h||{},S=Ge(l,{expr:"datum"}),A=y?`time(${w?S:y_(y,d)})`:S;if(Yd(l))return`${A}===${ni(l.equal,y)}`;if(zs(l))return`${A}<${ni(l.lt,y)}`;if(js(l))return`${A}>${ni(l.gt,y)}`;if(Gs(l))return`${A}<=${ni(l.lte,y)}`;if(Mh(l))return`${A}>=${ni(l.gte,y)}`;if(Xd(l))return`indexof([${function(C,L){return C.map(G=>ni(G,L))}(l.oneOf,y).join(",")}], ${A}) !== -1`;if(function(C){return!!C?.field&&C.valid!==void 0}(l))return ic(A,l.valid);if(Kd(l)){let{range:C}=l,L=Ke(C)?{signal:`${C.signal}[0]`}:C[0],G=Ke(C)?{signal:`${C.signal}[1]`}:C[1];if(L!==null&&G!==null&&s)return"inrange("+A+", ["+ni(L,y)+", "+ni(G,y)+"])";let H=[];return L!==null&&H.push(`${A} >= ${ni(L,y)}`),G!==null&&H.push(`${A} <= ${ni(G,y)}`),H.length>0?H.join(" && "):"true"}throw new Error(`Invalid field predicate: ${Ye(l)}`)}function ic(l){return!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?`isValid(${l}) && isFinite(+${l})`:`!isValid(${l}) || !isFinite(+${l})`}function oc(l){return ql(l)&&l.timeUnit?{...l,timeUnit:zn(l.timeUnit)}:l}function $0(l){return l==="quantitative"||l==="temporal"}function Wl(l){return l==="ordinal"||l==="nominal"}let ho="quantitative",Jd="ordinal",ns="temporal",Qd="nominal",Hs="geojson",zt={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Lh={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function E_(l,s){let d=Lh[l],h=Lh[s];return d===h||d==="ordinal-position"&&h==="time"||h==="ordinal-position"&&d==="time"}let Lt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function B0(l){return Lt[l]}let Vl=new Set(["linear","log","pow","sqrt","symlog"]),Yl=new Set([...Vl,"time","utc"]);function U0(l){return Vl.has(l)}let z0=new Set(["quantile","quantize","threshold"]),w_=new Set([...Yl,...z0,"sequential","identity"]),__=new Set(["ordinal","bin-ordinal","point","band"]);function Gn(l){return __.has(l)}function Ga(l){return w_.has(l)}function Mr(l){return Yl.has(l)}function Kl(l){return z0.has(l)}function G0(l){return l?.param}let{type:IA,domain:k_,range:OA,rangeMax:x_,rangeMin:DA,scheme:MA,...S_}={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},A_=be(S_);function Fh(l,s){switch(s){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(l);case"bins":return!["point","band","identity","ordinal"].includes(l);case"round":return Mr(l)||l==="band"||l==="point";case"padding":case"rangeMin":case"rangeMax":return Mr(l)||["point","band"].includes(l);case"paddingOuter":case"align":return["point","band"].includes(l);case"paddingInner":return l==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Mr(l);case"nice":return Mr(l)||l==="quantize"||l==="threshold";case"exponent":return l==="pow";case"base":return l==="log";case"constant":return l==="symlog";case"zero":return Ga(l)&&!Z(["log","time","utc","threshold","quantile"],l)}}function j0(l,s){switch(s){case"interpolate":case"scheme":case"domainMid":return Jo(l)?void 0:`Cannot use the scale property "${s}" with non-color channel.`;case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}let Aa={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Ph=Aa.arc,ef=Aa.area,tf=Aa.bar,T_=Aa.image,sc=Aa.line,nf=Aa.point,C_=Aa.rect,af=Aa.rule,H0=Aa.text,$h=Aa.tick,R_=Aa.trail,rf=Aa.circle,Bh=Aa.square,q0=Aa.geoshape;function as(l){return["line","area","trail"].includes(l)}function lc(l){return["rect","bar","image","arc"].includes(l)}let N_=new Set(be(Aa));function Oi(l){return l.type}let I_=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],W0=be({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Uh=be({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function qs(l){return l&&l.band!=null}let O_={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},D_={binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},V0={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5};function zh(l){let{channel:s,channelDef:d,markDef:h,scale:y,config:w}=l,S=jh(l);return Ue(d)&&!Ci(d.aggregate)&&y&&Mr(y.get("type"))?function(A){let{fieldDef:C,channel:L,markDef:G,ref:H,config:J}=A;return as(G.type)?H:jt("invalid",G,J)===null?[M_(C,L),H]:H}({fieldDef:d,channel:s,markDef:h,ref:S,config:w}):S}function M_(l,s){return{test:Gh(l,!0),...Ps(s)==="y"?{field:{group:"height"}}:{value:0}}}function Gh(l){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ic(b.isString(l)?l:Ge(l,{expr:"datum"}),!s)}function Ws(l,s,d,h){let y={};if(s&&(y.scale=s),Mi(l)){let{datum:w}=l;Bs(w)?y.signal=Us(w):Ke(w)?y.signal=w.signal:Qo(w)?y.signal=w.expr:y.value=w}else y.field=Ge(l,d);if(h){let{offset:w,band:S}=h;w&&(y.offset=w),S&&(y.band=S)}return y}function of(l){let{scaleName:s,fieldOrDatumDef:d,fieldOrDatumDef2:h,offset:y,startSuffix:w,endSuffix:S="end",bandPosition:A=.5}=l,C=!Ke(A)&&0<A&&A<1?"datum":void 0,L=Ge(d,{expr:C,suffix:w}),G=h!==void 0?Ge(h,{expr:C}):Ge(d,{suffix:S,expr:C}),H={};if(A===0||A===1){H.scale=s;let J=A===0?L:G;H.field=J}else{let J=Ke(A)?`(1-${A.signal}) * ${L} + ${A.signal} * ${G}`:`${1-A} * ${L} + ${A} * ${G}`;H.signal=`scale("${s}", ${J})`}return y&&(H.offset=y),H}function jh(l){let{channel:s,channelDef:d,channel2Def:h,markDef:y,config:w,scaleName:S,scale:A,stack:C,offset:L,defaultRef:G,bandPosition:H}=l;if(d){if(vt(d)){let J=A?.get("type");if(ha(d)){H??=Di({fieldDef:d,fieldDef2:h,markDef:y,config:w});let{bin:re,timeUnit:ee,type:se}=d;if(Wt(re)||H&&ee&&se===ns)return C?.impute?Ws(d,S,{binSuffix:"mid"},{offset:L}):H&&!Gn(J)?of({scaleName:S,fieldOrDatumDef:d,bandPosition:H,offset:L}):Ws(d,S,ru(d,s)?{binSuffix:"range"}:{},{offset:L});if(Bn(re)){if(Ue(h))return of({scaleName:S,fieldOrDatumDef:d,fieldOrDatumDef2:h,bandPosition:H,offset:L});$e(Hd(s===Jt?Kr:Ei))}}return Ws(d,S,Gn(J)?{binSuffix:"range"}:{},{offset:L,band:J==="band"?H??d.bandPosition??.5:void 0})}if(ur(d)){let J=L?{offset:L}:{};return{...Xl(s,d.value),...J}}}return b.isFunction(G)&&(G=G()),G&&{...G,...L?{offset:L}:{}}}function Xl(l,s){return Z(["x","x2"],l)&&s==="width"?{field:{group:"width"}}:Z(["y","y2"],l)&&s==="height"?{field:{group:"height"}}:rn(s)}function Vs(l){return l&&l!=="number"&&l!=="time"}function Y0(l,s,d){return`${l}(${s}${d?`, ${Ye(d)}`:""})`}let L_=" \u2013 ";function Hh(l){let{fieldOrDatumDef:s,format:d,formatType:h,expr:y,normalizeStack:w,config:S}=l;if(Vs(h))return ai({fieldOrDatumDef:s,format:d,formatType:h,expr:y,config:S});let A=K0(s,y,w),C=Ql(s);if(d===void 0&&h===void 0&&S.customFormatTypes){if(C==="quantitative"){if(w&&S.normalizedNumberFormatType)return ai({fieldOrDatumDef:s,format:S.normalizedNumberFormat,formatType:S.normalizedNumberFormatType,expr:y,config:S});if(S.numberFormatType)return ai({fieldOrDatumDef:s,format:S.numberFormat,formatType:S.numberFormatType,expr:y,config:S})}if(C==="temporal"&&S.timeFormatType&&Ue(s)&&s.timeUnit===void 0)return ai({fieldOrDatumDef:s,format:S.timeFormat,formatType:S.timeFormatType,expr:y,config:S})}if(Rt(s)){let L=function(G){let{field:H,timeUnit:J,format:re,formatType:ee,rawTimeFormat:se,isUTCScale:de}=G;return!J||re?!J&&ee?`${ee}(${H}, '${re}')`:(re=b.isString(re)?re:se,`${de?"utc":"time"}Format(${H}, '${re}')`):function(fe,ge,we){if(!fe)return;let Ae=F0(fe);return`${we||Wd(fe)?"utc":"time"}Format(${ge}, ${Ae})`}(J,H,de)}({field:A,timeUnit:Ue(s)?zn(s.timeUnit)?.unit:void 0,format:d,formatType:S.timeFormatType,rawTimeFormat:S.timeFormat,isUTCScale:Li(s)&&s.scale?.type===zt.UTC});return L?{signal:L}:void 0}return d=sf({type:C,specifiedFormat:d,config:S,normalizeStack:w}),Ue(s)&&Wt(s.bin)?{signal:mo(A,Ge(s,{expr:y,binSuffix:"end"}),d,h,S)}:d||Ql(s)==="quantitative"?{signal:`${qh(A,d)}`}:{signal:`isValid(${A}) ? ${A} : ""+${A}`}}function K0(l,s,d){return Ue(l)?d?`${Ge(l,{expr:s,suffix:"end"})}-${Ge(l,{expr:s,suffix:"start"})}`:Ge(l,{expr:s}):function(h){let{datum:y}=h;return Bs(y)?Us(y):`${Ye(y)}`}(l)}function ai(l){let{fieldOrDatumDef:s,format:d,formatType:h,expr:y,normalizeStack:w,config:S,field:A}=l;return A??=K0(s,y,w),A!=="datum.value"&&Ue(s)&&Wt(s.bin)?{signal:mo(A,Ge(s,{expr:y,binSuffix:"end"}),d,h,S)}:{signal:Y0(h,A,d)}}function X0(l,s,d,h,y,w){if(!b.isString(h)||!Vs(h)){if(d===void 0&&h===void 0&&y.customFormatTypes&&Ql(l)==="quantitative"&&(y.normalizedNumberFormatType&&eu(l)&&l.stack==="normalize"||y.numberFormatType))return;if(eu(l)&&l.stack==="normalize"&&y.normalizedNumberFormat)return sf({type:"quantitative",config:y,normalizeStack:!0});if(Rt(l)){let S=Ue(l)?zn(l.timeUnit)?.unit:void 0;return S===void 0&&y.customFormatTypes&&y.timeFormatType?void 0:function(A){let{specifiedFormat:C,timeUnit:L,config:G,omitTimeFormatConfig:H}=A;return C||(L?{signal:F0(L)}:H?void 0:G.timeFormat)}({specifiedFormat:d,timeUnit:S,config:y,omitTimeFormatConfig:w})}return sf({type:s,specifiedFormat:d,config:y})}}function Z0(l,s,d){return l&&(Ke(l)||l==="number"||l==="time")?l:Rt(s)&&d!=="time"&&d!=="utc"?Ue(s)&&zn(s?.timeUnit)?.utc?"utc":"time":void 0}function sf(l){let{type:s,specifiedFormat:d,config:h,normalizeStack:y}=l;return b.isString(d)?d:s===ho?y?h.normalizedNumberFormat:h.numberFormat:void 0}function qh(l,s){return`format(${l}, "${s||""}")`}function Wh(l,s,d,h){return Vs(d)?Y0(d,l,s):qh(l,(b.isString(s)?s:void 0)??h.numberFormat)}function mo(l,s,d,h,y){if(d===void 0&&h===void 0&&y.customFormatTypes&&y.numberFormatType)return mo(l,s,y.numberFormat,y.numberFormatType,y);let w=Wh(l,d,h,y),S=Wh(s,d,h,y);return`${ic(l,!1)} ? "null" : ${w} + "${L_}" + ${S}`}let uc="min",Vh={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function lf(l){return l in Vh}function Yh(l){return!!l?.encoding}function ri(l){return l&&(l.op==="count"||!!l.field)}function cc(l){return l&&b.isArray(l)}function Zl(l){return"row"in l||"column"in l}function uf(l){return!!l&&"header"in l}function dc(l){return"facet"in l}function Kh(l){let{field:s,timeUnit:d,bin:h,aggregate:y}=l;return{...d?{timeUnit:d}:{},...h?{bin:h}:{},...y?{aggregate:y}:{},field:s}}function Ys(l){return"sort"in l}function Di(l){let{fieldDef:s,fieldDef2:d,markDef:h,config:y}=l;if(vt(s)&&s.bandPosition!==void 0)return s.bandPosition;if(Ue(s)){let{timeUnit:w,bin:S}=s;if(w&&!d)return Ua("timeUnitBandPosition",h,y);if(Wt(S))return .5}}function Xh(l){let{channel:s,fieldDef:d,fieldDef2:h,markDef:y,config:w,scaleType:S,useVlSizeChannel:A}=l,C=ka(s),L=jt(A?"size":C,y,w,{vgChannel:C});if(L!==void 0)return L;if(Ue(d)){let{timeUnit:G,bin:H}=d;if(G&&!h)return{band:Ua("timeUnitBandSize",y,w)};if(Wt(H)&&!Gn(S))return{band:1}}return lc(y.type)?S?Gn(S)?w[y.type]?.discreteBandSize||{band:1}:w[y.type]?.continuousBandSize:w[y.type]?.discreteBandSize:void 0}function cf(l,s,d,h){return!!(Wt(l.bin)||l.timeUnit&&ha(l)&&l.type==="temporal")&&Di({fieldDef:l,fieldDef2:s,markDef:d,config:h})!==void 0}function J0(l){return l&&!!l.sort&&!l.field}function df(l){return l&&"condition"in l}function ff(l){let s=l?.condition;return!!s&&!b.isArray(s)&&Ue(s)}function Jl(l){let s=l?.condition;return!!s&&!b.isArray(s)&&vt(s)}function Ue(l){return l&&(!!l.field||l.aggregate==="count")}function Ql(l){return l?.type}function Mi(l){return l&&"datum"in l}function rs(l){return ha(l)&&!tu(l)||pf(l)}function Q0(l){return ha(l)&&l.type==="quantitative"&&!l.bin||pf(l)}function pf(l){return Mi(l)&&b.isNumber(l.datum)}function vt(l){return Ue(l)||Mi(l)}function ha(l){return l&&("field"in l||l.aggregate==="count")&&"type"in l}function ur(l){return l&&"value"in l&&"value"in l}function Li(l){return l&&("scale"in l||"sort"in l)}function eu(l){return l&&("axis"in l||"stack"in l||"impute"in l)}function Zh(l){return l&&"legend"in l}function Jh(l){return l&&("format"in l||"formatType"in l)}function ey(l){return Q(l,["legend","axis","header","scale"])}function Ge(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.field,h=s.prefix,y=s.suffix,w="";if(function(S){return S.aggregate==="count"}(l))d=yt("count");else{let S;if(!s.nofn)if(function(A){return"op"in A}(l))S=l.op;else{let{bin:A,aggregate:C,timeUnit:L}=l;Wt(A)?(S=Ri(A),y=(s.binSuffix??"")+(s.suffix??"")):C?Ti(C)?(w=`["${d}"]`,d=`argmax_${C.argmax}`):Qr(C)?(w=`["${d}"]`,d=`argmin_${C.argmin}`):S=String(C):L&&!Dr(L)&&(S=function(G){let{utc:H,...J}=zn(G);return J.unit?(H?"utc":"")+be(J).map(re=>Pe(`${re==="unit"?"":`_${re}_`}${J[re]}`)).join(""):(H?"utc":"")+"timeunit"+be(J).map(re=>Pe(`_${re}_${J[re]}`)).join("")}(L),y=(!["range","mid"].includes(s.binSuffix)&&s.binSuffix||"")+(s.suffix??""))}S&&(d=d?`${S}_${d}`:S)}return y&&(d=`${d}_${y}`),h&&(d=`${h}_${d}`),s.forAs?St(d):s.expr?an(d,s.expr)+w:Gt(d)+w}function tu(l){switch(l.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Ue(l)&&!!l.bin;case"temporal":return!1}throw new Error(Ud(l.type))}let ty=(l,s)=>{switch(s.fieldTitle){case"plain":return l.field;case"functional":return function(d){let{aggregate:h,bin:y,timeUnit:w,field:S}=d;if(Ti(h))return`${S} for argmax(${h.argmax})`;if(Qr(h))return`${S} for argmin(${h.argmin})`;let A=w&&!Dr(w)?zn(w):void 0,C=h||A?.unit||A?.maxbins&&"timeunit"||Wt(y)&&"bin";return C?`${C.toUpperCase()}(${S})`:S}(l);default:return function(d,h){let{field:y,bin:w,timeUnit:S,aggregate:A}=d;if(A==="count")return h.countTitle;if(Wt(w))return`${y} (binned)`;if(S&&!Dr(S)){let C=zn(S)?.unit;if(C)return`${y} (${rc(C).join("-")})`}else if(A)return Ti(A)?`${y} for max ${A.argmax}`:Qr(A)?`${y} for min ${A.argmin}`:`${gt(A)} of ${y}`;return y}(l,s)}},Qh=ty;function fc(l){Qh=l}function is(l,s,d){let{allowDisabling:h,includeDefault:y=!0}=d,w=hf(l)?.title;if(!Ue(l))return w??l.title;let S=l,A=y?mf(S,s):void 0;return h?Ve(w,S.title,A):w??S.title??A}function hf(l){return eu(l)&&l.axis?l.axis:Zh(l)&&l.legend?l.legend:uf(l)&&l.header?l.header:void 0}function mf(l,s){return Qh(l,s)}function Ks(l){if(Jh(l)){let{format:s,formatType:d}=l;return{format:s,formatType:d}}{let s=hf(l)??{},{format:d,formatType:h}=s;return{format:d,formatType:h}}}function cr(l){return Ue(l)?l:ff(l)?l.condition:void 0}function mn(l){return vt(l)?l:Jl(l)?l.condition:void 0}function em(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return b.isString(l)||b.isNumber(l)||b.isBoolean(l)?($e(function(y,w,S){return`Channel ${y} is a ${w}. Converted to {value: ${Ye(S)}}.`}(s,b.isString(l)?"string":b.isNumber(l)?"number":"boolean",l)),{value:l}):vt(l)?gf(l,s,d,h):Jl(l)?{...l,condition:gf(l.condition,s,d,h)}:l}function gf(l,s,d,h){if(Jh(l)){let{format:y,formatType:w,...S}=l;if(Vs(w)&&!d.customFormatTypes)return $e(Bd(s)),gf(S,s,d,h)}else{let y=eu(l)?"axis":Zh(l)?"legend":uf(l)?"header":null;if(y&&l[y]){let{format:w,formatType:S,...A}=l[y];if(Vs(S)&&!d.customFormatTypes)return $e(Bd(s)),gf({...l,[y]:A},s,d,h)}}return Ue(l)?nu(l,s,h):function(y){let w=y.type;if(w)return y;let{datum:S}=y;return w=b.isNumber(S)?"quantitative":b.isString(S)?"nominal":Bs(S)?"temporal":void 0,{...y,type:w}}(l)}function nu(l,s){let{compositeMark:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:h,timeUnit:y,bin:w,field:S}=l,A={...l};if(d||!h||wn(h)||Ti(h)||Qr(h)||($e(function(C){return`Invalid aggregation operator "${C}".`}(h)),delete A.aggregate),y&&(A.timeUnit=zn(y)),S&&(A.field=`${S}`),Wt(w)&&(A.bin=at(w,s)),Bn(w)&&!sn(s)&&$e(function(C){return`Channel ${C} should not be used with "binned" bin.`}(s)),ha(A)){let{type:C}=A,L=function(G){if(G)switch(G=G.toLowerCase()){case"q":case ho:return"quantitative";case"t":case ns:return"temporal";case"o":case Jd:return"ordinal";case"n":case Qd:return"nominal";case Hs:return"geojson"}}(C);C!==L&&(A.type=L),C!=="quantitative"&&Ci(h)&&($e(function(G,H){return`Invalid field type "${G}" for aggregate: "${H}", using "quantitative" instead.`}(C,h)),A.type="quantitative")}else if(!xi(s)){let C=function(L,G){switch(G){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Ys(L)&&b.isArray(L.sort))return"ordinal";let{aggregate:H,bin:J,timeUnit:re}=L;if(re)return"temporal";if(J||H&&!Ti(H)&&!Qr(H))return"quantitative";if(Li(L)&&L.scale?.type)switch(Lh[L.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(A,s);A.type=C}if(ha(A)){let{compatible:C,warning:L}=function(G,H){let J=G.type;if(J==="geojson"&&H!=="shape")return{compatible:!1,warning:`Channel ${H} should not be used with a geojson data.`};switch(H){case Je:case Yr:case Ml:return tu(G)?Xs:{compatible:!1,warning:Ah(H)};case Jt:case Pn:case dn:case Ko:case Me:case _a:case Xr:case Ll:case uo:case Vu:case Zr:case it:case Fl:case Pa:case nr:case pt:case Id:return Xs;case Fa:case ar:case et:case ca:return J!==ho?{compatible:!1,warning:`Channel ${H} should be used with a quantitative field only, not ${G.type} field.`}:Xs;case _i:case Mt:case ki:case lo:case wi:case so:case $n:case Kr:case Ei:return J!=="nominal"||G.sort?Xs:{compatible:!1,warning:`Channel ${H} should not be used with an unsorted discrete field.`};case En:case Xo:return tu(G)||Li(re=G)&&Kl(re.scale?.type)?Xs:{compatible:!1,warning:T0(H)};case Fs:return G.type!=="nominal"||"sort"in G?Xs:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}var re}(A,s)||{};C===!1&&$e(L)}if(Ys(A)&&b.isString(A.sort)){let{sort:C}=A;if(lf(C))return{...A,sort:{encoding:C}};let L=C.substr(1);if(C.charAt(0)==="-"&&lf(L))return{...A,sort:{encoding:L,order:"descending"}}}if(uf(A)){let{header:C}=A;if(C){let{orient:L,...G}=C;if(L)return{...A,header:{...G,labelOrient:C.labelOrient||L,titleOrient:C.titleOrient||L}}}}return A}function at(l,s){return b.isBoolean(l)?{maxbins:ec(s)}:l==="binned"?{binned:!0}:l.maxbins||l.step?l:{...l,maxbins:ec(s)}}let Xs={compatible:!0};function Rt(l){let{formatType:s}=Ks(l);return s==="time"||!s&&(d=l)&&(d.type==="temporal"||Ue(d)&&!!d.timeUnit);var d}function au(l,s){let{timeUnit:d,type:h,wrapTime:y,undefinedIfExprNotRequired:w}=s,S=d&&zn(d)?.unit,A,C=S||h==="temporal";return Qo(l)?A=l.expr:Ke(l)?A=l.signal:Bs(l)?(C=!0,A=Us(l)):(b.isString(l)||b.isNumber(l))&&C&&(A=`datetime(${Ye(l)})`,function(L){return!!M0[L]}(S)&&(b.isNumber(l)&&l<1e4||b.isString(l)&&isNaN(Date.parse(l)))&&(A=Us({[S]:l}))),A?y&&C?`time(${A})`:A:w?void 0:Ye(l)}function pc(l,s){let{type:d}=l;return s.map(h=>{let y=au(h,{timeUnit:Ue(l)&&!Dr(l.timeUnit)?l.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return y!==void 0?{signal:y}:h})}function ru(l,s){return Wt(l.bin)?Rr(s)&&["ordinal","nominal"].includes(l.type):(console.warn("Only call this method for binned field defs."),!1)}let os={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function iu(l){return l?.condition}let ss=["domain","grid","labels","ticks","title"],bf={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},hc={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},F_={...hc,style:1,labelExpr:1,encoding:1};function ny(l){return!!F_[l]}let Vt=be({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Fi(l){return"mark"in l}class yf{constructor(s,d){this.name=s,this.run=d}hasMatchingType(s){return!!Fi(s)&&(Oi(d=s.mark)?d.type:d)===this.name;var d}}function Pi(l,s){let d=l&&l[s];return!!d&&(b.isArray(d)?te(d,h=>!!h.field):Ue(d)||ff(d))}function go(l,s){let d=l&&l[s];return!!d&&(b.isArray(d)?te(d,h=>!!h.field):Ue(d)||Mi(d)||Jl(d))}function ay(l,s){if(sn(s)){let d=l[s];if((Ue(d)||Mi(d))&&(Wl(d.type)||Ue(d)&&d.timeUnit))return go(l,$l(s))}return!1}function tm(l){return te(u0,s=>{if(Pi(l,s)){let d=l[s];if(b.isArray(d))return te(d,h=>!!h.aggregate);{let h=cr(d);return h&&!!h.aggregate}}return!1})}function ry(l,s){let d=[],h=[],y=[],w=[],S={};return mc(l,(A,C)=>{if(Ue(A)){let{field:L,aggregate:G,bin:H,timeUnit:J,...re}=A;if(G||J||H){let ee=hf(A),se=ee?.title,de=Ge(A,{forAs:!0}),fe={...se?[]:{title:is(A,s,{allowDisabling:!0})},...re,field:de};if(G){let ge;if(Ti(G)?(ge="argmax",de=Ge({op:"argmax",field:G.argmax},{forAs:!0}),fe.field=`${de}.${L}`):Qr(G)?(ge="argmin",de=Ge({op:"argmin",field:G.argmin},{forAs:!0}),fe.field=`${de}.${L}`):G!=="boxplot"&&G!=="errorbar"&&G!=="errorband"&&(ge=G),ge){let we={op:ge,as:de};L&&(we.field=L),w.push(we)}}else if(d.push(de),ha(A)&&Wt(H)){if(h.push({bin:H,field:L,as:de}),d.push(Ge(A,{binSuffix:"end"})),ru(A,C)&&d.push(Ge(A,{binSuffix:"range"})),sn(C)){let ge={field:`${de}_end`};S[`${C}2`]=ge}fe.bin="binned",xi(C)||(fe.type=ho)}else if(J&&!Dr(J)){y.push({timeUnit:J,field:L,as:de});let ge=ha(A)&&A.type!==ns&&"time";ge&&(C===Ll||C===Zr?fe.formatType=ge:function(we){return!!Ai[we]}(C)?fe.legend={formatType:ge,...fe.legend}:sn(C)&&(fe.axis={formatType:ge,...fe.axis}))}S[C]=fe}else d.push(L),S[C]=l[C]}else S[C]=l[C]}),{bins:h,timeUnits:y,aggregate:w,groupby:d,encoding:S}}function vf(l,s,d){let h=wh(s,d);if(!h)return!1;if(h==="binned"){let y=l[s===Kr?Jt:Pn];return!!(Ue(y)&&Ue(l[s])&&Bn(y.bin))}return!0}function ii(l,s){let d={};for(let h of be(l)){let y=em(l[h],h,s,{compositeMark:!0});d[h]=y}return d}function mc(l,s,d){if(l)for(let h of be(l)){let y=l[h];if(b.isArray(y))for(let w of y)s.call(d,w,h);else s.call(d,y,h)}}function nm(l,s){return be(s).reduce((d,h)=>{switch(h){case Jt:case Pn:case it:case Id:case Fl:case Kr:case Ei:case dn:case Ko:case nr:case so:case pt:case $n:case et:case Fa:case ca:case ar:case Ll:case En:case Pa:case Zr:return d;case Fs:if(l==="line"||l==="trail")return d;case uo:case Vu:{let y=s[h];if(b.isArray(y)||Ue(y))for(let w of b.array(y))w.aggregate||d.push(Ge(w,{}));return d}case wi:if(l==="trail")return d;case Me:case _a:case Xr:case _i:case Mt:case ki:case Xo:case lo:{let y=cr(s[h]);return y&&!y.aggregate&&d.push(Ge(y,{})),d}}},[])}function ou(l,s,d){let h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return"tooltip"in d?{tooltip:d.tooltip}:{tooltip:[...l.map(y=>{let{fieldPrefix:w,titlePrefix:S}=y,A=h?` of ${gc(s)}`:"";return{field:w+s.field,type:s.type,title:Ke(S)?{signal:`${S}"${escape(A)}"`}:S+A}}),...Re(function(y){let w=[];for(let S of be(y))if(Pi(y,S)){let A=y[S],C=b.array(A);for(let L of C)Ue(L)?w.push(L):ff(L)&&w.push(L.condition)}return w}(d).map(ey),ae)]}}function gc(l){let{title:s,field:d}=l;return Ve(s,d)}function Ef(l,s,d,h,y){let{scale:w,axis:S}=d;return A=>{let{partName:C,mark:L,positionPrefix:G,endPositionPrefix:H,extraEncoding:J={}}=A,re=gc(d);return wf(l,C,y,{mark:L,encoding:{[s]:{field:`${G}_${d.field}`,type:d.type,...re!==void 0?{title:re}:{},...w!==void 0?{scale:w}:{},...S!==void 0?{axis:S}:{}},...b.isString(H)?{[`${s}2`]:{field:`${H}_${d.field}`}}:{},...h,...J}})}}function wf(l,s,d,h){let{clip:y,color:w,opacity:S}=l,A=l.type;return l[s]||l[s]===void 0&&d[s]?[{...h,mark:{...d[s],...y?{clip:y}:{},...w?{color:w}:{},...S?{opacity:S}:{},...Oi(h.mark)?h.mark:{type:h.mark},style:`${A}-${String(s)}`,...b.isBoolean(l[s])?{}:l[s]}}]:[]}function iy(l,s,d){let{encoding:h}=l,y=s==="vertical"?"y":"x",w=h[y],S=h[`${y}2`],A=h[`${y}Error`],C=h[`${y}Error2`];return{continuousAxisChannelDef:bc(w,d),continuousAxisChannelDef2:bc(S,d),continuousAxisChannelDefError:bc(A,d),continuousAxisChannelDefError2:bc(C,d),continuousAxis:y}}function bc(l,s){if(l?.aggregate){let{aggregate:d,...h}=l;return d!==s&&$e(function(y,w){return`Continuous axis should not have customized aggregation function ${y}; ${w} already agregates the axis.`}(d,s)),h}return l}function Zs(l,s){let{mark:d,encoding:h}=l,{x:y,y:w}=h;if(Oi(d)&&d.orient)return d.orient;if(rs(y)){if(rs(w)){let S=Ue(y)&&y.aggregate,A=Ue(w)&&w.aggregate;if(S||A!==s){if(A||S!==s){if(S===s&&A===s)throw new Error("Both x and y cannot have aggregate");return Rt(w)&&!Rt(y)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(rs(w))return"vertical";throw new Error(`Need a valid continuous axis for ${s}s`)}let ls="boxplot",xe=new yf(ls,am);function Js(l){return b.isNumber(l)?"tukey":l}function am(l,s){let{config:d}=s;l={...l,encoding:ii(l.encoding,d)};let{mark:h,encoding:y,params:w,projection:S,...A}=l,C=Oi(h)?h:{type:h};w&&$e(za("boxplot"));let L=C.extent??d.boxplot.extent,G=jt("size",C,d),H=C.invalid,J=Js(L),{bins:re,timeUnits:ee,transform:se,continuousAxisChannelDef:de,continuousAxis:fe,groupby:ge,aggregate:we,encodingWithoutContinuousAxis:Ae,ticksOrient:Fe,boxOrient:He,customTooltipWithoutAggregatedField:tt}=function(id,qg,Io){let Au=Zs(id,ls),{continuousAxisChannelDef:Wg,continuousAxis:Vg}=iy(id,Au,ls),bn=Wg.field,xs=Js(qg),od=[...rm(bn),{op:"median",field:bn,as:`mid_box_${bn}`},{op:"min",field:bn,as:(xs==="min-max"?"lower_whisker_":"min_")+bn},{op:"max",field:bn,as:(xs==="min-max"?"upper_whisker_":"max_")+bn}],Cp=xs==="min-max"||xs==="tukey"?[]:[{calculate:`datum["upper_box_${bn}"] - datum["lower_box_${bn}"]`,as:`iqr_${bn}`},{calculate:`min(datum["upper_box_${bn}"] + datum["iqr_${bn}"] * ${qg}, datum["max_${bn}"])`,as:`upper_whisker_${bn}`},{calculate:`max(datum["lower_box_${bn}"] - datum["iqr_${bn}"] * ${qg}, datum["min_${bn}"])`,as:`lower_whisker_${bn}`}],{[Vg]:LA,...u1}=id.encoding,{customTooltipWithoutAggregatedField:c1,filteredEncoding:d1}=function(Rn){let{tooltip:Oo,...gl}=Rn;if(!Oo)return{filteredEncoding:gl};let bl,eo;if(b.isArray(Oo)){for(let yl of Oo)yl.aggregate?(bl||(bl=[]),bl.push(yl)):(eo||(eo=[]),eo.push(yl));bl&&(gl.tooltip=bl)}else Oo.aggregate?gl.tooltip=Oo:eo=Oo;return b.isArray(eo)&&eo.length===1&&(eo=eo[0]),{customTooltipWithoutAggregatedField:eo,filteredEncoding:gl}}(u1),{bins:hv,timeUnits:mv,aggregate:gv,groupby:Rp,encoding:Tu}=ry(d1,Io),bv=Au==="vertical"?"horizontal":"vertical",yv=Au,Yg=[...hv,...mv,{aggregate:[...gv,...od],groupby:Rp},...Cp];return{bins:hv,timeUnits:mv,transform:Yg,groupby:Rp,aggregate:gv,continuousAxisChannelDef:Wg,continuousAxis:Vg,encodingWithoutContinuousAxis:Tu,ticksOrient:bv,boxOrient:yv,customTooltipWithoutAggregatedField:c1}}(l,L,d),{color:ut,size:Qe,...Xe}=Ae,xt=id=>Ef(C,fe,de,id,d.boxplot),$t=xt(Xe),Mn=xt(Ae),_n=xt({...Xe,...Qe?{size:Qe}:{}}),kn=ou([{fieldPrefix:J==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:J==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],de,Ae),Bt={type:"tick",color:"black",opacity:1,orient:Fe,invalid:H,aria:!1},It=J==="min-max"?kn:ou([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],de,Ae),gn=[...$t({partName:"rule",mark:{type:"rule",invalid:H,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:It}),...$t({partName:"rule",mark:{type:"rule",invalid:H,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:It}),...$t({partName:"ticks",mark:Bt,positionPrefix:"lower_whisker",extraEncoding:It}),...$t({partName:"ticks",mark:Bt,positionPrefix:"upper_whisker",extraEncoding:It})],Cn=[...J!=="tukey"?gn:[],...Mn({partName:"box",mark:{type:"bar",...G?{size:G}:{},orient:He,invalid:H,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:kn}),..._n({partName:"median",mark:{type:"tick",invalid:H,...b.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},...G?{size:G}:{},orient:Fe,aria:!1},positionPrefix:"mid_box",extraEncoding:kn})];if(J==="min-max")return{...A,transform:(A.transform??[]).concat(se),layer:Cn};let un=`datum["lower_box_${de.field}"]`,Na=`datum["upper_box_${de.field}"]`,Ia=`(${Na} - ${un})`,$r=`${un} - ${L} * ${Ia}`,Yn=`${Na} + ${L} * ${Ia}`,oa=`datum["${de.field}"]`,on={joinaggregate:rm(de.field),groupby:ge},wt={transform:[{filter:`(${$r} <= ${oa}) && (${oa} <= ${Yn})`},{aggregate:[{op:"min",field:de.field,as:`lower_whisker_${de.field}`},{op:"max",field:de.field,as:`upper_whisker_${de.field}`},{op:"min",field:`lower_box_${de.field}`,as:`lower_box_${de.field}`},{op:"max",field:`upper_box_${de.field}`,as:`upper_box_${de.field}`},...we],groupby:ge}],layer:gn},{tooltip:Ya,...ks}=Xe,{scale:Qi,axis:Su}=de,Ka=gc(de),hr=Q(Su,["title"]),ma=wf(C,"outliers",d.boxplot,{transform:[{filter:`(${oa} < ${$r}) || (${oa} > ${Yn})`}],mark:"point",encoding:{[fe]:{field:de.field,type:de.type,...Ka!==void 0?{title:Ka}:{},...Qi!==void 0?{scale:Qi}:{},...ye(hr)?{}:{axis:hr}},...ks,...ut?{color:ut}:{},...tt?{tooltip:tt}:{}}})[0],hi,No=[...re,...ee,on];return ma?hi={transform:No,layer:[ma,wt]}:(hi=wt,hi.transform.unshift(...No)),{...A,layer:[hi,{transform:se,layer:Cn}]}}function rm(l){return[{op:"q1",field:l,as:`lower_box_${l}`},{op:"q3",field:l,as:`upper_box_${l}`}]}let _f="errorbar",im=new yf(_f,kf);function kf(l,s){let{config:d}=s;l={...l,encoding:ii(l.encoding,d)};let{transform:h,continuousAxisChannelDef:y,continuousAxis:w,encodingWithoutContinuousAxis:S,ticksOrient:A,markDef:C,outerSpec:L,tooltipEncoding:G}=sm(l,_f,d);delete S.size;let H=Ef(C,w,y,S,d.errorbar),J=C.thickness,re=C.size,ee={type:"tick",orient:A,aria:!1,...J!==void 0?{thickness:J}:{},...re!==void 0?{size:re}:{}},se=[...H({partName:"ticks",mark:ee,positionPrefix:"lower",extraEncoding:G}),...H({partName:"ticks",mark:ee,positionPrefix:"upper",extraEncoding:G}),...H({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...J!==void 0?{size:J}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:G})];return{...L,transform:h,...se.length>1?{layer:se}:{...se[0]}}}function om(l,s){let{encoding:d}=l;if(function(A){return(vt(A.x)||vt(A.y))&&!vt(A.x2)&&!vt(A.y2)&&!vt(A.xError)&&!vt(A.xError2)&&!vt(A.yError)&&!vt(A.yError2)}(d))return{orient:Zs(l,s),inputType:"raw"};let h=function(A){return vt(A.x2)||vt(A.y2)}(d),y=function(A){return vt(A.xError)||vt(A.xError2)||vt(A.yError)||vt(A.yError2)}(d),w=d.x,S=d.y;if(h){if(y)throw new Error(`${s} cannot be both type aggregated-upper-lower and aggregated-error`);let A=d.x2,C=d.y2;if(vt(A)&&vt(C))throw new Error(`${s} cannot have both x2 and y2`);if(vt(A)){if(rs(w))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${s}`)}if(vt(C)){if(rs(S))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${s}`)}throw new Error("No ranged axis")}{let A=d.xError,C=d.xError2,L=d.yError,G=d.yError2;if(vt(C)&&!vt(A))throw new Error(`${s} cannot have xError2 without xError`);if(vt(G)&&!vt(L))throw new Error(`${s} cannot have yError2 without yError`);if(vt(A)&&vt(L))throw new Error(`${s} cannot have both xError and yError with both are quantiative`);if(vt(A)){if(rs(w))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(vt(L)){if(rs(S))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function sm(l,s,d){let{mark:h,encoding:y,params:w,projection:S,...A}=l,C=Oi(h)?h:{type:h};w&&$e(za(s));let{orient:L,inputType:G}=om(l,s),{continuousAxisChannelDef:H,continuousAxisChannelDef2:J,continuousAxisChannelDefError:re,continuousAxisChannelDefError2:ee,continuousAxis:se}=iy(l,L,s),{errorBarSpecificAggregate:de,postAggregateCalculates:fe,tooltipSummary:ge,tooltipTitleWithFieldName:we}=function(It,gn,Cn,un,Na,Ia,$r,Yn){let oa=[],on=[],wt=gn.field,Ya,ks=!1;if(Ia==="raw"){let Ka=It.center?It.center:It.extent?It.extent==="iqr"?"median":"mean":Yn.errorbar.center,hr=It.extent?It.extent:Ka==="mean"?"stderr":"iqr";if(Ka==="median"!=(hr==="iqr")&&$e(function(ma,hi,No){return`${ma} is not usually used with ${hi} for ${No}.`}(Ka,hr,$r)),hr==="stderr"||hr==="stdev")oa=[{op:hr,field:wt,as:`extent_${wt}`},{op:Ka,field:wt,as:`center_${wt}`}],on=[{calculate:`datum["center_${wt}"] + datum["extent_${wt}"]`,as:`upper_${wt}`},{calculate:`datum["center_${wt}"] - datum["extent_${wt}"]`,as:`lower_${wt}`}],Ya=[{fieldPrefix:"center_",titlePrefix:gt(Ka)},{fieldPrefix:"upper_",titlePrefix:lm(Ka,hr,"+")},{fieldPrefix:"lower_",titlePrefix:lm(Ka,hr,"-")}],ks=!0;else{let ma,hi,No;hr==="ci"?(ma="mean",hi="ci0",No="ci1"):(ma="median",hi="q1",No="q3"),oa=[{op:hi,field:wt,as:`lower_${wt}`},{op:No,field:wt,as:`upper_${wt}`},{op:ma,field:wt,as:`center_${wt}`}],Ya=[{fieldPrefix:"upper_",titlePrefix:is({field:wt,aggregate:No,type:"quantitative"},Yn,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:is({field:wt,aggregate:hi,type:"quantitative"},Yn,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:is({field:wt,aggregate:ma,type:"quantitative"},Yn,{allowDisabling:!1})}]}}else{(It.center||It.extent)&&$e((Qi=It.center,`${(Su=It.extent)?"extent ":""}${Su&&Qi?"and ":""}${Qi?"center ":""}${Su&&Qi?"are ":"is "}not needed when data are aggregated.`)),Ia==="aggregated-upper-lower"?(Ya=[],on=[{calculate:`datum["${Cn.field}"]`,as:`upper_${wt}`},{calculate:`datum["${wt}"]`,as:`lower_${wt}`}]):Ia==="aggregated-error"&&(Ya=[{fieldPrefix:"",titlePrefix:wt}],on=[{calculate:`datum["${wt}"] + datum["${un.field}"]`,as:`upper_${wt}`}],Na?on.push({calculate:`datum["${wt}"] + datum["${Na.field}"]`,as:`lower_${wt}`}):on.push({calculate:`datum["${wt}"] - datum["${un.field}"]`,as:`lower_${wt}`}));for(let Ka of on)Ya.push({fieldPrefix:Ka.as.substring(0,6),titlePrefix:_t(_t(Ka.calculate,'datum["',""),'"]',"")})}var Qi,Su;return{postAggregateCalculates:on,errorBarSpecificAggregate:oa,tooltipSummary:Ya,tooltipTitleWithFieldName:ks}}(C,H,J,re,ee,G,s,d),{[se]:Ae,[se==="x"?"x2":"y2"]:Fe,[se==="x"?"xError":"yError"]:He,[se==="x"?"xError2":"yError2"]:tt,...ut}=y,{bins:Qe,timeUnits:Xe,aggregate:xt,groupby:$t,encoding:Mn}=ry(ut,d),_n=[...xt,...de],kn=G!=="raw"?[]:$t,Bt=ou(ge,H,Mn,we);return{transform:[...A.transform??[],...Qe,...Xe,..._n.length===0?[]:[{aggregate:_n,groupby:kn}],...fe],groupby:kn,continuousAxisChannelDef:H,continuousAxis:se,encodingWithoutContinuousAxis:Mn,ticksOrient:L==="vertical"?"horizontal":"vertical",markDef:C,outerSpec:A,tooltipEncoding:Bt}}function lm(l,s,d){return`${gt(l)} ${d} ${s}`}let xf="errorband",oy=new yf(xf,sy);function sy(l,s){let{config:d}=s;l={...l,encoding:ii(l.encoding,d)};let{transform:h,continuousAxisChannelDef:y,continuousAxis:w,encodingWithoutContinuousAxis:S,markDef:A,outerSpec:C,tooltipEncoding:L}=sm(l,xf,d),G=A,H=Ef(G,w,y,S,d.errorband),J=l.encoding.x!==void 0&&l.encoding.y!==void 0,re={type:J?"area":"rect"},ee={type:J?"line":"rule"},se={...G.interpolate?{interpolate:G.interpolate}:{},...G.tension&&G.interpolate?{tension:G.tension}:{}};return J?(re={...re,...se,ariaRoleDescription:"errorband"},ee={...ee,...se,aria:!1}):G.interpolate?$e(jd("interpolate")):G.tension&&$e(jd("tension")),{...C,transform:h,layer:[...H({partName:"band",mark:re,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:L}),...H({partName:"borders",mark:ee,positionPrefix:"lower",extraEncoding:L}),...H({partName:"borders",mark:ee,positionPrefix:"upper",extraEncoding:L})]}}let su={};function lu(l,s,d){let h=new yf(l,s);su[l]={normalizer:h,parts:d}}lu(ls,am,["box","median","outliers","rule","ticks"]),lu(_f,kf,["ticks","rule"]),lu(xf,sy,["band","borders"]);let um=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],yc={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},vc={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},cm=be(yc),dm=be(vc),Sf=be({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Af=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],dr="_vgsid_",fm={point:{on:"click",fields:[dr],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Tf(l){return l==="legend"||!!l?.legend}function Cf(l){return Tf(l)&&b.isObject(l)}function Ec(l){return!!l?.select}function Rf(l){let s=[];for(let d of l||[]){if(Ec(d))continue;let{expr:h,bind:y,...w}=d;if(y&&h){let S={...w,bind:y,init:h};s.push(S)}else{let S={...w,...h?{update:h}:{},...y?{bind:y}:{}};s.push(S)}}return s}function wc(l){return"concat"in l}function uu(l){return"vconcat"in l}function Nf(l){return"hconcat"in l}function If(l){let{step:s,offsetIsDiscrete:d}=l;return d?s.for??"offset":"position"}function ja(l){return b.isObject(l)&&l.step!==void 0}function _c(l){return l.view||l.width||l.height}let kc=be({align:1,bounds:1,center:1,columns:1,spacing:1});function us(l,s){return l[s]??l[s==="width"?"continuousWidth":"continuousHeight"]}function cu(l,s){let d=xc(l,s);return ja(d)?d.step:pm}function xc(l,s){return Ve(l[s]??l[s==="width"?"discreteWidth":"discreteHeight"],{step:l.step})}let pm=20,ly={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:pm},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:D_,circle:{},geoshape:{},image:{},line:{},point:{},rect:V0,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:fm,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},oi=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],hm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},uy={blue:oi[0],orange:oi[1],red:oi[2],teal:oi[3],green:oi[4],yellow:oi[5],purple:oi[6],pink:oi[7],brown:oi[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function mm(l){let s=be(l||{}),d={};for(let h of s){let y=l[h];d[h]=iu(y)?E0(y):Un(y)}return d}let cy=[...Uh,...Vt,...Sf,"background","padding","legend","lineBreak","scale","style","title","view"];function gm(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:s,font:d,fontSize:h,selection:y,...w}=l,S=b.mergeConfig({},j(ly),d?function(C){return{text:{font:C},style:{"guide-label":{font:C},"guide-title":{font:C},"group-title":{font:C},"group-subtitle":{font:C}}}}(d):{},s?function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:b.isObject(C)?{...uy,...C}:uy}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(s):{},h?function(C){return{signals:[{name:"fontSize",value:b.isObject(C)?{...hm,...C}:hm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(h):{},w||{});y&&b.writeConfig(S,"selection",y,!0);let A=Q(S,cy);for(let C of["background","lineBreak","padding"])S[C]&&(A[C]=Un(S[C]));for(let C of Uh)S[C]&&(A[C]=Jn(S[C]));for(let C of Vt)S[C]&&(A[C]=mm(S[C]));for(let C of Sf)S[C]&&(A[C]=Jn(S[C]));return S.legend&&(A.legend=Jn(S.legend)),S.scale&&(A.scale=Jn(S.scale)),S.style&&(A.style=function(C){let L=be(C),G={};for(let H of L)G[H]=mm(C[H]);return G}(S.style)),S.title&&(A.title=Jn(S.title)),S.view&&(A.view=Jn(S.view)),A}let P_=new Set(["view",...N_]),$_=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],B_={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]};function Of(l){l=j(l);for(let s of $_)delete l[s];if(l.axis)for(let s in l.axis)iu(l.axis[s])&&delete l.axis[s];if(l.legend)for(let s of um)delete l.legend[s];if(l.mark){for(let s of W0)delete l.mark[s];l.mark.tooltip&&b.isObject(l.mark.tooltip)&&delete l.mark.tooltip}l.params&&(l.signals=(l.signals||[]).concat(Rf(l.params)),delete l.params);for(let s of P_){for(let h of W0)delete l[s][h];let d=B_[s];if(d)for(let h of d)delete l[s][h];U_(l,s)}for(let s of be(su))delete l[s];(function(s){let{titleMarkConfig:d,subtitleMarkConfig:h,subtitle:y}=tc(s.title);ye(d)||(s.style["group-title"]={...s.style["group-title"],...d}),ye(h)||(s.style["group-subtitle"]={...s.style["group-subtitle"],...h}),ye(y)?delete s.title:s.title=y})(l);for(let s in l)b.isObject(l[s])&&ye(l[s])&&delete l[s];return ye(l)?void 0:l}function U_(l,s,d,h){s==="view"&&(d="cell");let y={...h?l[s][h]:l[s],...l.style[d??s]};ye(y)||(l.style[d??s]=y),h||delete l[s]}function du(l){return"layer"in l}class Df{map(s,d){return dc(s)?this.mapFacet(s,d):function(h){return"repeat"in h}(s)?this.mapRepeat(s,d):Nf(s)?this.mapHConcat(s,d):uu(s)?this.mapVConcat(s,d):wc(s)?this.mapConcat(s,d):this.mapLayerOrUnit(s,d)}mapLayerOrUnit(s,d){if(du(s))return this.mapLayer(s,d);if(Fi(s))return this.mapUnit(s,d);throw new Error(xh(s))}mapLayer(s,d){return{...s,layer:s.layer.map(h=>this.mapLayerOrUnit(h,d))}}mapHConcat(s,d){return{...s,hconcat:s.hconcat.map(h=>this.map(h,d))}}mapVConcat(s,d){return{...s,vconcat:s.vconcat.map(h=>this.map(h,d))}}mapConcat(s,d){let{concat:h,...y}=s;return{...y,concat:h.map(w=>this.map(w,d))}}mapFacet(s,d){return{...s,spec:this.map(s.spec,d)}}mapRepeat(s,d){return{...s,spec:this.map(s.spec,d)}}}let bm={zero:1,center:1,normalize:1},z_=new Set([Ph,tf,ef,af,nf,rf,Bh,sc,H0,$h]),Sc=new Set([tf,ef,Ph]);function $i(l){return Ue(l)&&Ql(l)==="quantitative"&&!l.bin}function ym(l,s,d){let{orient:h,type:y}=d,w=s==="x"?"y":"radius",S=s==="x",A=l[s],C=l[w];if(Ue(A)&&Ue(C))if($i(A)&&$i(C)){if(A.stack)return s;if(C.stack)return w;let L=Ue(A)&&!!A.aggregate;if(L!==(Ue(C)&&!!C.aggregate))return L?s:w;if(S&&["bar","area"].includes(y)){if(h==="vertical")return w;if(h==="horizontal")return s}}else{if($i(A))return s;if($i(C))return w}else{if($i(A))return s;if($i(C))return w}}function vm(l,s){let d=Oi(l)?l:{type:l},h=d.type;if(!z_.has(h))return null;let y=ym(s,"x",d)||ym(s,"theta",d);if(!y)return null;let w=s[y],S=Ue(w)?Ge(w,{}):void 0,A=function(de){switch(de){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(y),C=[],L=new Set;if(s[A]){let de=s[A],fe=Ue(de)?Ge(de,{}):void 0;fe&&fe!==S&&(C.push(A),L.add(fe))}let G=A==="x"?"xOffset":"yOffset",H=s[G],J=Ue(H)?Ge(H,{}):void 0;J&&J!==S&&(C.push(G),L.add(J));let re=$s.reduce((de,fe)=>{if(fe!=="tooltip"&&Pi(s,fe)){let ge=s[fe];for(let we of b.array(ge)){let Ae=cr(we);if(Ae.aggregate)continue;let Fe=Ge(Ae,{});Fe&&L.has(Fe)||de.push({channel:fe,fieldDef:Ae})}}return de},[]),ee;return w.stack!==void 0?ee=b.isBoolean(w.stack)?w.stack?"zero":null:w.stack:Sc.has(h)&&(ee="zero"),ee&&ee in bm?tm(s)&&re.length===0?null:w?.scale?.type&&w?.scale?.type!==zt.LINEAR?(w?.stack&&$e(function(de){return`Cannot stack non-linear scale (${de}).`}(w.scale.type)),null):vt(s[Si(y)])?(w.stack!==void 0&&$e(`Cannot stack "${se=y}" if there is already "${se}2".`),null):(Ue(w)&&w.aggregate&&!Nr.has(w.aggregate)&&$e(`Stacking is applied even though the aggregate function is non-summative ("${w.aggregate}").`),{groupbyChannels:C,groupbyFields:L,fieldChannel:y,impute:w.impute!==null&&as(h),stackBy:re,offset:ee}):null;var se}function dy(l,s,d){let h=Jn(l),y=jt("orient",h,d);if(h.orient=function(w,S,A){switch(w){case nf:case rf:case Bh:case H0:case C_:case T_:return}let{x:C,y:L,x2:G,y2:H}=S;switch(w){case tf:if(Ue(C)&&(Bn(C.bin)||Ue(L)&&L.aggregate&&!C.aggregate))return"vertical";if(Ue(L)&&(Bn(L.bin)||Ue(C)&&C.aggregate&&!L.aggregate))return"horizontal";if(H||G){if(A)return A;if(!G)return(Ue(C)&&C.type===ho&&!Wt(C.bin)||pf(C))&&Ue(L)&&Bn(L.bin)?"horizontal":"vertical";if(!H)return(Ue(L)&&L.type===ho&&!Wt(L.bin)||pf(L))&&Ue(C)&&Bn(C.bin)?"vertical":"horizontal"}case af:if(G&&(!Ue(C)||!Bn(C.bin))&&H&&(!Ue(L)||!Bn(L.bin)))return;case ef:if(H)return Ue(L)&&Bn(L.bin)?"horizontal":"vertical";if(G)return Ue(C)&&Bn(C.bin)?"vertical":"horizontal";if(w===af){if(C&&!L)return"vertical";if(L&&!C)return"horizontal"}case sc:case $h:{let J=Q0(C),re=Q0(L);if(A)return A;if(J&&!re)return w!=="tick"?"horizontal":"vertical";if(!J&&re)return w!=="tick"?"vertical":"horizontal";if(J&&re)return"vertical";{let ee=ha(C)&&C.type===ns,se=ha(L)&&L.type===ns;if(ee&&!se)return"vertical";if(!ee&&se)return"horizontal"}return}}return"vertical"}(h.type,s,y),y!==void 0&&y!==h.orient&&$e(`Specified orient "${h.orient}" overridden with "${y}".`),h.type==="bar"&&h.orient){let w=jt("cornerRadiusEnd",h,d);if(w!==void 0){let S=h.orient==="horizontal"&&s.x2||h.orient==="vertical"&&s.y2?["cornerRadius"]:O_[h.orient];for(let A of S)h[A]=w;h.cornerRadiusEnd!==void 0&&delete h.cornerRadiusEnd}}return jt("opacity",h,d)===void 0&&(h.opacity=function(w,S){if(Z([nf,$h,rf,Bh],w)&&!tm(S))return .7}(h.type,s)),jt("cursor",h,d)===void 0&&(h.cursor=function(w,S,A){return S.href||w.href||jt("href",w,A)?"pointer":w.cursor}(h,s,d)),h}function G_(l){let{point:s,line:d,...h}=l;return be(h).length>1?h:h.type}function j_(l){for(let s of["line","area","rule","trail"])l[s]&&(l={...l,[s]:Q(l[s],["point","line"])});return l}function Em(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;return l.point==="transparent"?{opacity:0}:l.point?b.isObject(l.point)?l.point:{}:l.point!==void 0?null:s.point||d.shape?b.isObject(s.point)?s.point:{}:void 0}function wm(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.line?l.line===!0?{}:l.line:l.line!==void 0?null:s.line?s.line===!0?{}:s.line:void 0}class _m{constructor(){nt(this,"name","path-overlay")}hasMatchingType(s,d){if(Fi(s)){let{mark:h,encoding:y}=s,w=Oi(h)?h:{type:h};switch(w.type){case"line":case"rule":case"trail":return!!Em(w,d[w.type],y);case"area":return!!Em(w,d[w.type],y)||!!wm(w,d[w.type])}}return!1}run(s,d,h){let{config:y}=d,{params:w,projection:S,mark:A,name:C,encoding:L,...G}=s,H=ii(L,y),J=Oi(A)?A:{type:A},re=Em(J,y[J.type],H),ee=J.type==="area"&&wm(J,y[J.type]),se=[{name:C,...w?{params:w}:{},mark:G_({...J.type==="area"&&J.opacity===void 0&&J.fillOpacity===void 0?{opacity:.7}:{},...J}),encoding:Q(H,["shape"])}],de=vm(dy(J,H,y),H),fe=H;if(de){let{fieldChannel:ge,offset:we}=de;fe={...H,[ge]:{...H[ge],...we?{stack:we}:{}}}}return fe=Q(fe,["y2","x2"]),ee&&se.push({...S?{projection:S}:{},mark:{type:"line",...V(J,["clip","interpolate","tension","tooltip"]),...ee},encoding:fe}),re&&se.push({...S?{projection:S}:{},mark:{type:"point",opacity:1,filled:!0,...V(J,["clip","tooltip"]),...re},encoding:fe}),h({...G,layer:se},{...d,config:j_(y)})}}function na(l,s){return s?Zl(l)?fy(l,s):km(l,s):l}function Bi(l,s){return s?fy(l,s):l}function Ac(l,s,d){let h=s[l];return(y=h)&&!b.isString(y)&&"repeat"in y?h.repeat in d?{...s,[l]:d[h.repeat]}:void $e(function(w){return`Unknown repeated value "${w}".`}(h.repeat)):s;var y}function km(l,s){if((l=Ac("field",l,s))!==void 0){if(l===null)return null;if(Ys(l)&&ri(l.sort)){let d=Ac("field",l.sort,s);l={...l,...d?{sort:d}:{}}}return l}}function Mf(l,s){if(Ue(l))return km(l,s);{let d=Ac("datum",l,s);return d===l||d.type||(d.type="nominal"),d}}function xm(l,s){if(!vt(l)){if(Jl(l)){let d=Mf(l.condition,s);if(d)return{...l,condition:d};{let{condition:h,...y}=l;return y}}return l}{let d=Mf(l,s);if(d)return d;if(df(l))return{condition:l.condition}}}function fy(l,s){let d={};for(let h in l)if(b.hasOwnProperty(l,h)){let y=l[h];if(b.isArray(y))d[h]=y.map(w=>xm(w,s)).filter(w=>w);else{let w=xm(y,s);w!==void 0&&(d[h]=w)}}return d}class Sm{constructor(){nt(this,"name","RuleForRangedLine")}hasMatchingType(s){if(Fi(s)){let{encoding:d,mark:h}=s;if(h==="line"||Oi(h)&&h.type==="line")for(let y of o_){let w=d[Ps(y)];if(d[y]&&(Ue(w)&&!Bn(w.bin)||Mi(w)))return!0}}return!1}run(s,d,h){let{encoding:y,mark:w}=s;var S,A;return $e((S=!!y.x2,A=!!y.y2,`Line mark is for continuous lines and thus cannot be used with ${S&&A?"x2 and y2":S?"x2":"y2"}. We will use the rule mark (line segments) instead.`)),h({...s,mark:b.isObject(w)?{...w,type:"rule"}:"rule"},d)}}function Lf(l){let{parentEncoding:s,encoding:d={},layer:h}=l,y={};if(s){let w=new Set([...be(s),...be(d)]);for(let S of w){let A=d[S],C=s[S];if(vt(A)){let L={...C,...A};y[S]=L}else Jl(A)?y[S]={...A,condition:{...C,...A.condition}}:A||A===null?y[S]=A:(h||ur(C)||Ke(C)||vt(C)||b.isArray(C))&&(y[S]=C)}}else y=d;return!y||ye(y)?void 0:y}function Am(l){let{parentProjection:s,projection:d}=l;return s&&d&&$e(function(h){let{parentProjection:y,projection:w}=h;return`Layer's shared projection ${Ye(y)} is overridden by a child projection ${Ye(w)}.`}({parentProjection:s,projection:d})),d??s}function Tm(l){return"filter"in l}function Cm(l){return"lookup"in l}function H_(l){return"pivot"in l}function py(l){return"density"in l}function Rm(l){return"quantile"in l}function hy(l){return"regression"in l}function q_(l){return"loess"in l}function my(l){return"sample"in l}function Nm(l){return"window"in l}function Im(l){return"joinaggregate"in l}function gy(l){return"flatten"in l}function W_(l){return"calculate"in l}function Ff(l){return"bin"in l}function Om(l){return"impute"in l}function Pf(l){return"timeUnit"in l}function by(l){return"aggregate"in l}function V_(l){return"stack"in l}function Dm(l){return"fold"in l}function Mm(l){return"extent"in l&&!("density"in l)}function $f(l,s){let{transform:d,...h}=l;return d?{...h,transform:d.map(y=>{if(Tm(y))return{filter:fu(y,s)};if(Ff(y)&&fo(y.bin))return{...y,bin:Lm(y.bin)};if(Cm(y)){let{selection:w,...S}=y.from;return w?{...y,from:{param:w,...S}}:y}return y})}:l}function Bf(l,s){let d=j(l);if(Ue(d)&&fo(d.bin)&&(d.bin=Lm(d.bin)),Li(d)&&d.scale?.domain?.selection){let{selection:h,...y}=d.scale.domain;d.scale.domain={...y,...h?{param:h}:{}}}if(df(d))if(b.isArray(d.condition))d.condition=d.condition.map(h=>{let{selection:y,param:w,test:S,...A}=h;return w?h:{...A,test:fu(h,s)}});else{let{selection:h,param:y,test:w,...S}=Bf(d.condition,s);d.condition=y?d.condition:{...S,test:fu(d.condition,s)}}return d}function Lm(l){let s=l.extent;if(s?.selection){let{selection:d,...h}=s;return{...l,extent:{...h,param:d}}}return l}function fu(l,s){let d=h=>F(h,y=>{let w={param:y,empty:s.emptySelections[y]??!0};return s.selectionPredicates[y]??=[],s.selectionPredicates[y].push(w),w});return l.selection?d(l.selection):F(l.test||l.filter,h=>h.selection?d(h.selection):h)}class Fm extends Df{map(s,d){let h=d.selections??[];if(s.params&&!Fi(s)){let y=[];for(let w of s.params)Ec(w)?h.push(w):y.push(w);s.params=y}return d.selections=h,super.map(s,d)}mapUnit(s,d){let h=d.selections;if(!h||!h.length)return s;let y=(d.path??[]).concat(s.name),w=[];for(let S of h)if(S.views&&S.views.length)for(let A of S.views)(b.isString(A)&&(A===s.name||y.includes(A))||b.isArray(A)&&A.map(C=>y.indexOf(C)).every((C,L,G)=>C!==-1&&(L===0||C>G[L-1])))&&w.push(S);else w.push(S);return w.length&&(s.params=w),s}}for(let l of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let s=Fm.prototype[l];Fm.prototype[l]=function(d,h){return s.call(this,d,Pm(d,h))}}function Pm(l,s){return l.name?{...s,path:(s.path??[]).concat(l.name)}:s}function Uf(l,s){s===void 0&&(s=gm(l.config));let d=function(S){let C={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return Y_.map($m.map(yy.map(S,C),C),C)}(l,s),{width:h,height:y}=l,w=function(S,A,C){let{width:L,height:G}=A,H=Fi(S)||du(S),J={};H?L=="container"&&G=="container"?(J.type="fit",J.contains="padding"):L=="container"?(J.type="fit-x",J.contains="padding"):G=="container"&&(J.type="fit-y",J.contains="padding"):(L=="container"&&($e(Sa("width")),L=void 0),G=="container"&&($e(Sa("height")),G=void 0));let re={type:"pad",...J,...C?Bm(C.autosize):{},...Bm(S.autosize)};if(re.type!=="fit"||H||($e(Qn),re.type="pad"),L=="container"&&re.type!="fit"&&re.type!="fit-x"&&$e(ea("width")),G=="container"&&re.type!="fit"&&re.type!="fit-y"&&$e(ea("height")),!Ce(re,{type:"pad"}))return re}(d,{width:h,height:y,autosize:l.autosize},s);return{...d,...w?{autosize:w}:{}}}let $m=new class extends Df{constructor(){super(...arguments),nt(this,"nonFacetUnitNormalizers",[xe,im,oy,new _m,new Sm])}map(l,s){if(Fi(l)){let d=Pi(l.encoding,Je),h=Pi(l.encoding,Yr),y=Pi(l.encoding,Ml);if(d||h||y)return this.mapFacetedUnit(l,s)}return super.map(l,s)}mapUnit(l,s){let{parentEncoding:d,parentProjection:h}=s,y=Bi(l.encoding,s.repeater),w={...l,...l.name?{name:[s.repeaterPrefix,l.name].filter(A=>A).join("_")}:{},...y?{encoding:y}:{}};if(d||h)return this.mapUnitWithParentEncodingOrProjection(w,s);let S=this.mapLayerOrUnit.bind(this);for(let A of this.nonFacetUnitNormalizers)if(A.hasMatchingType(w,s.config))return A.run(w,s,S);return w}mapRepeat(l,s){return function(d){return!b.isArray(d.repeat)&&d.repeat.layer}(l)?this.mapLayerRepeat(l,s):this.mapNonLayerRepeat(l,s)}mapLayerRepeat(l,s){let{repeat:d,spec:h,...y}=l,{row:w,column:S,layer:A}=d,{repeater:C={},repeaterPrefix:L=""}=s;return w||S?this.mapRepeat({...l,repeat:{...w?{row:w}:{},...S?{column:S}:{}},spec:{repeat:{layer:A},spec:h}},s):{...y,layer:A.map(G=>{let H={...C,layer:G},J=`${(h.name?`${h.name}_`:"")+L}child__layer_${Pe(G)}`,re=this.mapLayerOrUnit(h,{...s,repeater:H,repeaterPrefix:J});return re.name=J,re})}}mapNonLayerRepeat(l,s){let{repeat:d,spec:h,data:y,...w}=l;!b.isArray(d)&&l.columns&&(l=Q(l,["columns"]),$e(lr("repeat")));let S=[],{repeater:A={},repeaterPrefix:C=""}=s,L=!b.isArray(d)&&d.row||[A?A.row:null],G=!b.isArray(d)&&d.column||[A?A.column:null],H=b.isArray(d)&&d||[A?A.repeat:null];for(let re of H)for(let ee of L)for(let se of G){let de={repeat:re,row:ee,column:se,layer:A.layer},fe=(h.name?`${h.name}_`:"")+C+"child__"+(b.isArray(d)?`${Pe(re)}`:(d.row?`row_${Pe(ee)}`:"")+(d.column?`column_${Pe(se)}`:"")),ge=this.map(h,{...s,repeater:de,repeaterPrefix:fe});ge.name=fe,S.push(Q(ge,["data"]))}let J=b.isArray(d)?l.columns:d.column?d.column.length:1;return{data:h.data??y,align:"all",...w,columns:J,concat:S}}mapFacet(l,s){let{facet:d}=l;return Zl(d)&&l.columns&&(l=Q(l,["columns"]),$e(lr("facet"))),super.mapFacet(l,s)}mapUnitWithParentEncodingOrProjection(l,s){let{encoding:d,projection:h}=l,{parentEncoding:y,parentProjection:w,config:S}=s,A=Am({parentProjection:w,projection:h}),C=Lf({parentEncoding:y,encoding:Bi(d,s.repeater)});return this.mapUnit({...l,...A?{projection:A}:{},...C?{encoding:C}:{}},{config:S})}mapFacetedUnit(l,s){let{row:d,column:h,facet:y,...w}=l.encoding,{mark:S,width:A,projection:C,height:L,view:G,params:H,encoding:J,...re}=l,{facetMapping:ee,layout:se}=this.getFacetMappingAndLayout({row:d,column:h,facet:y},s),de=Bi(w,s.repeater);return this.mapFacet({...re,...se,facet:ee,spec:{...A?{width:A}:{},...L?{height:L}:{},...G?{view:G}:{},...C?{projection:C}:{},mark:S,encoding:de,...H?{params:H}:{}}},s)}getFacetMappingAndLayout(l,s){let{row:d,column:h,facet:y}=l;if(d||h){y&&$e(`Facet encoding dropped as ${(w=[...d?[Je]:[],...h?[Yr]:[]]).join(" and ")} ${w.length>1?"are":"is"} also specified.`);let S={},A={};for(let C of[Je,Yr]){let L=l[C];if(L){let{align:G,center:H,spacing:J,columns:re,...ee}=L;S[C]=ee;for(let se of["align","center","spacing"])L[se]!==void 0&&(A[se]??={},A[se][C]=L[se])}}return{facetMapping:S,layout:A}}{let{align:S,center:A,spacing:C,columns:L,...G}=y;return{facetMapping:na(G,s.repeater),layout:{...S?{align:S}:{},...A?{center:A}:{},...C?{spacing:C}:{},...L?{columns:L}:{}}}}var w}mapLayer(l,s){let{parentEncoding:d,parentProjection:h,...y}=s,{encoding:w,projection:S,...A}=l,C={...y,parentEncoding:Lf({parentEncoding:d,encoding:w,layer:!0}),parentProjection:Am({parentProjection:h,projection:S})};return super.mapLayer({...A,...l.name?{name:[C.repeaterPrefix,l.name].filter(L=>L).join("_")}:{}},C)}},yy=new class extends Df{map(l,s){return s.emptySelections??={},s.selectionPredicates??={},l=$f(l,s),super.map(l,s)}mapLayerOrUnit(l,s){if((l=$f(l,s)).encoding){let d={};for(let[h,y]of ke(l.encoding))d[h]=Bf(y,s);l={...l,encoding:d}}return super.mapLayerOrUnit(l,s)}mapUnit(l,s){let{selection:d,...h}=l;return d?{...h,params:ke(d).map(y=>{let[w,S]=y,{init:A,bind:C,empty:L,...G}=S;G.type==="single"?(G.type="point",G.toggle=!1):G.type==="multi"&&(G.type="point"),s.emptySelections[w]=L!=="none";for(let H of Se(s.selectionPredicates[w]??{}))H.empty=L!=="none";return{name:w,value:A,select:G,bind:C}})}:l}},Y_=new Fm;function Bm(l){return b.isString(l)?{type:l}:l??{}}let Um=["background","padding"];function zf(l,s){let d={};for(let h of Um)l&&l[h]!==void 0&&(d[h]=Un(l[h]));return s&&(d.params=l.params),d}class Ui{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=s,this.implicit=d}clone(){return new Ui(j(this.explicit),j(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(s){return Ve(this.explicit[s],this.implicit[s])}getWithExplicit(s){return this.explicit[s]!==void 0?{explicit:!0,value:this.explicit[s]}:this.implicit[s]!==void 0?{explicit:!1,value:this.implicit[s]}:{explicit:!1,value:void 0}}setWithExplicit(s,d){let{value:h,explicit:y}=d;h!==void 0&&this.set(s,h,y)}set(s,d,h){return delete this[h?"implicit":"explicit"][s],this[h?"explicit":"implicit"][s]=d,this}copyKeyFromSplit(s,d){let{explicit:h,implicit:y}=d;h[s]!==void 0?this.set(s,h[s],!0):y[s]!==void 0&&this.set(s,y[s],!1)}copyKeyFromObject(s,d){d[s]!==void 0&&this.set(s,d[s],!0)}copyAll(s){for(let d of be(s.combine())){let h=s.getWithExplicit(d);this.setWithExplicit(d,h)}}}function zi(l){return{explicit:!0,value:l}}function Lr(l){return{explicit:!1,value:l}}function vy(l){return(s,d,h,y)=>{let w=l(s.value,d.value);return w>0?s:w<0?d:Tc(s,d,h,y)}}function Tc(l,s,d,h){return l.explicit&&s.explicit&&$e(function(y,w,S,A){return`Conflicting ${w.toString()} property "${y.toString()}" (${Ye(S)} and ${Ye(A)}). Using ${Ye(S)}.`}(d,h,l.value,s.value)),l}function Gi(l,s,d,h){let y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Tc;return l===void 0||l.value===void 0?s:l.explicit&&!s.explicit?l:s.explicit&&!l.explicit?s:Ce(l.value,s.value)?l:y(l,s,d,h)}class Ey extends Ui{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];super(s,d),this.explicit=s,this.implicit=d,this.parseNothing=h}clone(){let s=super.clone();return s.parseNothing=this.parseNothing,s}}function cs(l){return"url"in l}function pu(l){return"values"in l}function Gf(l){return"name"in l&&!cs(l)&&!pu(l)&&!bo(l)}function bo(l){return l&&(jf(l)||Hf(l)||qf(l))}function jf(l){return"sequence"in l}function Hf(l){return"sphere"in l}function qf(l){return"graticule"in l}let tn=function(l){return l[l.Raw=0]="Raw",l[l.Main=1]="Main",l[l.Row=2]="Row",l[l.Column=3]="Column",l[l.Lookup=4]="Lookup",l}({});function zm(l){let{signals:s,hasLegend:d,index:h,...y}=l;return y.field=Gt(y.field),y}function ds(l){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.identity;if(b.isArray(l)){let h=l.map(y=>ds(y,s,d));return s?`[${h.join(", ")}]`:h}return Bs(l)?d(s?Us(l):function(h){let y=qd(h,!0);return h.utc?+new Date(Date.UTC(...y)):+new Date(...y)}(l)):s?d(Ye(l)):l}function wy(l,s){for(let d of Se(l.component.selection??{})){let h=d.name,y=`${h}${Eo}, ${d.resolve==="global"?"true":`{unit: ${Ha(l)}}`}`;for(let w of nl)w.defined(d)&&(w.signals&&(s=w.signals(l,d,s)),w.modifyExpr&&(y=w.modifyExpr(l,d,y)));s.push({name:h+Fy,on:[{events:{signal:d.name+Eo},update:`modify(${b.stringValue(d.name+ps)}, ${y})`}]})}return Wf(s)}function Cc(l,s){if(l.component.selection&&be(l.component.selection).length){let d=b.stringValue(l.getName("cell"));s.unshift({name:"facet",value:{},on:[{events:b.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${d}).datum`}]})}return Wf(s)}function _y(l,s){for(let d of Se(l.component.selection??{}))for(let h of nl)h.defined(d)&&h.marks&&(s=h.marks(l,d,s));return s}function Wf(l){return l.map(s=>(s.on&&!s.on.length&&delete s.on,s))}class Ht{constructor(s,d){this.debugName=d,nt(this,"_children",[]),nt(this,"_parent",null),nt(this,"_hash",void 0),s&&(this.parent=s)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(s){this._parent=s,s&&s.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(s,d){this._children.includes(s)?$e("Attempt to add the same child twice."):d!==void 0?this._children.splice(d,0,s):this._children.push(s)}removeChild(s){let d=this._children.indexOf(s);return this._children.splice(d,1),d}remove(){let s=this._parent.removeChild(this);for(let d of this._children)d._parent=this._parent,this._parent.addChild(d,s++)}insertAsParentOf(s){let d=s.parent;d.removeChild(this),this.parent=d,s.parent=this}swapWithParent(){let s=this._parent,d=s.parent;for(let y of this._children)y.parent=s;this._children=[],s.removeChild(this);let h=s.parent.removeChild(s);this._parent=d,d.addChild(this,h),s.parent=this}}class aa extends Ht{clone(){let s=new this.constructor;return s.debugName=`clone_${this.debugName}`,s._source=this._source,s._name=`clone_${this._name}`,s.type=this.type,s.refCounts=this.refCounts,s.refCounts[s._name]=0,s}constructor(s,d,h,y){super(s,d),this.type=h,this.refCounts=y,nt(this,"_source",void 0),nt(this,"_name",void 0),this._source=this._name=d,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Xt()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(s){this._source=s}}function Gm(l){return l.as!==void 0}function ky(l){return`${l}_end`}class ji extends Ht{clone(){return new ji(null,j(this.timeUnits))}constructor(s,d){super(s),this.timeUnits=d}static makeFromEncoding(s,d){let h=d.reduceFieldDef((y,w,S)=>{let{field:A,timeUnit:C}=w;if(C){let L;if(Dr(C)){if(ln(d)){let{mark:G,markDef:H,config:J}=d,re=Di({fieldDef:w,markDef:H,config:J});(lc(G)||re)&&(L={timeUnit:zn(C),field:A})}}else L={as:Ge(w,{forAs:!0}),field:A,timeUnit:C};if(ln(d)){let{mark:G,markDef:H,config:J}=d,re=Di({fieldDef:w,markDef:H,config:J});lc(G)&&sn(S)&&re!==.5&&(L.rectBandPosition=re)}L&&(y[ae(L)]=L)}return y},{});return ye(h)?null:new ji(s,h)}static makeFromTransform(s,d){let{timeUnit:h,...y}={...d},w={...y,timeUnit:zn(h)};return new ji(s,{[ae(w)]:w})}merge(s){this.timeUnits={...this.timeUnits};for(let d in s.timeUnits)this.timeUnits[d]||(this.timeUnits[d]=s.timeUnits[d]);for(let d of s.children)s.removeChild(d),d.parent=this;s.remove()}removeFormulas(s){let d={};for(let[h,y]of ke(this.timeUnits)){let w=Gm(y)?y.as:`${y.field}_end`;s.has(w)||(d[h]=y)}this.timeUnits=d}producedFields(){return new Set(Se(this.timeUnits).map(s=>Gm(s)?s.as:ky(s.field)))}dependentFields(){return new Set(Se(this.timeUnits).map(s=>s.field))}hash(){return`TimeUnit ${ae(this.timeUnits)}`}assemble(){let s=[];for(let d of Se(this.timeUnits)){let{rectBandPosition:h}=d,y=zn(d.timeUnit);if(Gm(d)){let{field:w,as:S}=d,{unit:A,utc:C,...L}=y,G=[S,`${S}_end`];s.push({field:Gt(w),type:"timeunit",...A?{units:rc(A)}:{},...C?{timezone:"utc"}:{},...L,as:G}),s.push(...ra(G,h,y))}else if(d){let{field:w}=d,S=w.replaceAll("\\.","."),A=jm({timeUnit:y,field:S}),C=ky(S);s.push({type:"formula",expr:A,as:C}),s.push(...ra([S,C],h,y))}}return s}}let Vf="offsetted_rect_start",Ft="offsetted_rect_end";function jm(l){let{timeUnit:s,field:d,reverse:h}=l,{unit:y,utc:w}=s,S=Oh(y),{part:A,step:C}=Vd(S,s.step);return`${w?"utcOffset":"timeOffset"}('${A}', datum['${d}'], ${h?-C:C})`}function ra(l,s,d){let[h,y]=l;if(s!==void 0&&s!==.5){let w=`datum['${h}']`,S=`datum['${y}']`;return[{type:"formula",expr:fs([jm({timeUnit:d,field:h,reverse:!0}),w],s+.5),as:`${h}_${Vf}`},{type:"formula",expr:fs([w,S],s+.5),as:`${h}_${Ft}`}]}return[]}function fs(l,s){let[d,h]=l;return`${1-s} * ${d} + ${s} * ${h}`}let Rc="_tuple_fields";class Hm{constructor(){nt(this,"hasChannel",void 0),nt(this,"hasField",void 0),nt(this,"hasSelectionId",void 0),nt(this,"timeUnit",void 0),nt(this,"items",void 0);for(var s=arguments.length,d=new Array(s),h=0;h<s;h++)d[h]=arguments[h];this.items=d,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let Hi={defined:()=>!0,parse:(l,s,d)=>{let h=s.name,y=s.project??=new Hm,w={},S={},A=new Set,C=(ee,se)=>{let de=se==="visual"?ee.channel:ee.field,fe=Pe(`${h}_${de}`);for(let ge=1;A.has(fe);ge++)fe=Pe(`${h}_${de}_${ge}`);return A.add(fe),{[se]:fe}},L=s.type,G=l.config.selection[L],H=d.value!==void 0?b.array(d.value):null,{fields:J,encodings:re}=b.isObject(d.select)?d.select:{};if(!J&&!re&&H){for(let ee of H)if(b.isObject(ee))for(let se of be(ee))i_[se]?(re||(re=[])).push(se):L==="interval"?($e('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),re=G.encodings):(J??=[]).push(se)}J||re||(re=G.encodings,"fields"in G&&(J=G.fields));for(let ee of re??[]){let se=l.fieldDef(ee);if(se){let de=se.field;if(se.aggregate){$e(Ni(ee,se.aggregate));continue}if(!de){$e(ta(ee));continue}if(se.timeUnit&&!Dr(se.timeUnit)){de=l.vgField(ee);let fe={timeUnit:se.timeUnit,as:de,field:se.field};S[ae(fe)]=fe}if(!w[de]){let fe={field:de,channel:ee,type:L==="interval"&&Rr(ee)&&Ga(l.getScaleComponent(ee).get("type"))?"R":se.bin?"R-RE":"E",index:y.items.length};fe.signals={...C(fe,"data"),...C(fe,"visual")},y.items.push(w[de]=fe),y.hasField[de]=w[de],y.hasSelectionId=y.hasSelectionId||de===dr,Zo(ee)?(fe.geoChannel=ee,fe.channel=ph(ee),y.hasChannel[fe.channel]=w[de]):y.hasChannel[ee]=w[de]}}else $e(ta(ee))}for(let ee of J??[]){if(y.hasField[ee])continue;let se={type:"E",field:ee,index:y.items.length};se.signals={...C(se,"data")},y.items.push(se),y.hasField[ee]=se,y.hasSelectionId=y.hasSelectionId||ee===dr}H&&(s.init=H.map(ee=>y.items.map(se=>b.isObject(ee)?ee[se.geoChannel||se.channel]!==void 0?ee[se.geoChannel||se.channel]:ee[se.field]:ee))),ye(S)||(y.timeUnit=new ji(null,S))},signals:(l,s,d)=>{let h=s.name+Rc;return d.filter(y=>y.name===h).length>0||s.project.hasSelectionId?d:d.concat({name:h,value:s.project.items.map(zm)})}},Ta={defined:l=>l.type==="interval"&&l.resolve==="global"&&l.bind&&l.bind==="scales",parse:(l,s)=>{let d=s.scales=[];for(let h of s.project.items){let y=h.channel;if(!Rr(y))continue;let w=l.getScaleComponent(y),S=w?w.get("type"):void 0;w&&Ga(S)?(w.set("selectionExtent",{param:s.name,field:h.field},!0),d.push(h)):$e("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(l,s,d)=>{let h=s.scales.filter(S=>d.filter(A=>A.name===S.signals.data).length===0);if(!l.parent||Qs(l)||h.length===0)return d;let y=d.filter(S=>S.name===s.name)[0],w=y.update;if(w.indexOf(tg)>=0)y.update=`{${h.map(S=>`${b.stringValue(Gt(S.field))}: ${S.signals.data}`).join(", ")}}`;else{for(let S of h){let A=`${b.stringValue(Gt(S.field))}: ${S.signals.data}`;w.includes(A)||(w=`${w.substring(0,w.length-1)}, ${A}}`)}y.update=w}return d.concat(h.map(S=>({name:S.signals.data})))},signals:(l,s,d)=>{if(l.parent&&!Qs(l))for(let h of s.scales){let y=d.filter(w=>w.name===h.signals.data)[0];y.push="outer",delete y.value,delete y.update}return d}};function jn(l,s){return`domain(${b.stringValue(l.scaleName(s))})`}function Qs(l){return l.parent&&vs(l.parent)&&!l.parent.parent}let yo="_brush",qm="_scale_trigger",hu="geo_interval_init_tick",Yf="_init",Wm={defined:l=>l.type==="interval",parse:(l,s,d)=>{if(l.hasProjection){let h={...b.isObject(d.select)?d.select:{}};h.fields=[dr],h.encodings||(h.encodings=d.value?be(d.value):[Fa,et]),d.select={type:"interval",...h}}if(s.translate&&!Ta.defined(s)){let h=`!event.item || event.item.mark.name !== ${b.stringValue(s.name+yo)}`;for(let y of s.events){if(!y.between){$e(`${y} is not an ordered event stream for interval selections.`);continue}let w=b.array(y.between[0].filter??=[]);w.indexOf(h)<0&&w.push(h)}}},signals:(l,s,d)=>{let h=s.name,y=h+Eo,w=Se(s.project.hasChannel).filter(A=>A.channel===Jt||A.channel===Pn),S=s.init?s.init[0]:null;if(d.push(...w.reduce((A,C)=>A.concat(function(L,G,H,J){let re=!L.hasProjection,ee=H.channel,se=H.signals.visual,de=b.stringValue(re?L.scaleName(ee):L.projectionName()),fe=Fe=>`scale(${de}, ${Fe})`,ge=L.getSizeSignalRef(ee===Jt?"width":"height").signal,we=`${ee}(unit)`,Ae=G.events.reduce((Fe,He)=>[...Fe,{events:He.between[0],update:`[${we}, ${we}]`},{events:He,update:`[${se}[0], clamp(${we}, 0, ${ge})]`}],[]);if(re){let Fe=H.signals.data,He=Ta.defined(G),tt=L.getScaleComponent(ee),ut=tt?tt.get("type"):void 0,Qe=J?{init:ds(J,!0,fe)}:{value:[]};return Ae.push({events:{signal:G.name+qm},update:Ga(ut)?`[${fe(`${Fe}[0]`)}, ${fe(`${Fe}[1]`)}]`:"[0, 0]"}),He?[{name:Fe,on:[]}]:[{name:se,...Qe,on:Ae},{name:Fe,...J?{init:ds(J)}:{},on:[{events:{signal:se},update:`${se}[0] === ${se}[1] ? null : invert(${de}, ${se})`}]}]}{let Fe=ee===Jt?0:1,He=G.name+Yf;return[{name:se,...J?{init:`[${He}[0][${Fe}], ${He}[1][${Fe}]]`}:{value:[]},on:Ae}]}}(l,s,C,S&&S[C.index])),[])),l.hasProjection){let A=b.stringValue(l.projectionName()),C=l.projectionName()+"_center",{x:L,y:G}=s.project.hasChannel,H=L&&L.signals.visual,J=G&&G.signals.visual,re=L?S&&S[L.index]:`${C}[0]`,ee=G?S&&S[G.index]:`${C}[1]`,se=we=>l.getSizeSignalRef(we).signal,de=`[[${H?H+"[0]":"0"}, ${J?J+"[0]":"0"}],[${H?H+"[1]":se("width")}, ${J?J+"[1]":se("height")}]]`;S&&(d.unshift({name:h+Yf,init:`[scale(${A}, [${L?re[0]:re}, ${G?ee[0]:ee}]), scale(${A}, [${L?re[1]:re}, ${G?ee[1]:ee}])]`}),!L||!G)&&(d.find(we=>we.name===C)||d.unshift({name:C,update:`invert(${A}, [${se("width")}/2, ${se("height")}/2])`}));let fe=`vlSelectionTuples(${`intersect(${de}, {markname: ${b.stringValue(l.getName("marks"))}}, unit.mark)`}, ${`{unit: ${Ha(l)}}`})`,ge=w.map(we=>we.signals.visual);return d.concat({name:y,on:[{events:[...ge.length?[{signal:ge.join(" || ")}]:[],...S?[{signal:hu}]:[]],update:fe}]})}{if(!Ta.defined(s)){let L=h+qm,G=w.map(H=>{let J=H.channel,{data:re,visual:ee}=H.signals,se=b.stringValue(l.scaleName(J)),de=Ga(l.getScaleComponent(J).get("type"))?"+":"";return`(!isArray(${re}) || (${de}invert(${se}, ${ee})[0] === ${de}${re}[0] && ${de}invert(${se}, ${ee})[1] === ${de}${re}[1]))`});G.length&&d.push({name:L,value:{},on:[{events:w.map(H=>({scale:l.scaleName(H.channel)})),update:G.join(" && ")+` ? ${L} : {}`}]})}let A=w.map(L=>L.signals.data),C=`unit: ${Ha(l)}, fields: ${h+Rc}, values`;return d.concat({name:y,...S?{init:`{${C}: ${ds(S)}}`}:{},...A.length?{on:[{events:[{signal:A.join(" || ")}],update:`${A.join(" && ")} ? {${C}: [${A}]} : null`}]}:{}})}},topLevelSignals:(l,s,d)=>(ln(l)&&l.hasProjection&&s.init&&(d.filter(h=>h.name===hu).length||d.unshift({name:hu,value:null,on:[{events:"timer{1}",update:`${hu} === null ? {} : ${hu}`}]})),d),marks:(l,s,d)=>{let h=s.name,{x:y,y:w}=s.project.hasChannel,S=y?.signals.visual,A=w?.signals.visual,C=`data(${b.stringValue(s.name+ps)})`;if(Ta.defined(s)||!y&&!w)return d;let L={x:y!==void 0?{signal:`${S}[0]`}:{value:0},y:w!==void 0?{signal:`${A}[0]`}:{value:0},x2:y!==void 0?{signal:`${S}[1]`}:{field:{group:"width"}},y2:w!==void 0?{signal:`${A}[1]`}:{field:{group:"height"}}};if(s.resolve==="global")for(let se of be(L))L[se]=[{test:`${C}.length && ${C}[0].unit === ${Ha(l)}`,...L[se]},{value:0}];let{fill:G,fillOpacity:H,cursor:J,...re}=s.mark,ee=be(re).reduce((se,de)=>(se[de]=[{test:[y!==void 0&&`${S}[0] !== ${S}[1]`,w!==void 0&&`${A}[0] !== ${A}[1]`].filter(fe=>fe).join(" && "),value:re[de]},{value:null}],se),{});return[{name:`${h+yo}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:G},fillOpacity:{value:H}},update:L}},...d,{name:h+yo,type:"rect",clip:!0,encode:{enter:{...J?{cursor:{value:J}}:{},fill:{value:"transparent"}},update:{...L,...ee}}}]}},el={defined:l=>l.type==="point",signals:(l,s,d)=>{let h=s.name,y=h+Rc,w=s.project,S="(item().isVoronoi ? datum.datum : datum)",A=Se(l.component.selection??{}).reduce((H,J)=>J.type==="interval"?H.concat(J.name+yo):H,[]).map(H=>`indexof(item().mark.name, '${H}') < 0`).join(" && "),C="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(A?` && ${A}`:""),L=`unit: ${Ha(l)}, `;s.project.hasSelectionId?L+=`${dr}: ${S}[${b.stringValue(dr)}]`:L+=`fields: ${y}, values: [${w.items.map(H=>l.fieldDef(H.channel)?.bin?`[${S}[${b.stringValue(l.vgField(H.channel,{}))}], ${S}[${b.stringValue(l.vgField(H.channel,{binSuffix:"end"}))}]]`:`${S}[${b.stringValue(H.field)}]`).join(", ")}]`;let G=s.events;return d.concat([{name:h+Eo,on:G?[{events:G,update:`${C} ? {${L}} : null`,force:!0}]:[]}])}};function mu(l,s,d,h){let y=df(s)&&s.condition,w=h(s);return y?{[d]:[...b.array(y).map(S=>{let A=h(S);if(function(C){return C.param}(S)){let{param:C,empty:L}=S;return{test:yu(l,{param:C,empty:L}),...A}}return{test:Wi(l,S.test),...A}}),...w!==void 0?[w]:[]]}:w!==void 0?{[d]:w}:{}}function Kf(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",d=l.encoding[s];return mu(l,d,s,h=>gu(h,l.config))}function gu(l,s){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(l){if(ur(l))return rn(l.value);if(vt(l)){let{format:h,formatType:y}=Ks(l);return Hh({fieldOrDatumDef:l,format:h,formatType:y,expr:d,config:s})}}}function Nc(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:d,markDef:h,config:y,stack:w}=l,S=d.tooltip;if(b.isArray(S))return{tooltip:xy({tooltip:S},w,y,s)};{let A=s.reactiveGeom?"datum.datum":"datum";return mu(l,S,"tooltip",C=>{let L=gu(C,y,A);if(L)return L;if(C===null)return;let G=jt("tooltip",h,y);return G===!0&&(G={content:"encoding"}),b.isString(G)?{value:G}:b.isObject(G)?Ke(G)?G:G.content==="encoding"?xy(d,w,y,s):{signal:A}:void 0})}}function Ic(l,s,d){let{reactiveGeom:h}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y={...d,...d.tooltipFormat},w={},S=h?"datum.datum":"datum",A=[];function C(G,H){let J=Ps(H),re=ha(G)?G:{...G,type:l[J].type},ee=re.title||mf(re,y),se=b.array(ee).join(", ").replaceAll(/"/g,'\\"'),de;if(sn(H)){let fe=H==="x"?"x2":"y2",ge=cr(l[fe]);if(Bn(re.bin)&&ge){let we=Ge(re,{expr:S}),Ae=Ge(ge,{expr:S}),{format:Fe,formatType:He}=Ks(re);de=mo(we,Ae,Fe,He,y),w[fe]=!0}}if((sn(H)||H===nr||H===pt)&&s&&s.fieldChannel===H&&s.offset==="normalize"){let{format:fe,formatType:ge}=Ks(re);de=Hh({fieldOrDatumDef:re,format:fe,formatType:ge,expr:S,config:y,normalizeStack:!0}).signal}de??=gu(re,y,S).signal,A.push({channel:H,key:se,value:de})}mc(l,(G,H)=>{Ue(G)?C(G,H):ff(G)&&C(G.condition,H)});let L={};for(let{channel:G,key:H,value:J}of A)w[G]||L[H]||(L[H]=J);return L}function xy(l,s,d){let{reactiveGeom:h}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=Ic(l,s,d,{reactiveGeom:h}),w=ke(y).map(S=>{let[A,C]=S;return`"${A}": ${C}`});return w.length>0?{signal:`{${w.join(", ")}}`}:void 0}function K_(l){let{markDef:s,config:d}=l,h=jt("aria",s,d);return h===!1?{}:{...h?{aria:h}:{},...X_(l),...Z_(l)}}function X_(l){let{mark:s,markDef:d,config:h}=l;if(h.aria===!1)return{};let y=jt("ariaRoleDescription",d,h);return y!=null?{ariaRoleDescription:{value:y}}:s in Fd?{}:{ariaRoleDescription:{value:s}}}function Z_(l){let{encoding:s,markDef:d,config:h,stack:y}=l,w=s.description;if(w)return mu(l,w,"description",C=>gu(C,l.config));let S=jt("description",d,h);if(S!=null)return{description:rn(S)};if(h.aria===!1)return{};let A=Ic(s,y,h);return ye(A)?void 0:{description:{signal:ke(A).map((C,L)=>{let[G,H]=C;return`"${L>0?"; ":""}${G}: " + (${H})`}).join(" + ")}}}function Hn(l,s){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:h,encoding:y,config:w}=s,{vgChannel:S}=d,{defaultRef:A,defaultValue:C}=d;A===void 0&&(C??=jt(l,h,w,{vgChannel:S,ignoreVgConfig:!0}),C!==void 0&&(A=rn(C)));let L=y[l];return mu(s,L,S??l,G=>jh({channel:l,channelDef:G,markDef:h,config:w,scaleName:s.scaleName(l),scale:s.getScaleComponent(l),stack:null,defaultRef:A}))}function Oc(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:d,encoding:h,config:y}=l,{type:w}=d,S=s.filled??jt("filled",d,y),A=Z(["bar","point","circle","square","geoshape"],w)?"transparent":void 0,C=jt(S===!0?"color":void 0,d,y,{vgChannel:"fill"})??y.mark[S===!0&&"color"]??A,L=jt(S===!1?"color":void 0,d,y,{vgChannel:"stroke"})??y.mark[S===!1&&"color"],G=S?"fill":"stroke",H={...C?{fill:rn(C)}:{},...L?{stroke:rn(L)}:{}};return d.color&&(S?d.fill:d.stroke)&&$e(A0("property",{fill:"fill"in d,stroke:"stroke"in d})),{...H,...Hn("color",l,{vgChannel:G,defaultValue:S?C:L}),...Hn("fill",l,{defaultValue:h.fill?C:void 0}),...Hn("stroke",l,{defaultValue:h.stroke?L:void 0})}}function Sy(l){let{encoding:s,mark:d}=l,h=s.order;return!as(d)&&ur(h)?mu(l,h,"zindex",y=>rn(y.value)):{}}function bu(l){let{channel:s,markDef:d,encoding:h={},model:y,bandPosition:w}=l,S=`${s}Offset`,A=d[S],C=h[S];if((S==="xOffset"||S==="yOffset")&&C)return{offsetType:"encoding",offset:jh({channel:S,channelDef:C,markDef:d,config:y?.config,scaleName:y.scaleName(S),scale:y.getScaleComponent(S),stack:null,defaultRef:rn(A),bandPosition:w})};let L=d[S];return L?{offsetType:"visual",offset:L}:{}}function qn(l,s,d){let{defaultPos:h,vgChannel:y}=d,{encoding:w,markDef:S,config:A,stack:C}=s,L=w[l],G=w[Si(l)],H=s.scaleName(l),J=s.getScaleComponent(l),{offset:re,offsetType:ee}=bu({channel:l,markDef:S,encoding:w,model:s,bandPosition:.5}),se=Xf({model:s,defaultPos:h,channel:l,scaleName:H,scale:J}),de=!L&&sn(l)&&(w.latitude||w.longitude)?{field:s.getName(l)}:function(fe){let{channel:ge,channelDef:we,scaleName:Ae,stack:Fe,offset:He,markDef:tt}=fe;if(vt(we)&&Fe&&ge===Fe.fieldChannel){if(Ue(we)){let ut=we.bandPosition;if(ut!==void 0||tt.type!=="text"||ge!=="radius"&&ge!=="theta"||(ut=.5),ut!==void 0)return of({scaleName:Ae,fieldOrDatumDef:we,startSuffix:"start",bandPosition:ut,offset:He})}return Ws(we,Ae,{suffix:"end"},{offset:He})}return zh(fe)}({channel:l,channelDef:L,channel2Def:G,markDef:S,config:A,scaleName:H,scale:J,stack:C,offset:re,defaultRef:se,bandPosition:ee==="encoding"?0:void 0});return de?{[y||l]:de}:void 0}function Xf(l){let{model:s,defaultPos:d,channel:h,scaleName:y,scale:w}=l,{markDef:S,config:A}=s;return()=>{let C=Ps(h),L=or(h),G=jt(h,S,A,{vgChannel:L});if(G!==void 0)return Xl(h,G);switch(d){case"zeroOrMin":case"zeroOrMax":if(y){let H=w.get("type");if(!Z([zt.LOG,zt.TIME,zt.UTC],H)){if(w.domainDefinitelyIncludesZero())return{scale:y,value:0}}}if(d==="zeroOrMin")return C==="y"?{field:{group:"height"}}:{value:0};switch(C){case"radius":return{signal:`min(${s.width.signal},${s.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...s[ka(h)],mult:.5}}}}let Ay={left:"x",center:"xc",right:"x2"},Ty={top:"y",middle:"yc",bottom:"y2"};function Vm(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(l==="radius"||l==="theta")return or(l);let y=l==="x"?"align":"baseline",w=jt(y,s,d),S;return Ke(w)?($e(function(A){return`The ${A} for range marks cannot be an expression`}(y)),S=void 0):S=w,l==="x"?Ay[S||(h==="top"?"left":"center")]:Ty[S||h]}function Zf(l,s,d){let{defaultPos:h,defaultPos2:y,range:w}=d;return w?vo(l,s,{defaultPos:h,defaultPos2:y}):qn(l,s,{defaultPos:h})}function vo(l,s,d){let{defaultPos:h,defaultPos2:y}=d,{markDef:w,config:S}=s,A=Si(l),C=ka(l),L=function(G,H,J){let{encoding:re,mark:ee,markDef:se,stack:de,config:fe}=G,ge=Ps(J),we=ka(J),Ae=or(J),Fe=re[ge],He=G.scaleName(ge),tt=G.getScaleComponent(ge),{offset:ut}=bu(J in re||J in se?{channel:J,markDef:se,encoding:re,model:G}:{channel:ge,markDef:se,encoding:re,model:G});if(!Fe&&(J==="x2"||J==="y2")&&(re.latitude||re.longitude)){let Xe=ka(J),xt=G.markDef[Xe];return xt!=null?{[Xe]:{value:xt}}:{[Ae]:{field:G.getName(J)}}}let Qe=function(Xe){let{channel:xt,channelDef:$t,channel2Def:Mn,markDef:_n,config:kn,scaleName:Bt,scale:It,stack:gn,offset:Cn,defaultRef:un}=Xe;return vt($t)&&gn&&xt.charAt(0)===gn.fieldChannel.charAt(0)?Ws($t,Bt,{suffix:"start"},{offset:Cn}):zh({channel:xt,channelDef:Mn,scaleName:Bt,scale:It,stack:gn,markDef:_n,config:kn,offset:Cn,defaultRef:un})}({channel:J,channelDef:Fe,channel2Def:re[J],markDef:se,config:fe,scaleName:He,scale:tt,stack:de,offset:ut,defaultRef:void 0});return Qe!==void 0?{[Ae]:Qe}:tl(J,se)||tl(J,{[J]:$d(J,se,fe.style),[we]:$d(we,se,fe.style)})||tl(J,fe[ee])||tl(J,fe.mark)||{[Ae]:Xf({model:G,defaultPos:H,channel:J,scaleName:He,scale:tt})()}}(s,y,A);return{...qn(l,s,{defaultPos:h,vgChannel:L[C]?Vm(l,w,S):or(l)}),...L}}function tl(l,s){let d=ka(l),h=or(l);if(s[h]!==void 0)return{[h]:Xl(l,s[h])};if(s[l]!==void 0)return{[h]:Xl(l,s[l])};if(s[d]){let y=s[d];if(!qs(y))return{[d]:Xl(l,y)};$e(function(w){return`Position range does not support relative band size for ${w}.`}(d))}}function si(l,s){let{config:d,encoding:h,markDef:y}=l,w=y.type,S=Si(s),A=ka(s),C=h[s],L=h[S],G=l.getScaleComponent(s),H=G?G.get("type"):void 0,J=y.orient,re=h[A]??h.size??jt("size",y,d,{vgChannel:A}),ee=hh(s),se=w==="bar"&&(s==="x"?J==="vertical":J==="horizontal");return!Ue(C)||!(Wt(C.bin)||Bn(C.bin)||C.timeUnit&&!L)||re&&!qs(re)||h[ee]||Gn(H)?(vt(C)&&Gn(H)||se)&&!L?function(de,fe,ge){let{markDef:we,encoding:Ae,config:Fe,stack:He}=ge,tt=we.orient,ut=ge.scaleName(fe),Qe=ge.getScaleComponent(fe),Xe=ka(fe),xt=Si(fe),$t=hh(fe),Mn=ge.scaleName($t),_n=ge.getScaleComponent($l(fe)),kn=tt==="horizontal"&&fe==="y"||tt==="vertical"&&fe==="x",Bt;(Ae.size||we.size)&&(kn?Bt=Hn("size",ge,{vgChannel:Xe,defaultRef:rn(we.size)}):$e(function(oa){return`Cannot apply size to non-oriented mark "${oa}".`}(we.type)));let It=!!Bt,gn=Xh({channel:fe,fieldDef:de,markDef:we,config:Fe,scaleType:(Qe||_n)?.get("type"),useVlSizeChannel:kn});Bt=Bt||{[Xe]:Cy(Xe,Mn||ut,_n||Qe,Fe,gn,!!de,we.type)};let Cn=(Qe||_n)?.get("type")==="band"&&qs(gn)&&!It?"top":"middle",un=Vm(fe,we,Fe,Cn),Na=un==="xc"||un==="yc",{offset:Ia,offsetType:$r}=bu({channel:fe,markDef:we,encoding:Ae,model:ge,bandPosition:Na?.5:0}),Yn=zh({channel:fe,channelDef:de,markDef:we,config:Fe,scaleName:ut,scale:Qe,stack:He,offset:Ia,defaultRef:Xf({model:ge,defaultPos:"mid",channel:fe,scaleName:ut,scale:Qe}),bandPosition:Na?$r==="encoding"?0:.5:Ke(gn)?{signal:`(1-${gn})/2`}:qs(gn)?(1-gn.band)/2:0});if(Xe)return{[un]:Yn,...Bt};{let oa=or(xt),on=Bt[Xe],wt=Ia?{...on,offset:Ia}:on;return{[un]:Yn,[oa]:b.isArray(Yn)?[Yn[0],{...Yn[1],offset:wt}]:{...Yn,offset:wt}}}}(C,s,l):vo(s,l,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(de){let{fieldDef:fe,fieldDef2:ge,channel:we,model:Ae}=de,{config:Fe,markDef:He,encoding:tt}=Ae,ut=Ae.getScaleComponent(we),Qe=Ae.scaleName(we),Xe=ut?ut.get("type"):void 0,xt=ut.get("reverse"),$t=Xh({channel:we,fieldDef:fe,markDef:He,config:Fe,scaleType:Xe}),Mn=Ae.component.axes[we]?.[0],_n=Mn?.get("translate")??.5,kn=sn(we)?jt("binSpacing",He,Fe)??0:0,Bt=Si(we),It=or(we),gn=or(Bt),Cn=Ua("minBandSize",He,Fe),{offset:un}=bu({channel:we,markDef:He,encoding:tt,model:Ae,bandPosition:0}),{offset:Na}=bu({channel:Bt,markDef:He,encoding:tt,model:Ae,bandPosition:0}),Ia=function(wt){let{scaleName:Ya,fieldDef:ks}=wt,Qi=Ge(ks,{expr:"datum"});return`abs(scale("${Ya}", ${Ge(ks,{expr:"datum",suffix:"end"})}) - scale("${Ya}", ${Qi}))`}({fieldDef:fe,scaleName:Qe}),$r=Ym(we,kn,xt,_n,un,Cn,Ia),Yn=Ym(Bt,kn,xt,_n,Na??un,Cn,Ia),oa=Ke($t)?{signal:`(1-${$t.signal})/2`}:qs($t)?(1-$t.band)/2:.5,on=Di({fieldDef:fe,fieldDef2:ge,markDef:He,config:Fe});if(Wt(fe.bin)||fe.timeUnit){let wt=fe.timeUnit&&on!==.5;return{[gn]:Km({fieldDef:fe,scaleName:Qe,bandPosition:oa,offset:Yn,useRectOffsetField:wt}),[It]:Km({fieldDef:fe,scaleName:Qe,bandPosition:Ke(oa)?{signal:`1-${oa.signal}`}:1-oa,offset:$r,useRectOffsetField:wt})}}if(Bn(fe.bin)){let wt=Ws(fe,Qe,{},{offset:Yn});if(Ue(ge))return{[gn]:wt,[It]:Ws(ge,Qe,{},{offset:$r})};if(fo(fe.bin)&&fe.bin.step)return{[gn]:wt,[It]:{signal:`scale("${Qe}", ${Ge(fe,{expr:"datum"})} + ${fe.bin.step})`,offset:$r}}}return void $e(Hd(Bt))}({fieldDef:C,fieldDef2:L,channel:s,model:l})}function Cy(l,s,d,h,y,w,S){if(qs(y)){if(!d)return{mult:y.band,field:{group:l}};{let A=d.get("type");if(A==="band"){let C=`bandwidth('${s}')`;y.band!==1&&(C=`${y.band} * ${C}`);let L=Ua("minBandSize",{type:S},h);return{signal:L?`max(${fa(L)}, ${C})`:C}}y.band!==1&&($e(function(C){return`Cannot use the relative band size with ${C} scale.`}(A)),y=void 0)}}else{if(Ke(y))return y;if(y)return{value:y}}if(d){let A=d.get("range");if(po(A)&&b.isNumber(A.step))return{value:A.step-2}}if(!w){let{bandPaddingInner:A,barBandPaddingInner:C,rectBandPaddingInner:L}=h.scale,G=Ve(A,S==="bar"?C:L);if(Ke(G))return{signal:`(1 - (${G.signal})) * ${l}`};if(b.isNumber(G))return{signal:`${1-G} * ${l}`}}return{value:cu(h.view,l)-2}}function Ym(l,s,d,h,y,w,S){if(Dd(l))return 0;let A=l==="x"||l==="y2",C=A?-s/2:s/2;if(Ke(d)||Ke(y)||Ke(h)||w){let L=fa(d),G=fa(y),H=fa(h),J=fa(w),re=w?`(${S} < ${J} ? ${A?"":"-"}0.5 * (${J} - (${S})) : ${C})`:C;return{signal:(H?`${H} + `:"")+(L?`(${L} ? -1 : 1) * `:"")+(G?`(${G} + ${re})`:re)}}return y=y||0,h+(d?-y-C:+y+C)}function Km(l){let{fieldDef:s,scaleName:d,bandPosition:h,offset:y,useRectOffsetField:w}=l;return of({scaleName:d,fieldOrDatumDef:s,bandPosition:h,offset:y,...w?{startSuffix:Vf,endSuffix:Ft}:{}})}let J_=new Set(["aria","width","height"]);function Ca(l,s){let{fill:d,stroke:h}=s.color==="include"?Oc(l):{};return{...Q_(l.markDef,s),...Jf(l,"fill",d),...Jf(l,"stroke",h),...Hn("opacity",l),...Hn("fillOpacity",l),...Hn("strokeOpacity",l),...Hn("strokeWidth",l),...Hn("strokeDash",l),...Sy(l),...Nc(l),...Kf(l,"href"),...K_(l)}}function Jf(l,s,d){let{config:h,mark:y,markDef:w}=l;if(jt("invalid",w,h)==="hide"&&d&&!as(y)){let S=function(A,C){let{invalid:L=!1,channels:G}=C,H=G.reduce((re,ee)=>{let se=A.getScaleComponent(ee);if(se){let de=se.get("type"),fe=A.vgField(ee,{expr:"datum"});fe&&Ga(de)&&(re[fe]=!0)}return re},{}),J=be(H);if(J.length>0){let re=L?"||":"&&";return J.map(ee=>Gh(ee,L)).join(` ${re} `)}}(l,{invalid:!0,channels:Ul});if(S)return{[s]:[{test:S,value:null},...b.array(d)]}}return d?{[s]:d}:{}}function Q_(l,s){return Gl.reduce((d,h)=>(J_.has(h)||l[h]===void 0||s[h]==="ignore"||(d[h]=rn(l[h])),d),{})}function Dc(l){let{config:s,markDef:d}=l;if(jt("invalid",d,s)){let h=function(y,w){let{invalid:S=!1,channels:A}=w,C=A.reduce((G,H)=>{let J=y.getScaleComponent(H);if(J){let re=J.get("type"),ee=y.vgField(H,{expr:"datum",binSuffix:y.stack?.impute?"mid":void 0});ee&&Ga(re)&&(G[ee]=!0)}return G},{}),L=be(C);if(L.length>0){let G=S?"||":"&&";return L.map(H=>Gh(H,S)).join(` ${G} `)}}(l,{channels:Jr});if(h)return{defined:{signal:h}}}return{}}function Ry(l,s){if(s!==void 0)return{[l]:rn(s)}}let Mc="voronoi",Ny={defined:l=>l.type==="point"&&l.nearest,parse:(l,s)=>{if(s.events)for(let d of s.events)d.markname=l.getName(Mc)},marks:(l,s,d)=>{let{x:h,y}=s.project.hasChannel,w=l.mark;if(as(w))return $e(`The "nearest" transform is not supported for ${w} marks.`),d;let S={name:l.getName(Mc),type:"path",interactive:!0,from:{data:l.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Nc(l,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:h||!y?"datum.datum.x || 0":"0"},y:{expr:y||!h?"datum.datum.y || 0":"0"},size:[l.getSizeSignalRef("width"),l.getSizeSignalRef("height")]}]},A=0,C=!1;return d.forEach((L,G)=>{let H=L.name??"";H===l.component.mark[0].name?A=G:H.indexOf(Mc)>=0&&(C=!0)}),C||d.splice(A+1,0,S),d}},Qf={defined:l=>l.type==="point"&&l.resolve==="global"&&l.bind&&l.bind!=="scales"&&!Tf(l.bind),parse:(l,s,d)=>li(s,d),topLevelSignals:(l,s,d)=>{let h=s.name,y=s.project,w=s.bind,S=s.init&&s.init[0],A=Ny.defined(s)?"(item().isVoronoi ? datum.datum : datum)":"datum";return y.items.forEach((C,L)=>{let G=Pe(`${h}_${C.field}`);d.filter(H=>H.name===G).length||d.unshift({name:G,...S?{init:ds(S[L])}:{value:null},on:s.events?[{events:s.events,update:`datum && item().mark.marktype !== 'group' ? ${A}[${b.stringValue(C.field)}] : null`}]:[],bind:w[C.field]??w[C.channel]??w})}),d},signals:(l,s,d)=>{let h=s.name,y=s.project,w=d.filter(L=>L.name===h+Eo)[0],S=h+Rc,A=y.items.map(L=>Pe(`${h}_${L.field}`)),C=A.map(L=>`${L} !== null`).join(" && ");return A.length&&(w.update=`${C} ? {fields: ${S}, values: [${A.join(", ")}]} : null`),delete w.value,delete w.on,d}},Lc="_toggle",Iy={defined:l=>l.type==="point"&&!!l.toggle,signals:(l,s,d)=>d.concat({name:s.name+Lc,value:!1,on:[{events:s.events,update:s.toggle}]}),modifyExpr:(l,s)=>{let d=s.name+Eo,h=s.name+Lc;return`${h} ? null : ${d}, `+(s.resolve==="global"?`${h} ? null : true, `:`${h} ? null : {unit: ${Ha(l)}}, `)+`${h} ? ${d} : null`}},Oy={defined:l=>l.clear!==void 0&&l.clear!==!1,parse:(l,s)=>{s.clear&&(s.clear=b.isString(s.clear)?b.parseSelector(s.clear,"view"):s.clear)},topLevelSignals:(l,s,d)=>{if(Qf.defined(s))for(let h of s.project.items){let y=d.findIndex(w=>w.name===Pe(`${s.name}_${h.field}`));y!==-1&&d[y].on.push({events:s.clear,update:"null"})}return d},signals:(l,s,d)=>{function h(y,w){y!==-1&&d[y].on&&d[y].on.push({events:s.clear,update:w})}if(s.type==="interval")for(let y of s.project.items){let w=d.findIndex(S=>S.name===y.signals.visual);h(w,"[0, 0]"),w===-1&&h(d.findIndex(S=>S.name===y.signals.data),"null")}else{let y=d.findIndex(w=>w.name===s.name+Eo);h(y,"null"),Iy.defined(s)&&(y=d.findIndex(w=>w.name===s.name+Lc),h(y,"false"))}return d}},Dy={defined:l=>{let s=l.resolve==="global"&&l.bind&&Tf(l.bind),d=l.project.items.length===1&&l.project.items[0].field!==dr;return s&&!d&&$e("Legend bindings are only supported for selections over an individual field or encoding channel."),s&&d},parse:(l,s,d)=>{let h=j(d);if(h.select=b.isString(h.select)?{type:h.select,toggle:s.toggle}:{...h.select,toggle:s.toggle},li(s,h),b.isObject(d.select)&&(d.select.on||d.select.clear)){let S='event.item && indexof(event.item.mark.role, "legend") < 0';for(let A of s.events)A.filter=b.array(A.filter??[]),A.filter.includes(S)||A.filter.push(S)}let y=Cf(s.bind)?s.bind.legend:"click",w=b.isString(y)?b.parseSelector(y,"view"):b.array(y);s.bind={legend:{merge:w}}},topLevelSignals:(l,s,d)=>{let h=s.name,y=Cf(s.bind)&&s.bind.legend,w=S=>A=>{let C=j(A);return C.markname=S,C};for(let S of s.project.items){if(!S.hasLegend)continue;let A=`${Pe(S.field)}_legend`,C=`${h}_${A}`;if(d.filter(L=>L.name===C).length===0){let L=y.merge.map(w(`${A}_symbols`)).concat(y.merge.map(w(`${A}_labels`))).concat(y.merge.map(w(`${A}_entries`)));d.unshift({name:C,...s.init?{}:{value:null},on:[{events:L,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:y.merge,update:`!event.item || !datum ? null : ${C}`,force:!0}]})}}return d},signals:(l,s,d)=>{let h=s.name,y=s.project,w=d.find(H=>H.name===h+Eo),S=h+Rc,A=y.items.filter(H=>H.hasLegend).map(H=>Pe(`${h}_${Pe(H.field)}_legend`)),C=`${A.map(H=>`${H} !== null`).join(" && ")} ? {fields: ${S}, values: [${A.join(", ")}]} : null`;s.events&&A.length>0?w.on.push({events:A.map(H=>({signal:H})),update:C}):A.length>0&&(w.update=C,delete w.value,delete w.on);let L=d.find(H=>H.name===h+Lc),G=Cf(s.bind)&&s.bind.legend;return L&&(s.events?L.on.push({...L.on[0],events:G}):L.on[0].events=G),d}},Xm="_translate_anchor",My="_translate_delta",Ly={defined:l=>l.type==="interval"&&l.translate,signals:(l,s,d)=>{let h=s.name,y=Ta.defined(s),w=h+Xm,{x:S,y:A}=s.project.hasChannel,C=b.parseSelector(s.translate,"scope");return y||(C=C.map(L=>(L.between[0].markname=h+yo,L))),d.push({name:w,value:{},on:[{events:C.map(L=>L.between[0]),update:"{x: x(unit), y: y(unit)"+(S!==void 0?`, extent_x: ${y?jn(l,Jt):`slice(${S.signals.visual})`}`:"")+(A!==void 0?`, extent_y: ${y?jn(l,Pn):`slice(${A.signals.visual})`}`:"")+"}"}]},{name:h+My,value:{},on:[{events:C,update:`{x: ${w}.x - x(unit), y: ${w}.y - y(unit)}`}]}),S!==void 0&&Zm(l,s,S,"width",d),A!==void 0&&Zm(l,s,A,"height",d),d}};function Zm(l,s,d,h,y){let w=s.name,S=w+Xm,A=w+My,C=d.channel,L=Ta.defined(s),G=y.filter(fe=>fe.name===d.signals[L?"data":"visual"])[0],H=l.getSizeSignalRef(h).signal,J=l.getScaleComponent(C),re=J&&J.get("type"),ee=J&&J.get("reverse"),se=`${S}.extent_${C}`,de=`${L&&J?re==="log"?"panLog":re==="symlog"?"panSymlog":re==="pow"?"panPow":"panLinear":"panLinear"}(${se}, ${`${L?C===Jt?ee?"":"-":ee?"-":"":""}${A}.${C} / ${L?`${H}`:`span(${se})`}`}${L?re==="pow"?`, ${J.get("exponent")??1}`:re==="symlog"?`, ${J.get("constant")??1}`:"":""})`;G.on.push({events:{signal:A},update:L?de:`clampRange(${de}, 0, ${H})`})}let Jm="_zoom_anchor",Qm="_zoom_delta",eg={defined:l=>l.type==="interval"&&l.zoom,signals:(l,s,d)=>{let h=s.name,y=Ta.defined(s),w=h+Qm,{x:S,y:A}=s.project.hasChannel,C=b.stringValue(l.scaleName(Jt)),L=b.stringValue(l.scaleName(Pn)),G=b.parseSelector(s.zoom,"scope");return y||(G=G.map(H=>(H.markname=h+yo,H))),d.push({name:h+Jm,on:[{events:G,update:y?"{"+[C?`x: invert(${C}, x(unit))`:"",L?`y: invert(${L}, y(unit))`:""].filter(H=>H).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:w,on:[{events:G,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),S!==void 0&&Fc(l,s,S,"width",d),A!==void 0&&Fc(l,s,A,"height",d),d}};function Fc(l,s,d,h,y){let w=s.name,S=d.channel,A=Ta.defined(s),C=y.filter(se=>se.name===d.signals[A?"data":"visual"])[0],L=l.getSizeSignalRef(h).signal,G=l.getScaleComponent(S),H=G&&G.get("type"),J=A?jn(l,S):C.name,re=w+Qm,ee=`${A&&G?H==="log"?"zoomLog":H==="symlog"?"zoomSymlog":H==="pow"?"zoomPow":"zoomLinear":"zoomLinear"}(${J}, ${`${w}${Jm}.${S}`}, ${re}${A?H==="pow"?`, ${G.get("exponent")??1}`:H==="symlog"?`, ${G.get("constant")??1}`:"":""})`;C.on.push({events:{signal:re},update:A?ee:`clampRange(${ee}, 0, ${L})`})}let ps="_store",Eo="_tuple",Fy="_modify",tg="vlSelectionResolve",nl=[el,Wm,Hi,Iy,Qf,Ta,Dy,Oy,Ly,eg,Ny];function Ha(l){let{escape:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},d=s?b.stringValue(l.name):l.name,h=function(y){let w=y.parent;for(;w&&!Wa(w);)w=w.parent;return w}(l);if(h){let{facet:y}=h;for(let w of $a)y[w]&&(d+=` + '__facet_${w}_' + (facet[${b.stringValue(h.vgField(w))}])`)}return d}function ng(l){return Se(l.component.selection??{}).reduce((s,d)=>s||d.project.hasSelectionId,!1)}function li(l,s){!b.isString(s.select)&&s.select.on||delete l.events,!b.isString(s.select)&&s.select.clear||delete l.clear,!b.isString(s.select)&&s.select.toggle||delete l.toggle}function qi(l){let s=[];return l.type==="Identifier"?[l.name]:l.type==="Literal"?[l.value]:(l.type==="MemberExpression"&&(s.push(...qi(l.object)),s.push(...qi(l.property))),s)}function ep(l){return l.object.type==="MemberExpression"?ep(l.object):l.object.name==="datum"}function tp(l){let s=b.parseExpression(l),d=new Set;return s.visit(h=>{h.type==="MemberExpression"&&ep(h)&&d.add(qi(h).slice(1).join("."))}),d}class ui extends Ht{clone(){return new ui(null,this.model,j(this.filter))}constructor(s,d,h){super(s),this.model=d,this.filter=h,nt(this,"expr",void 0),nt(this,"_dependentFields",void 0),this.expr=Wi(this.model,this.filter,this),this._dependentFields=tp(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function yu(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",y=b.isString(s)?s:s.param,w=Pe(y),S=b.stringValue(w+ps),A;try{A=l.getSelectionComponent(w,y)}catch{return`!!${w}`}if(A.project.timeUnit){let G=d??l.component.data.raw,H=A.project.timeUnit.clone();G.parent?H.insertAsParentOf(G):G.parent=H}let C=`${A.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest("}${S}, ${h}${A.resolve==="global"?")":`, ${b.stringValue(A.resolve)})`}`,L=`length(data(${S}))`;return s.empty===!1?`${L} && ${C}`:`!${L} || ${C}`}function wo(l,s,d){let h=Pe(s),y=d.encoding,w,S=d.field;try{w=l.getSelectionComponent(h,s)}catch{return h}if(y||S){if(y&&!S){let A=w.project.items.filter(C=>C.channel===y);!A.length||A.length>1?(S=w.project.items[0].field,$e((A.length?"Multiple ":"No ")+`matching ${b.stringValue(y)} encoding found for selection ${b.stringValue(d.param)}. Using "field": ${b.stringValue(S)}.`)):S=A[0].field}}else S=w.project.items[0].field,w.project.items.length>1&&$e(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${b.stringValue(S)}.`);return`${w.name}[${b.stringValue(Gt(S))}]`}function Wi(l,s,d){return De(s,h=>b.isString(h)?h:function(y){return y?.param}(h)?yu(l,h,d):Zd(h))}function hs(l,s,d,h){l.encode??={},l.encode[s]??={},l.encode[s].update??={},l.encode[s].update[d]=h}function Vi(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:y,orient:w,scale:S,labelExpr:A,title:C,zindex:L,...G}=l.combine();if(!y){for(let H in G){let J=bf[H],re=G[H];if(J&&J!==s&&J!=="both")delete G[H];else if(iu(re)){let{condition:ee,...se}=re,de=b.array(ee),fe=os[H];if(fe){let{vgProp:ge,part:we}=fe;hs(G,we,ge,[...de.map(Ae=>{let{test:Fe,...He}=Ae;return{test:Wi(null,Fe),...He}}),se]),delete G[H]}else if(fe===null){let ge={signal:de.map(we=>{let{test:Ae,...Fe}=we;return`${Wi(null,Ae)} ? ${es(Fe)} : `}).join("")+es(se)};G[H]=ge}}else if(Ke(re)){let ee=os[H];if(ee){let{vgProp:se,part:de}=ee;hs(G,de,se,re),delete G[H]}}Z(["labelAlign","labelBaseline"],H)&&G[H]===null&&delete G[H]}if(s==="grid"){if(!G.grid)return;if(G.encode){let{grid:H}=G.encode;G.encode={...H?{grid:H}:{}},ye(G.encode)&&delete G.encode}return{scale:S,orient:w,...G,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ve(L,0)}}{if(!h.header&&l.mainExtracted)return;if(A!==void 0){let J=A;G.encode?.labels?.update&&Ke(G.encode.labels.update.text)&&(J=_t(A,"datum.label",G.encode.labels.update.text.signal)),hs(G,"labels","text",{signal:J})}if(G.labelAlign===null&&delete G.labelAlign,G.encode){for(let J of ss)l.hasAxisPart(J)||delete G.encode[J];ye(G.encode)&&delete G.encode}let H=function(J,re){if(J)return b.isArray(J)&&!da(J)?J.map(ee=>mf(ee,re)).join(", "):J}(C,d);return{scale:S,orient:w,grid:!1,...H?{title:H}:{},...G,...d.aria===!1?{aria:!1}:{},zindex:Ve(L,0)}}}}function vu(l){let{axes:s}=l.component,d=[];for(let h of Jr)if(s[h]){for(let y of s[h])if(!y.get("disable")&&!y.get("gridScale")){let w=h==="x"?"height":"width",S=l.getSizeSignalRef(w).signal;w!==S&&d.push({name:w,update:S})}}return d}function ci(l,s,d,h){return Object.assign.apply(null,[{},...l.map(y=>{if(y==="axisOrient"){let w=d==="x"?"bottom":"left",S=s[d==="x"?"axisBottom":"axisLeft"]||{},A=s[d==="x"?"axisTop":"axisRight"]||{},C=new Set([...be(S),...be(A)]),L={};for(let G of C.values())L[G]={signal:`${h.signal} === "${w}" ? ${fa(S[G])} : ${fa(A[G])}`};return L}return s[y]})])}function e1(l,s){let d=[{}];for(let h of l){let y=s[h]?.style;if(y){y=b.array(y);for(let w of y)d.push(s.style[w])}}return Object.assign.apply(null,d)}function ag(l,s,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=k0(l,d,s);if(y!==void 0)return{configFrom:"style",configValue:y};for(let w of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(h[w]?.[l]!==void 0)return{configFrom:w,configValue:h[w][l]};return{}}let Py={scale:l=>{let{model:s,channel:d}=l;return s.scaleName(d)},format:l=>{let{format:s}=l;return s},formatType:l=>{let{formatType:s}=l;return s},grid:l=>{let{fieldOrDatumDef:s,axis:d,scaleType:h}=l;return d.grid??function(y,w){return!Gn(y)&&Ue(w)&&!Wt(w?.bin)&&!Bn(w?.bin)}(h,s)},gridScale:l=>{let{model:s,channel:d}=l;return function(h,y){let w=y==="x"?"y":"x";if(h.getScaleComponent(w))return h.scaleName(w)}(s,d)},labelAlign:l=>{let{axis:s,labelAngle:d,orient:h,channel:y}=l;return s.labelAlign||By(d,h,y)},labelAngle:l=>{let{labelAngle:s}=l;return s},labelBaseline:l=>{let{axis:s,labelAngle:d,orient:h,channel:y}=l;return s.labelBaseline||$y(d,h,y)},labelFlush:l=>{let{axis:s,fieldOrDatumDef:d,channel:h}=l;return s.labelFlush??function(y,w){if(w==="x"&&Z(["quantitative","temporal"],y))return!0}(d.type,h)},labelOverlap:l=>{let{axis:s,fieldOrDatumDef:d,scaleType:h}=l;return s.labelOverlap??function(y,w,S,A){if(S&&!b.isObject(A)||y!=="nominal"&&y!=="ordinal")return w!=="log"&&w!=="symlog"||"greedy"}(d.type,h,Ue(d)&&!!d.timeUnit,Ue(d)?d.sort:void 0)},orient:l=>{let{orient:s}=l;return s},tickCount:l=>{let{channel:s,model:d,axis:h,fieldOrDatumDef:y,scaleType:w}=l,S=s==="x"?"width":s==="y"?"height":void 0,A=S?d.getSizeSignalRef(S):void 0;return h.tickCount??function(C){let{fieldOrDatumDef:L,scaleType:G,size:H,values:J}=C;if(!J&&!Gn(G)&&G!=="log"){if(Ue(L)){if(Wt(L.bin))return{signal:`ceil(${H.signal}/10)`};if(L.timeUnit&&Z(["month","hours","day","quarter"],zn(L.timeUnit)?.unit))return}return{signal:`ceil(${H.signal}/40)`}}}({fieldOrDatumDef:y,scaleType:w,size:A,values:h.values})},tickMinStep:function(l){let{format:s,fieldOrDatumDef:d}=l;if(s==="d")return 1;if(Ue(d)){let{timeUnit:h}=d;if(h){let y=P0(h);if(y)return{signal:y}}}},title:l=>{let{axis:s,model:d,channel:h}=l;if(s.title!==void 0)return s.title;let y=Uy(d,h);if(y!==void 0)return y;let w=d.typedFieldDef(h),S=h==="x"?"x2":"y2",A=d.fieldDef(S);return Hl(w?[Kh(w)]:[],Ue(A)?[Kh(A)]:[])},values:l=>{let{axis:s,fieldOrDatumDef:d}=l;return function(h,y){let w=h.values;if(b.isArray(w))return pc(y,w);if(Ke(w))return w}(s,d)},zindex:l=>{let{axis:s,fieldOrDatumDef:d,mark:h}=l;return s.zindex??function(y,w){return y==="rect"&&tu(w)?1:0}(h,d)}};function rg(l){return`(((${l.signal} % 360) + 360) % 360)`}function $y(l,s,d,h){if(l!==void 0){if(d==="x"){if(Ke(l)){let y=rg(l);return{signal:`(45 < ${y} && ${y} < 135) || (225 < ${y} && ${y} < 315) ? "middle" :(${y} <= 45 || 315 <= ${y}) === ${Ke(s)?`(${s.signal} === "top")`:s==="top"} ? "bottom" : "top"`}}if(45<l&&l<135||225<l&&l<315)return"middle";if(Ke(s)){let y=l<=45||315<=l?"===":"!==";return{signal:`${s.signal} ${y} "top" ? "bottom" : "top"`}}return(l<=45||315<=l)==(s==="top")?"bottom":"top"}if(Ke(l)){let y=rg(l);return{signal:`${y} <= 45 || 315 <= ${y} || (135 <= ${y} && ${y} <= 225) ? ${h?'"middle"':"null"} : (45 <= ${y} && ${y} <= 135) === ${Ke(s)?`(${s.signal} === "left")`:s==="left"} ? "top" : "bottom"`}}if(l<=45||315<=l||135<=l&&l<=225)return h?"middle":null;if(Ke(s)){let y=45<=l&&l<=135?"===":"!==";return{signal:`${s.signal} ${y} "left" ? "top" : "bottom"`}}return(45<=l&&l<=135)==(s==="left")?"top":"bottom"}}function By(l,s,d){if(l===void 0)return;let h=d==="x",y=h?0:90,w=h?"bottom":"left";if(Ke(l)){let S=rg(l);return{signal:`(${y?`(${S} + 90)`:S} % 180 === 0) ? ${h?null:'"center"'} :(${y} < ${S} && ${S} < ${180+y}) === ${Ke(s)?`(${s.signal} === "${w}")`:s===w} ? "left" : "right"`}}if((l+y)%180==0)return h?null:"center";if(Ke(s)){let S=y<l&&l<180+y?"===":"!==";return{signal:`${`${s.signal} ${S} "${w}"`} ? "left" : "right"`}}return(y<l&&l<180+y)==(s===w)?"left":"right"}function Uy(l,s){let d=s==="x"?"x2":"y2",h=l.fieldDef(s),y=l.fieldDef(d),w=h?h.title:void 0,S=y?y.title:void 0;return w&&S?ei(w,S):w||S||(w!==void 0?w:S!==void 0?S:void 0)}class al extends Ht{clone(){return new al(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,nt(this,"_dependentFields",void 0),this._dependentFields=tp(this.transform.calculate)}static parseAllForSortIndex(s,d){return d.forEachFieldDef((h,y)=>{if(Li(h)&&cc(h.sort)){let{field:w,timeUnit:S}=h,A=h.sort,C=A.map((L,G)=>`${Zd({field:w,timeUnit:S,equal:L})} ? ${G} : `).join("")+A.length;s=new al(s,{calculate:C,as:rl(h,y,{forAs:!0})})}}),s}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ae(this.transform)}`}}function rl(l,s,d){return Ge(l,{prefix:s,suffix:"sort_index",...d??{}})}function Pc(l,s){return Z(["top","bottom"],s)?"column":Z(["left","right"],s)||l==="row"?"row":"column"}function Yi(l,s,d,h){let y=h==="row"?d.headerRow:h==="column"?d.headerColumn:d.headerFacet;return Ve((s||{})[l],y[l],d.header[l])}function $c(l,s,d,h){let y={};for(let w of l){let S=Yi(w,s||{},d,h);S!==void 0&&(y[w]=S)}return y}let Eu=["row","column"],Bc=["header","footer"];function ms(l,s){let d=l.component.layoutHeaders[s].title,h=l.config?l.config:void 0,y=l.component.layoutHeaders[s].facetFieldDef?l.component.layoutHeaders[s].facetFieldDef:void 0,{titleAnchor:w,titleAngle:S,titleOrient:A}=$c(["titleAnchor","titleAngle","titleOrient"],y.header,h,s),C=Pc(s,A),L=Dt(S);return{name:`${s}-title`,type:"group",role:`${C}-title`,title:{text:d,...s==="row"?{orient:"left"}:{},style:"guide-title",...ig(L,C),...On(C,L,w),...Uc(h,y,s,cm,yc)}}}function On(l,s){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let d=By(s,l==="row"?"left":"top",l==="row"?"y":"x");return d?{align:d}:{}}function ig(l,s){let d=$y(l,s==="row"?"left":"top",s==="row"?"y":"x",!0);return d?{baseline:d}:{}}function zy(l,s){let d=l.component.layoutHeaders[s],h=[];for(let y of Bc)if(d[y])for(let w of d[y]){let S=il(l,s,y,d,w);S!=null&&h.push(S)}return h}function np(l,s){let{sort:d}=l;return ri(d)?{field:Ge(d,{expr:"datum"}),order:d.order??"ascending"}:b.isArray(d)?{field:rl(l,s,{expr:"datum"}),order:"ascending"}:{field:Ge(l,{expr:"datum"}),order:d??"ascending"}}function _o(l,s,d){let{format:h,formatType:y,labelAngle:w,labelAnchor:S,labelOrient:A,labelExpr:C}=$c(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],l.header,d,s),L=Hh({fieldOrDatumDef:l,format:h,formatType:y,expr:"parent",config:d}).signal,G=Pc(s,A);return{text:{signal:C?_t(_t(C,"datum.label",L),"datum.value",Ge(l,{expr:"parent"})):L},...s==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...ig(w,G),...On(G,w,S),...Uc(d,l,s,dm,vc)}}function il(l,s,d,h,y){if(y){let w=null,{facetFieldDef:S}=h,A=l.config?l.config:void 0;if(S&&y.labels){let{labelOrient:H}=$c(["labelOrient"],S.header,A,s);(s==="row"&&!Z(["top","bottom"],H)||s==="column"&&!Z(["left","right"],H))&&(w=_o(S,s,A))}let C=Wa(l)&&!Zl(l.facet),L=y.axes,G=L?.length>0;if(w||G){let H=s==="row"?"height":"width";return{name:l.getName(`${s}_${d}`),type:"group",role:`${s}-${d}`,...h.facetFieldDef?{from:{data:l.getName(`${s}_domain`)},sort:np(S,s)}:{},...G&&C?{from:{data:l.getName(`facet_domain_${s}`)}}:{},...w?{title:w}:{},...y.sizeSignal?{encode:{update:{[H]:y.sizeSignal}}}:{},...G?{axes:L}:{}}}}return null}let Gy={column:{start:0,end:1},row:{start:1,end:0}};function jy(l,s){return Gy[s][l]}function Uc(l,s,d,h,y){let w={};for(let S of h){if(!y[S])continue;let A=Yi(S,s?.header,l,d);A!==void 0&&(w[y[S]]=A)}return w}function fr(l){return[...zc(l,"width"),...zc(l,"height"),...zc(l,"childWidth"),...zc(l,"childHeight")]}function zc(l,s){let d=s==="width"?"x":"y",h=l.component.layoutSize.get(s);if(!h||h==="merged")return[];let y=l.getSizeSignalRef(s).signal;if(h==="step"){let w=l.getScaleComponent(d);if(w){let S=w.get("type"),A=w.get("range");if(Gn(S)&&po(A)){let C=l.scaleName(d);return Wa(l.parent)&&l.parent.component.resolve.scale[d]==="independent"?[Gc(C,A)]:[Gc(C,A),{name:y,update:ap(C,w,`domain('${C}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if(h=="container"){let w=y.endsWith("width"),S=w?"containerSize()[0]":"containerSize()[1]",A=`isFinite(${S}) ? ${S} : ${us(l.config.view,w?"width":"height")}`;return[{name:y,init:A,on:[{update:A,events:"window:resize"}]}]}return[{name:y,value:h}]}function Gc(l,s){let d=`${l}_step`;return Ke(s.step)?{name:d,update:s.step.signal}:{name:d,value:s.step}}function ap(l,s,d){let h=s.get("type"),y=s.get("padding"),w=Ve(s.get("paddingOuter"),y),S=s.get("paddingInner");return S=h==="band"?S!==void 0?S:y:1,`bandspace(${d}, ${fa(S)}, ${fa(w)}) * ${l}_step`}function og(l){return l==="childWidth"?"width":l==="childHeight"?"height":l}function sg(l,s){return be(l).reduce((d,h)=>{let y=l[h];return{...d,...mu(s,y,h,w=>rn(w.value))}},{})}function lg(l,s){if(Wa(s))return l==="theta"?"independent":"shared";if(vs(s))return"shared";if(Ki(s))return sn(l)||l==="theta"||l==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function rp(l,s){let d=l.scale[s],h=sn(s)?"axis":"legend";return d==="independent"?(l[h][s]==="shared"&&$e(function(y){return`Setting the scale to be independent for "${y}" means we also have to set the guide (axis or legend) to be independent.`}(s)),"independent"):l[h][s]||"shared"}let ug=be({aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1});class Hy extends Ui{}let ol={symbols:function(l,s){let{fieldOrDatumDef:d,model:h,channel:y,legendCmpt:w,legendType:S}=s;if(S!=="symbol")return;let{markDef:A,encoding:C,config:L,mark:G}=h,H=A.filled&&G!=="trail",J={...Pd({},h,I_),...Oc(h,{filled:H})},re=w.get("symbolOpacity")??L.legend.symbolOpacity,ee=w.get("symbolFillColor")??L.legend.symbolFillColor,se=w.get("symbolStrokeColor")??L.legend.symbolStrokeColor,de=re===void 0?cg(C.opacity)??A.opacity:void 0;if(J.fill){if(y==="fill"||H&&y===Me)delete J.fill;else if(J.fill.field)ee?delete J.fill:(J.fill=rn(L.legend.symbolBaseFillColor??"black"),J.fillOpacity=rn(de??1));else if(b.isArray(J.fill)){let fe=dg(C.fill??C.color)??A.fill??(H&&A.color);fe&&(J.fill=rn(fe))}}if(J.stroke){if(y==="stroke"||!H&&y===Me)delete J.stroke;else if(J.stroke.field||se)delete J.stroke;else if(b.isArray(J.stroke)){let fe=Ve(dg(C.stroke||C.color),A.stroke,H?A.color:void 0);fe&&(J.stroke={value:fe})}}if(y!==_i){let fe=Ue(d)&&jc(h,w,d);fe?J.opacity=[{test:fe,...rn(de??1)},rn(L.legend.unselectedOpacity)]:de&&(J.opacity=rn(de))}return J={...J,...l},ye(J)?void 0:J},gradient:function(l,s){let{model:d,legendType:h,legendCmpt:y}=s;if(h!=="gradient")return;let{config:w,markDef:S,encoding:A}=d,C={},L=(y.get("gradientOpacity")??w.legend.gradientOpacity)===void 0?cg(A.opacity)||S.opacity:void 0;return L&&(C.opacity=rn(L)),C={...C,...l},ye(C)?void 0:C},labels:function(l,s){let{fieldOrDatumDef:d,model:h,channel:y,legendCmpt:w}=s,S=h.legend(y)||{},A=h.config,C=Ue(d)?jc(h,w,d):void 0,L=C?[{test:C,value:1},{value:A.legend.unselectedOpacity}]:void 0,{format:G,formatType:H}=S,J;Vs(H)?J=ai({fieldOrDatumDef:d,field:"datum.value",format:G,formatType:H,config:A}):G===void 0&&H===void 0&&A.customFormatTypes&&(d.type==="quantitative"&&A.numberFormatType?J=ai({fieldOrDatumDef:d,field:"datum.value",format:A.numberFormat,formatType:A.numberFormatType,config:A}):d.type==="temporal"&&A.timeFormatType&&Ue(d)&&d.timeUnit===void 0&&(J=ai({fieldOrDatumDef:d,field:"datum.value",format:A.timeFormat,formatType:A.timeFormatType,config:A})));let re={...L?{opacity:L}:{},...J?{text:J}:{},...l};return ye(re)?void 0:re},entries:function(l,s){let{legendCmpt:d}=s;return d.get("selections")?.length?{...l,fill:{value:"transparent"}}:l}};function cg(l){return fg(l,(s,d)=>Math.max(s,d.value))}function dg(l){return fg(l,(s,d)=>Ve(s,d.value))}function fg(l,s){return function(d){let h=d?.condition;return!!h&&(b.isArray(h)||ur(h))}(l)?b.array(l.condition).reduce(s,l.value):ur(l)?l.value:void 0}function jc(l,s,d){let h=s.get("selections");if(!h?.length)return;let y=b.stringValue(d.field);return h.map(w=>`(!length(data(${b.stringValue(Pe(w)+ps)})) || (${w}[${y}] && indexof(${w}[${y}], datum.value) >= 0))`).join(" || ")}let di={direction:l=>{let{direction:s}=l;return s},format:l=>{let{fieldOrDatumDef:s,legend:d,config:h}=l,{format:y,formatType:w}=d;return X0(s,s.type,y,w,h,!1)},formatType:l=>{let{legend:s,fieldOrDatumDef:d,scaleType:h}=l,{formatType:y}=s;return Z0(y,d,h)},gradientLength:l=>{let{legend:s,legendConfig:d}=l;return s.gradientLength??d.gradientLength??function(h){let{legendConfig:y,model:w,direction:S,orient:A,scaleType:C}=h,{gradientHorizontalMaxLength:L,gradientHorizontalMinLength:G,gradientVerticalMaxLength:H,gradientVerticalMinLength:J}=y;if(Mr(C))return S==="horizontal"?A==="top"||A==="bottom"?ip(w,"width",G,L):G:ip(w,"height",J,H)}(l)},labelOverlap:l=>{let{legend:s,legendConfig:d,scaleType:h}=l;return s.labelOverlap??d.labelOverlap??function(y){if(Z(["quantile","threshold","log","symlog"],y))return"greedy"}(h)},symbolType:l=>{let{legend:s,markDef:d,channel:h,encoding:y}=l;return s.symbolType??function(w,S,A,C){if(S!=="shape"){let L=dg(A)??C;if(L)return L}switch(w){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(d.type,h,y.shape,d.shape)},title:l=>{let{fieldOrDatumDef:s,config:d}=l;return is(s,d,{allowDisabling:!0})},type:l=>{let{legendType:s,scaleType:d,channel:h}=l;if(Jo(h)&&Mr(d)){if(s==="gradient")return}else if(s==="symbol")return;return s},values:l=>{let{fieldOrDatumDef:s,legend:d}=l;return function(h,y){let w=h.values;if(b.isArray(w))return pc(y,w);if(Ke(w))return w}(d,s)}};function pg(l){let{legend:s}=l;return Ve(s.type,function(d){let{channel:h,timeUnit:y,scaleType:w}=d;if(Jo(h)){if(Z(["quarter","month","day"],y))return"symbol";if(Mr(w))return"gradient"}return"symbol"}(l))}function hg(l){let{legendConfig:s,legendType:d,orient:h,legend:y}=l;return y.direction??s[d?"gradientDirection":"symbolDirection"]??function(w,S){switch(w){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return S==="gradient"?"horizontal":void 0}}(h,d)}function ip(l,s,d,h){return{signal:`clamp(${l.getSizeSignalRef(s).signal}, ${d}, ${h})`}}function op(l){let s=ln(l)?function(d){let{encoding:h}=d,y={};for(let w of[Me,...Af]){let S=mn(h[w]);S&&d.getScaleComponent(w)&&(w===En&&Ue(S)&&S.type===Hs||(y[w]=ko(d,w)))}return y}(l):function(d){let{legends:h,resolve:y}=d.component;for(let w of d.children){op(w);for(let S of be(w.component.legends))y.legend[S]=rp(d.component.resolve,S),y.legend[S]==="shared"&&(h[S]=mg(h[S],w.component.legends[S]),h[S]||(y.legend[S]="independent",delete h[S]))}for(let w of be(h))for(let S of d.children)S.component.legends[w]&&y.legend[w]==="shared"&&delete S.component.legends[w];return h}(l);return l.component.legends=s,s}function sp(l,s,d,h){switch(s){case"disable":return d!==void 0;case"values":return!!d?.values;case"title":if(s==="title"&&l===h?.title)return!0}return l===(d||{})[s]}function ko(l,s){let d=l.legend(s),{markDef:h,encoding:y,config:w}=l,S=w.legend,A=new Hy({},function(we,Ae){let Fe=we.scaleName(Ae);if(we.mark==="trail"){if(Ae==="color")return{stroke:Fe};if(Ae==="size")return{strokeWidth:Fe}}return Ae==="color"?we.markDef.filled?{fill:Fe}:{stroke:Fe}:{[Ae]:Fe}}(l,s));(function(we,Ae,Fe){let He=we.fieldDef(Ae)?.field;for(let tt of Se(we.component.selection??{})){let ut=tt.project.hasField[He]??tt.project.hasChannel[Ae];if(ut&&Dy.defined(tt)){let Qe=Fe.get("selections")??[];Qe.push(tt.name),Fe.set("selections",Qe,!1),ut.hasLegend=!0}}})(l,s,A);let C=d!==void 0?!d:S.disable;if(A.set("disable",C,d!==void 0),C)return A;d=d||{};let L=l.getScaleComponent(s).get("type"),G=mn(y[s]),H=Ue(G)?zn(G.timeUnit)?.unit:void 0,J=d.orient||w.legend.orient||"right",re=pg({legend:d,channel:s,timeUnit:H,scaleType:L}),ee={legend:d,channel:s,model:l,markDef:h,encoding:y,fieldOrDatumDef:G,legendConfig:S,config:w,scaleType:L,orient:J,legendType:re,direction:hg({legend:d,legendType:re,orient:J,legendConfig:S})};for(let we of ug){if(re==="gradient"&&we.startsWith("symbol")||re==="symbol"&&we.startsWith("gradient"))continue;let Ae=we in di?di[we](ee):d[we];if(Ae!==void 0){let Fe=sp(Ae,we,d,l.fieldDef(s));(Fe||w.legend[we]===void 0)&&A.set(we,Ae,Fe)}}let se=d?.encoding??{},de=A.get("selections"),fe={},ge={fieldOrDatumDef:G,model:l,channel:s,legendCmpt:A,legendType:re};for(let we of["labels","legend","title","symbols","gradient","entries"]){let Ae=sg(se[we]??{},l),Fe=we in ol?ol[we](Ae,ge):Ae;Fe===void 0||ye(Fe)||(fe[we]={...de?.length&&Ue(G)?{name:`${Pe(G.field)}_legend_${we}`}:{},...de?.length?{interactive:!!de}:{},update:Fe})}return ye(fe)||A.set("encode",fe,!!d?.encoding),A}function mg(l,s){if(!l)return s.clone();let d=l.getWithExplicit("orient"),h=s.getWithExplicit("orient");if(d.explicit&&h.explicit&&d.value!==h.value)return;let y=!1;for(let w of ug){let S=Gi(l.getWithExplicit(w),s.getWithExplicit(w),w,"legend",(A,C)=>{switch(w){case"symbolType":return qy(A,C);case"title":return ti(A,C);case"type":return y=!0,Lr("symbol")}return Tc(A,C,w,"legend")});l.setWithExplicit(w,S)}return y&&(l.implicit?.encode?.gradient&&lt(l.implicit,["encode","gradient"]),l.explicit?.encode?.gradient&&lt(l.explicit,["encode","gradient"])),l}function qy(l,s){return s.value==="circle"?s:l}function lp(l){let s=l.component.legends,d={};for(let h of be(s)){let y=Ye(l.getScaleComponent(h).get("domains"));if(d[y])for(let w of d[y])mg(w,s[h])||d[y].push(s[h]);else d[y]=[s[h].clone()]}return Se(d).flat().map(h=>function(y,w){let{disable:S,labelExpr:A,selections:C,...L}=y.combine();if(!S){if(w.aria===!1&&L.aria==null&&(L.aria=!1),L.encode?.symbols){let G=L.encode.symbols.update;!G.fill||G.fill.value==="transparent"||G.stroke||L.stroke||(G.stroke={value:"transparent"});for(let H of Af)L[H]&&delete G[H]}if(L.title||delete L.title,A!==void 0){let G=A;L.encode?.labels?.update&&Ke(L.encode.labels.update.text)&&(G=_t(A,"datum.label",L.encode.labels.update.text.signal)),function(H,J,re,ee){H.encode??={},H.encode[J]??={},H.encode[J].update??={},H.encode[J].update[re]=ee}(L,"labels","text",{signal:G})}return L}}(h,l.config)).filter(h=>h!==void 0)}function gg(l){return vs(l)||Ki(l)?function(s){return s.children.reduce((d,h)=>d.concat(h.assembleProjections()),Hc(s))}(l):Hc(l)}function Hc(l){let s=l.component.projection;if(!s||s.merged)return[];let d=s.combine(),{name:h}=d;if(s.data){let y={signal:`[${s.size.map(S=>S.signal).join(", ")}]`},w=s.data.reduce((S,A)=>{let C=Ke(A)?A.signal:`data('${l.lookupDataSource(A)}')`;return Z(S,C)||S.push(C),S},[]);if(w.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:h,size:y,fit:{signal:w.length>1?`[${w.join(", ")}]`:w[0]},...d}]}return[{name:h,translate:{signal:"[width / 2, height / 2]"},...d}]}let qc=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class bg extends Ui{constructor(s,d,h,y){super({...d},{name:s}),this.specifiedProjection=d,this.size=h,this.data=y,nt(this,"merged",!1)}get isFit(){return!!this.data}}function yg(l){l.component.projection=ln(l)?function(s){if(s.hasProjection){let d=Jn(s.specifiedProjection),h=!(d&&(d.scale!=null||d.translate!=null)),y=h?[s.getSizeSignalRef("width"),s.getSizeSignalRef("height")]:void 0,w=h?function(A){let C=[],{encoding:L}=A;for(let G of[[Fa,et],[ar,ca]])(mn(L[G[0]])||mn(L[G[1]]))&&C.push({signal:A.getName(`geojson_${C.length}`)});return A.channelHasField(En)&&A.typedFieldDef(En).type===Hs&&C.push({signal:A.getName(`geojson_${C.length}`)}),C.length===0&&C.push(A.requestDataName(tn.Main)),C}(s):void 0,S=new bg(s.projectionName(!0),{...Jn(s.config.projection)??{},...d??{}},y,w);return S.get("type")||S.set("type","equalEarth",!1),S}}(l):function(s){if(s.children.length===0)return;let d;for(let y of s.children)yg(y);let h=ue(s.children,y=>{let w=y.component.projection;if(w){if(d){let S=function(A,C){let L=ue(qc,G=>!b.hasOwnProperty(A.explicit,G)&&!b.hasOwnProperty(C.explicit,G)||!!(b.hasOwnProperty(A.explicit,G)&&b.hasOwnProperty(C.explicit,G)&&Ce(A.get(G),C.get(G))));if(Ce(A.size,C.size)){if(L)return A;if(Ce(A.explicit,{}))return C;if(Ce(C.explicit,{}))return A}return null}(d,w);return S&&(d=S),!!S}return d=w,!0}return!0});if(d&&h){let y=s.projectionName(!0),w=new bg(y,d.specifiedProjection,d.size,j(d.data));for(let S of s.children){let A=S.component.projection;A&&(A.isFit&&w.data.push(...S.component.projection.data),S.renameProjection(A.get("name"),y),A.merged=!0)}return w}}(l)}function Wy(l,s,d,h){if(ru(s,d)){let y=ln(l)?l.axis(d)??l.legend(d)??{}:{},w=Ge(s,{expr:"datum"}),S=Ge(s,{expr:"datum",binSuffix:"end"});return{formulaAs:Ge(s,{binSuffix:"range",forAs:!0}),formula:mo(w,S,y.format,y.formatType,h)}}return{}}function up(l,s){return`${Ri(l)}_${s}`}function xo(l,s,d){let h=up(at(d,void 0)??{},s);return l.getName(`${h}_bins`)}function vg(l,s,d){let h,y;h=function(L){return"as"in L}(l)?b.isString(l.as)?[l.as,`${l.as}_end`]:[l.as[0],l.as[1]]:[Ge(l,{forAs:!0}),Ge(l,{binSuffix:"end",forAs:!0})];let w={...at(s,void 0)},S=up(w,l.field),{signal:A,extentSignal:C}=function(L,G){return{signal:L.getName(`${G}_bins`),extentSignal:L.getName(`${G}_extent`)}}(d,S);if(Ir(w.extent)){let L=w.extent;y=wo(d,L.param,L),delete w.extent}return{key:S,binComponent:{bin:w,field:l.field,as:[h],...A?{signal:A}:{},...C?{extentSignal:C}:{},...y?{span:y}:{}}}}class fi extends Ht{clone(){return new fi(null,j(this.bins))}constructor(s,d){super(s),this.bins=d}static makeFromEncoding(s,d){let h=d.reduceFieldDef((y,w,S)=>{if(ha(w)&&Wt(w.bin)){let{key:A,binComponent:C}=vg(w,w.bin,d);y[A]={...C,...y[A],...Wy(d,w,S,d.config)}}return y},{});return ye(h)?null:new fi(s,h)}static makeFromTransform(s,d,h){let{key:y,binComponent:w}=vg(d,d.bin,h);return new fi(s,{[y]:w})}merge(s,d){for(let h of be(s.bins))h in this.bins?(d(s.bins[h].signal,this.bins[h].signal),this.bins[h].as=Re([...this.bins[h].as,...s.bins[h].as],ae)):this.bins[h]=s.bins[h];for(let h of s.children)s.removeChild(h),h.parent=this;s.remove()}producedFields(){return new Set(Se(this.bins).map(s=>s.as).flat(2))}dependentFields(){return new Set(Se(this.bins).map(s=>s.field))}hash(){return`Bin ${ae(this.bins)}`}assemble(){return Se(this.bins).flatMap(s=>{let d=[],[h,...y]=s.as,{extent:w,...S}=s.bin,A={type:"bin",field:Gt(s.field),as:h,signal:s.signal,...Ir(w)?{extent:null}:{extent:w},...s.span?{span:{signal:`span(${s.span})`}}:{},...S};!w&&s.extentSignal&&(d.push({type:"extent",field:Gt(s.field),signal:s.extentSignal}),A.extent={signal:s.extentSignal}),d.push(A);for(let C of y)for(let L=0;L<2;L++)d.push({type:"formula",expr:Ge({field:h[L]},{expr:"datum"}),as:C[L]});return s.formula&&d.push({type:"formula",expr:s.formula,as:s.formulaAs}),d})}}function Vy(l,s,d,h){let y=ln(h)?h.encoding[Si(s)]:void 0;if(ha(d)&&ln(h)&&cf(d,y,h.markDef,h.config)){l.add(Ge(d,{})),l.add(Ge(d,{suffix:"end"}));let{mark:w,markDef:S,config:A}=h,C=Di({fieldDef:d,markDef:S,config:A});lc(w)&&C!==.5&&sn(s)&&(l.add(Ge(d,{suffix:Vf})),l.add(Ge(d,{suffix:Ft}))),d.bin&&ru(d,s)&&l.add(Ge(d,{binSuffix:"range"}))}else if(Zo(s)){let w=ph(s);l.add(h.getName(w))}else l.add(Ge(d));return Li(d)&&function(w){return b.isObject(w)&&"field"in w}(d.scale?.range)&&l.add(d.scale.range.field),l}class qa extends Ht{clone(){return new qa(null,new Set(this.dimensions),j(this.measures))}constructor(s,d,h){super(s),this.dimensions=d,this.measures=h}get groupBy(){return this.dimensions}static makeFromEncoding(s,d){let h=!1;d.forEachFieldDef(S=>{S.aggregate&&(h=!0)});let y={},w=new Set;return h?(d.forEachFieldDef((S,A)=>{let{aggregate:C,field:L}=S;if(C)if(C==="count")y["*"]??={},y["*"].count=new Set([Ge(S,{forAs:!0})]);else{if(Qr(C)||Ti(C)){let G=Qr(C)?"argmin":"argmax",H=C[G];y[H]??={},y[H][G]=new Set([Ge({op:G,field:H},{forAs:!0})])}else y[L]??={},y[L][C]=new Set([Ge(S,{forAs:!0})]);Rr(A)&&d.scaleDomain(A)==="unaggregated"&&(y[L]??={},y[L].min=new Set([Ge({field:L,aggregate:"min"},{forAs:!0})]),y[L].max=new Set([Ge({field:L,aggregate:"max"},{forAs:!0})]))}else Vy(w,A,S,d)}),w.size+be(y).length===0?null:new qa(s,w,y)):null}static makeFromTransform(s,d){let h=new Set,y={};for(let w of d.aggregate){let{op:S,field:A,as:C}=w;S&&(S==="count"?(y["*"]??={},y["*"].count=new Set([C||Ge(w,{forAs:!0})])):(y[A]??={},y[A][S]=new Set([C||Ge(w,{forAs:!0})])))}for(let w of d.groupby??[])h.add(w);return h.size+be(y).length===0?null:new qa(s,h,y)}merge(s){return Ne(this.dimensions,s.dimensions)?(function(d,h){for(let y of be(h)){let w=h[y];for(let S of be(w))y in d?d[y][S]=new Set([...d[y][S]??[],...w[S]]):d[y]={[S]:w[S]}}}(this.measures,s.measures),!0):(function(){ac.debug(...arguments)}("different dimensions, cannot merge"),!1)}addDimensions(s){s.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...be(this.measures)])}producedFields(){let s=new Set;for(let d of be(this.measures))for(let h of be(this.measures[d])){let y=this.measures[d][h];y.size===0?s.add(`${h}_${d}`):y.forEach(s.add,s)}return s}hash(){return`Aggregate ${ae({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let s=[],d=[],h=[];for(let y of be(this.measures))for(let w of be(this.measures[y]))for(let S of this.measures[y][w])h.push(S),s.push(w),d.push(y==="*"?null:Gt(y));return{type:"aggregate",groupby:[...this.dimensions].map(Gt),ops:s,fields:d,as:h}}}class sl extends Ht{constructor(s,d,h,y){super(s),this.model=d,this.name=h,this.data=y,nt(this,"column",void 0),nt(this,"row",void 0),nt(this,"facet",void 0),nt(this,"childModel",void 0);for(let w of $a){let S=d.facet[w];if(S){let{bin:A,sort:C}=S;this[w]={name:d.getName(`${w}_domain`),fields:[Ge(S),...Wt(A)?[Ge(S,{binSuffix:"end"})]:[]],...ri(C)?{sortField:C}:b.isArray(C)?{sortIndexField:rl(S,w)}:{}}}}this.childModel=d.child}hash(){let s="Facet";for(let d of $a)this[d]&&(s+=` ${d.charAt(0)}:${ae(this[d])}`);return s}get fields(){let s=[];for(let d of $a)this[d]?.fields&&s.push(...this[d].fields);return s}dependentFields(){let s=new Set(this.fields);for(let d of $a)this[d]&&(this[d].sortField&&s.add(this[d].sortField.field),this[d].sortIndexField&&s.add(this[d].sortIndexField));return s}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let s={};for(let d of Jr){let h=this.childModel.component.scales[d];if(h&&!h.merged){let y=h.get("type"),w=h.get("range");if(Gn(y)&&po(w)){let S=Ag(ys(this.childModel,d));S?s[d]=S:$e(pa(d))}}}return s}assembleRowColumnHeaderData(s,d,h){let y={row:"y",column:"x",facet:void 0}[s],w=[],S=[],A=[];y&&h&&h[y]&&(d?(w.push(`distinct_${h[y]}`),S.push("max")):(w.push(h[y]),S.push("distinct")),A.push(`distinct_${h[y]}`));let{sortField:C,sortIndexField:L}=this[s];if(C){let{op:G=uc,field:H}=C;w.push(H),S.push(G),A.push(Ge(C,{forAs:!0}))}else L&&(w.push(L),S.push("max"),A.push(L));return{name:this[s].name,source:d??this.data,transform:[{type:"aggregate",groupby:this[s].fields,...w.length?{fields:w,ops:S,as:A}:{}}]}}assembleFacetHeaderData(s){let{columns:d}=this.model.layout,{layoutHeaders:h}=this.model.component,y=[],w={};for(let C of Eu){for(let L of Bc){let G=(h[C]&&h[C][L])??[];for(let H of G)if(H.axes?.length>0){w[C]=!0;break}}if(w[C]){let L=`length(data("${this.facet.name}"))`,G=C==="row"?d?{signal:`ceil(${L} / ${d})`}:1:d?{signal:`min(${L}, ${d})`}:{signal:L};y.push({name:`${this.facet.name}_${C}`,transform:[{type:"sequence",start:0,stop:G}]})}}let{row:S,column:A}=w;return(S||A)&&y.unshift(this.assembleRowColumnHeaderData("facet",null,s)),y}assemble(){let s=[],d=null,h=this.getChildIndependentFieldsWithStep(),{column:y,row:w,facet:S}=this;if(y&&w&&(h.x||h.y)){d=`cross_${this.column.name}_${this.row.name}`;let A=[].concat(h.x??[],h.y??[]),C=A.map(()=>"distinct");s.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:A,ops:C}]})}for(let A of[Yr,Je])this[A]&&s.push(this.assembleRowColumnHeaderData(A,d,h));if(S){let A=this.assembleFacetHeaderData(h);A&&s.push(...A)}return s}}function Wc(l){return l.startsWith("'")&&l.endsWith("'")||l.startsWith('"')&&l.endsWith('"')?l.slice(1,-1):l}function t1(l){let s={};return P(l.filter,d=>{if(ql(d)){let h=null;Yd(d)?h=Un(d.equal):Gs(d)?h=Un(d.lte):zs(d)?h=Un(d.lt):js(d)?h=Un(d.gt):Mh(d)?h=Un(d.gte):Kd(d)?h=d.range[0]:Xd(d)&&(h=(d.oneOf??d.in)[0]),h&&(Bs(h)?s[d.field]="date":b.isNumber(h)?s[d.field]="number":b.isString(h)&&(s[d.field]="string")),d.timeUnit&&(s[d.field]="date")}}),s}function Wn(l){let s={};function d(h){var y;Rt(h)?s[h.field]="date":h.type==="quantitative"&&(y=h.aggregate,b.isString(y)&&Z(["min","max"],y))?s[h.field]="number":Kt(h.field)>1?h.field in s||(s[h.field]="flatten"):Li(h)&&ri(h.sort)&&Kt(h.sort.field)>1&&(h.sort.field in s||(s[h.sort.field]="flatten"))}if((ln(l)||Wa(l))&&l.forEachFieldDef((h,y)=>{if(ha(h))d(h);else{let w=Ps(y),S=l.fieldDef(w);d({...h,type:S.type})}}),ln(l)){let{mark:h,markDef:y,encoding:w}=l;if(as(h)&&!l.encoding.order){let S=w[y.orient==="horizontal"?"y":"x"];Ue(S)&&S.type==="quantitative"&&!(S.field in s)&&(s[S.field]="number")}}return s}class Vn extends Ht{clone(){return new Vn(null,j(this._parse))}constructor(s,d){super(s),nt(this,"_parse",void 0),this._parse=d}hash(){return`Parse ${ae(this._parse)}`}static makeExplicit(s,d,h){let y={},w=d.data;return!bo(w)&&w?.format?.parse&&(y=w.format.parse),this.makeWithAncestors(s,y,{},h)}static makeWithAncestors(s,d,h,y){for(let A of be(h)){let C=y.getWithExplicit(A);C.value!==void 0&&(C.explicit||C.value===h[A]||C.value==="derived"||h[A]==="flatten"?delete h[A]:$e(Or(A,h[A],C.value)))}for(let A of be(d)){let C=y.get(A);C!==void 0&&(C===d[A]?delete d[A]:$e(Or(A,d[A],C)))}let w=new Ui(d,h);y.copyAll(w);let S={};for(let A of be(w.combine())){let C=w.get(A);C!==null&&(S[A]=C)}return be(S).length===0||y.parseNothing?null:new Vn(s,S)}get parse(){return this._parse}merge(s){this._parse={...this._parse,...s.parse},s.remove()}assembleFormatParse(){let s={};for(let d of be(this._parse)){let h=this._parse[d];Kt(d)===1&&(s[d]=h)}return s}producedFields(){return new Set(be(this._parse))}dependentFields(){return new Set(be(this._parse))}assembleTransforms(){let s=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return be(this._parse).filter(d=>!s||Kt(d)>1).map(d=>{let h=function(y,w){let S=kt(y);return w==="number"?`toNumber(${S})`:w==="boolean"?`toBoolean(${S})`:w==="string"?`toString(${S})`:w==="date"?`toDate(${S})`:w==="flatten"?S:w.startsWith("date:")?`timeParse(${S},'${Wc(w.slice(5,w.length))}')`:w.startsWith("utc:")?`utcParse(${S},'${Wc(w.slice(4,w.length))}')`:($e(`Unrecognized parse "${w}".`),null)}(d,this._parse[d]);return h?{type:"formula",expr:h,as:St(d)}:null}).filter(d=>d!==null)}}class So extends Ht{clone(){return new So(null)}constructor(s){super(s)}dependentFields(){return new Set}producedFields(){return new Set([dr])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:dr}}}class Vc extends Ht{clone(){return new Vc(null,this.params)}constructor(s,d){super(s),this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ae(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Yc extends Ht{clone(){return new Yc(null,this.params)}constructor(s,d){super(s),this.params=d}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ae(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Ao extends Ht{constructor(s){let d;if(super(null),nt(this,"_data",void 0),nt(this,"_name",void 0),nt(this,"_generator",void 0),s??={name:"source"},bo(s)||(d=s.format?{...Q(s.format,["parse"])}:{}),pu(s))this._data={values:s.values};else if(cs(s)){if(this._data={url:s.url},!d.type){let h=/(?:\.([^.]+))?$/.exec(s.url)[1];Z(["json","csv","tsv","dsv","topojson"],h)||(h="json"),d.type=h}}else Hf(s)?this._data={values:[{type:"Sphere"}]}:(Gf(s)||bo(s))&&(this._data={});this._generator=bo(s),s.name&&(this._name=s.name),d&&!ye(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(s){this._name=s}set parent(s){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function cp(l){return l instanceof Ao||l instanceof Vc||l instanceof Yc}var Kc=new WeakMap;class dp{constructor(){g_(this,Kc,{writable:!0,value:void 0}),x0(this,Kc,!1)}setModified(){x0(this,Kc,!0)}get modifiedFlag(){return function(d,h){return h.get?h.get.call(d):h.value}(s=this,S0(s,Kc,"get"));var s}}class ia extends dp{getNodeDepths(s,d,h){h.set(s,d);for(let y of s.children)this.getNodeDepths(y,d+1,h);return h}optimize(s){let d=[...this.getNodeDepths(s,0,new Map).entries()].sort((h,y)=>y[1]-h[1]);for(let h of d)this.run(h[0]);return this.modifiedFlag}}class fp extends dp{optimize(s){this.run(s);for(let d of s.children)this.optimize(d);return this.modifiedFlag}}class Eg extends fp{mergeNodes(s,d){let h=d.shift();for(let y of d)s.removeChild(y),y.parent=h,y.remove()}run(s){let d=s.children.map(y=>y.hash()),h={};for(let y=0;y<d.length;y++)h[d[y]]===void 0?h[d[y]]=[s.children[y]]:h[d[y]].push(s.children[y]);for(let y of be(h))h[y].length>1&&(this.setModified(),this.mergeNodes(s,h[y]))}}class wg extends fp{constructor(s){super(),nt(this,"requiresSelectionId",void 0),this.requiresSelectionId=s&&ng(s)}run(s){s instanceof So&&(this.requiresSelectionId&&(cp(s.parent)||s.parent instanceof qa||s.parent instanceof Vn)||(this.setModified(),s.remove()))}}class Yy extends dp{optimize(s){return this.run(s,new Set),this.modifiedFlag}run(s,d){let h=new Set;s instanceof ji&&(h=s.producedFields(),Le(h,d)&&(this.setModified(),s.removeFormulas(d),s.producedFields.length===0&&s.remove()));for(let y of s.children)this.run(y,new Set([...d,...h]))}}class gs extends fp{constructor(){super()}run(s){s instanceof aa&&!s.isRequired()&&(this.setModified(),s.remove())}}class Xc extends ia{run(s){if(!(cp(s)||s.numChildren()>1)){for(let d of s.children)if(d instanceof Vn)if(s instanceof Vn)this.setModified(),s.merge(d);else{if(Ee(s.producedFields(),d.dependentFields()))continue;this.setModified(),d.swapWithParent()}}}}class pp extends ia{run(s){let d=[...s.children],h=s.children.filter(y=>y instanceof Vn);if(s.numChildren()>1&&h.length>=1){let y={},w=new Set;for(let S of h){let A=S.parse;for(let C of be(A))C in y?y[C]!==A[C]&&w.add(C):y[C]=A[C]}for(let S of w)delete y[S];if(!ye(y)){this.setModified();let S=new Vn(s,y);for(let A of d){if(A instanceof Vn)for(let C of be(y))delete A.parse[C];s.removeChild(A),A.parent=S,A instanceof Vn&&be(A.parse).length===0&&A.remove()}}}}}class Ky extends ia{run(s){s instanceof aa||s.numChildren()>0||s instanceof sl||s instanceof Ao||(this.setModified(),s.remove())}}class _g extends ia{run(s){let d=s.children.filter(y=>y instanceof ji),h=d.pop();for(let y of d)this.setModified(),h.merge(y)}}class Xy extends ia{run(s){let d=s.children.filter(y=>y instanceof qa),h={};for(let y of d){let w=ae(y.groupBy);w in h||(h[w]=[]),h[w].push(y)}for(let y of be(h)){let w=h[y];if(w.length>1){let S=w.pop();for(let A of w)S.merge(A)&&(s.removeChild(A),A.parent=S,A.remove(),this.setModified())}}}}class Zy extends ia{constructor(s){super(),this.model=s}run(s){let d=!(cp(s)||s instanceof ui||s instanceof Vn||s instanceof So),h=[],y=[];for(let w of s.children)w instanceof fi&&(d&&!Ee(s.producedFields(),w.dependentFields())?h.push(w):y.push(w));if(h.length>0){let w=h.pop();for(let S of h)w.merge(S,this.model.renameSignal.bind(this.model));this.setModified(),s instanceof fi?s.merge(w,this.model.renameSignal.bind(this.model)):w.swapWithParent()}if(y.length>1){let w=y.pop();for(let S of y)w.merge(S,this.model.renameSignal.bind(this.model));this.setModified()}}}class n1 extends ia{run(s){let d=[...s.children];if(!te(d,w=>w instanceof aa)||s.numChildren()<=1)return;let h=[],y;for(let w of d)if(w instanceof aa){let S=w;for(;S.numChildren()===1;){let[A]=S.children;if(!(A instanceof aa))break;S=A}h.push(...S.children),y?(s.removeChild(w),w.parent=y.parent,y.parent.removeChild(y),y.parent=S,this.setModified()):y=S}else h.push(w);if(h.length){this.setModified();for(let w of h)w.parent.removeChild(w),w.parent=y}}}class ll extends Ht{clone(){return new ll(null,j(this.transform))}constructor(s,d){super(s),this.transform=d}addDimensions(s){this.transform.groupby=Re(this.transform.groupby.concat(s),d=>d)}dependentFields(){let s=new Set;return this.transform.groupby&&this.transform.groupby.forEach(s.add,s),this.transform.joinaggregate.map(d=>d.field).filter(d=>d!==void 0).forEach(s.add,s),s}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(s){return s.as??Ge(s)}hash(){return`JoinAggregateTransform ${ae(this.transform)}`}assemble(){let s=[],d=[],h=[];for(let w of this.transform.joinaggregate)d.push(w.op),h.push(this.getDefaultName(w)),s.push(w.field===void 0?null:w.field);let y=this.transform.groupby;return{type:"joinaggregate",as:h,ops:d,fields:s,...y!==void 0?{groupby:y}:{}}}}class To extends Ht{clone(){return new To(null,j(this._stack))}constructor(s,d){super(s),nt(this,"_stack",void 0),this._stack=d}static makeFromTransform(s,d){let{stack:h,groupby:y,as:w,offset:S="zero"}=d,A=[],C=[];if(d.sort!==void 0)for(let H of d.sort)A.push(H.field),C.push(Ve(H.order,"ascending"));let L={field:A,order:C},G;return G=function(H){return b.isArray(H)&&H.every(J=>b.isString(J))&&H.length>1}(w)?w:b.isString(w)?[w,`${w}_end`]:[`${d.stack}_start`,`${d.stack}_end`],new To(s,{dimensionFieldDefs:[],stackField:h,groupby:y,offset:S,sort:L,facetby:[],as:G})}static makeFromEncoding(s,d){let h=d.stack,{encoding:y}=d;if(!h)return null;let{groupbyChannels:w,fieldChannel:S,offset:A,impute:C}=h,L=w.map(re=>cr(y[re])).filter(re=>!!re),G=function(re){return re.stack.stackBy.reduce((ee,se)=>{let de=Ge(se.fieldDef);return de&&ee.push(de),ee},[])}(d),H=d.encoding.order,J;if(b.isArray(H)||Ue(H))J=jl(H);else{let re=J0(H)?H.sort:S==="y"?"descending":"ascending";J=G.reduce((ee,se)=>(ee.field.push(se),ee.order.push(re),ee),{field:[],order:[]})}return new To(s,{dimensionFieldDefs:L,stackField:d.vgField(S),facetby:[],stackby:G,sort:J,offset:A,impute:C,as:[d.vgField(S,{suffix:"start",forAs:!0}),d.vgField(S,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(s){this._stack.facetby.push(...s)}dependentFields(){let s=new Set;return s.add(this._stack.stackField),this.getGroupbyFields().forEach(s.add,s),this._stack.facetby.forEach(s.add,s),this._stack.sort.field.forEach(s.add,s),s}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ae(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:s,impute:d,groupby:h}=this._stack;return s.length>0?s.map(y=>y.bin?d?[Ge(y,{binSuffix:"mid"})]:[Ge(y,{}),Ge(y,{binSuffix:"end"})]:[Ge(y)]).flat():h??[]}assemble(){let s=[],{facetby:d,dimensionFieldDefs:h,stackField:y,stackby:w,sort:S,offset:A,impute:C,as:L}=this._stack;if(C)for(let G of h){let{bandPosition:H=.5,bin:J}=G;if(J){let re=Ge(G,{expr:"datum"}),ee=Ge(G,{expr:"datum",binSuffix:"end"});s.push({type:"formula",expr:`${H}*${re}+${1-H}*${ee}`,as:Ge(G,{binSuffix:"mid",forAs:!0})})}s.push({type:"impute",field:y,groupby:[...w,...d],key:Ge(G,{binSuffix:"mid"}),method:"value",value:0})}return s.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:y,sort:S,as:L,offset:A}),s}}class ul extends Ht{clone(){return new ul(null,j(this.transform))}constructor(s,d){super(s),this.transform=d}addDimensions(s){this.transform.groupby=Re(this.transform.groupby.concat(s),d=>d)}dependentFields(){let s=new Set;return(this.transform.groupby??[]).forEach(s.add,s),(this.transform.sort??[]).forEach(d=>s.add(d.field)),this.transform.window.map(d=>d.field).filter(d=>d!==void 0).forEach(s.add,s),s}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(s){return s.as??Ge(s)}hash(){return`WindowTransform ${ae(this.transform)}`}assemble(){let s=[],d=[],h=[],y=[];for(let H of this.transform.window)d.push(H.op),h.push(this.getDefaultName(H)),y.push(H.param===void 0?null:H.param),s.push(H.field===void 0?null:H.field);let w=this.transform.frame,S=this.transform.groupby;if(w&&w[0]===null&&w[1]===null&&d.every(H=>wn(H)))return{type:"joinaggregate",as:h,ops:d,fields:s,...S!==void 0?{groupby:S}:{}};let A=[],C=[];if(this.transform.sort!==void 0)for(let H of this.transform.sort)A.push(H.field),C.push(H.order??"ascending");let L={field:A,order:C},G=this.transform.ignorePeers;return{type:"window",params:y,as:h,ops:d,fields:s,sort:L,...G!==void 0?{ignorePeers:G}:{},...S!==void 0?{groupby:S}:{},...w!==void 0?{frame:w}:{}}}}function kg(l){if(l instanceof sl)if(l.numChildren()!==1||l.children[0]instanceof aa){let d=l.model.component.data.main;xg(d);let h=(s=l,function w(S){if(!(S instanceof sl)){let A=S.clone();if(A instanceof aa){let C=Sg+A.getSource();A.setSource(C),s.model.component.data.outputNodes[C]=A}else(A instanceof qa||A instanceof To||A instanceof ul||A instanceof ll)&&A.addDimensions(s.fields);for(let C of S.children.flatMap(w))C.parent=A;return[A]}return S.children.flatMap(w)}),y=l.children.map(h).flat();for(let w of y)w.parent=d}else{let d=l.children[0];(d instanceof qa||d instanceof To||d instanceof ul||d instanceof ll)&&d.addDimensions(l.fields),d.swapWithParent(),kg(l)}else l.children.map(kg);var s}function xg(l){if(l instanceof aa&&l.type===tn.Main&&l.numChildren()===1){let s=l.children[0];s instanceof sl||(s.swapWithParent(),xg(l))}}let Sg="scale_",hp=5;function mp(l){for(let s of l){for(let d of s.children)if(d.parent!==s)return!1;if(!mp(s.children))return!1}return!0}function pi(l,s){let d=!1;for(let h of s)d=l.optimize(h)||d;return d}function Jy(l,s,d){let h=l.sources,y=!1;return y=pi(new gs,h)||y,y=pi(new wg(s),h)||y,h=h.filter(w=>w.numChildren()>0),y=pi(new Ky,h)||y,h=h.filter(w=>w.numChildren()>0),d||(y=pi(new Xc,h)||y,y=pi(new Zy(s),h)||y,y=pi(new Yy,h)||y,y=pi(new pp,h)||y,y=pi(new Xy,h)||y,y=pi(new _g,h)||y,y=pi(new Eg,h)||y,y=pi(new n1,h)||y),l.sources=h,y}class Dn{constructor(s){nt(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:s})}static fromName(s,d){return new Dn(()=>s(d))}}function Qy(l){ln(l)?function(s){let d=s.component.scales;for(let h of be(d)){let y=a1(s,h);if(d[h].setWithExplicit("domains",y),ev(s,h),s.component.data.isFaceted){let w=s;for(;!Wa(w)&&w.parent;)w=w.parent;if(w.component.resolve.scale[h]==="shared")for(let S of y.value)xa(S)&&(S.data=Sg+S.data.replace(Sg,""))}}}(l):function(s){for(let h of s.children)Qy(h);let d=s.component.scales;for(let h of be(d)){let y,w=null;for(let S of s.children){let A=S.component.scales[h];if(A){y=y===void 0?A.getWithExplicit("domains"):Gi(y,A.getWithExplicit("domains"),"domains","scale",Qc);let C=A.get("selectionExtent");w&&C&&w.param!==C.param&&$e(sr),w=C}}d[h].setWithExplicit("domains",y),w&&d[h].set("selectionExtent",w,!0)}}(l)}function a1(l,s){let d=l.getScaleComponent(s).get("type"),{encoding:h}=l,y=function(w,S,A,C){if(w==="unaggregated"){let{valid:L,reason:G}=Ra(S,A);if(!L)return void $e(G)}else if(w===void 0&&C.useUnaggregatedDomain){let{valid:L}=Ra(S,A);if(L)return"unaggregated"}return w}(l.scaleDomain(s),l.typedFieldDef(s),d,l.config.scale);return y!==l.scaleDomain(s)&&(l.specifiedScales[s]={...l.specifiedScales[s],domain:y}),s==="x"&&mn(h.x2)?mn(h.x)?Gi(bs(d,y,l,"x"),bs(d,y,l,"x2"),"domain","scale",Qc):bs(d,y,l,"x2"):s==="y"&&mn(h.y2)?mn(h.y)?Gi(bs(d,y,l,"y"),bs(d,y,l,"y2"),"domain","scale",Qc):bs(d,y,l,"y2"):bs(d,y,l,s)}function Zc(l,s,d){let h=zn(d)?.unit;return s==="temporal"||h?function(y,w,S){return y.map(A=>({signal:`{data: ${au(A,{timeUnit:S,type:w})}}`}))}(l,s,h):[l]}function bs(l,s,d,h){let{encoding:y,markDef:w,mark:S,config:A,stack:C}=d,L=mn(y[h]),{type:G}=L,H=L.timeUnit;if(function(ee){return ee?.unionWith}(s)){let ee=bs(l,void 0,d,h);return zi([...Zc(s.unionWith,G,H),...ee.value])}if(Ke(s))return zi([s]);if(s&&s!=="unaggregated"&&!G0(s))return zi(Zc(s,G,H));if(C&&h===C.fieldChannel){if(C.offset==="normalize")return Lr([[0,1]]);let ee=d.requestDataName(tn.Main);return Lr([{data:ee,field:d.vgField(h,{suffix:"start"})},{data:ee,field:d.vgField(h,{suffix:"end"})}])}let J=Rr(h)&&Ue(L)?function(ee,se,de){if(!Gn(de))return;let fe=ee.fieldDef(se),ge=fe.sort;if(cc(ge))return{op:"min",field:rl(fe,se),order:"ascending"};let{stack:we}=ee,Ae=we?new Set([...we.groupbyFields,...we.stackBy.map(Fe=>Fe.fieldDef.field)]):void 0;if(ri(ge))return Jc(ge,we&&!Ae.has(ge.field));if(Yh(ge)){let{encoding:Fe,order:He}=ge,tt=ee.fieldDef(Fe),{aggregate:ut,field:Qe}=tt,Xe=we&&!Ae.has(Qe);if(Qr(ut)||Ti(ut))return Jc({field:Ge(tt),order:He},Xe);if(wn(ut)||!ut)return Jc({op:ut,field:Qe,order:He},Xe)}else{if(ge==="descending")return{op:"min",field:ee.vgField(se),order:"descending"};if(Z(["ascending",void 0],ge))return!0}}(d,h,l):void 0;if(Mi(L))return Lr(Zc([L.datum],G,H));let re=L;if(s==="unaggregated"){let ee=d.requestDataName(tn.Main),{field:se}=L;return Lr([{data:ee,field:Ge({field:se,aggregate:"min"})},{data:ee,field:Ge({field:se,aggregate:"max"})}])}if(Wt(re.bin)){if(Gn(l))return Lr(l==="bin-ordinal"?[]:[{data:We(J)?d.requestDataName(tn.Main):d.requestDataName(tn.Raw),field:d.vgField(h,ru(re,h)?{binSuffix:"range"}:{}),sort:J!==!0&&b.isObject(J)?J:{field:d.vgField(h,{}),op:"min"}}]);{let{bin:ee}=re;if(Wt(ee)){let se=xo(d,re.field,ee);return Lr([new Dn(()=>{let de=d.getSignalName(se);return`[${de}.start, ${de}.stop]`})])}return Lr([{data:d.requestDataName(tn.Main),field:d.vgField(h,{})}])}}if(re.timeUnit&&Z(["time","utc"],l)){let ee=y[Si(h)];if(cf(re,ee,w,A)){let se=d.requestDataName(tn.Main),de=Di({fieldDef:re,fieldDef2:ee,markDef:w,config:A}),fe=lc(S)&&de!==.5;return Lr([{data:se,field:d.vgField(h,fe?{suffix:Vf}:{})},{data:se,field:d.vgField(h,{suffix:fe?Ft:"end"})}])}}return Lr(J?[{data:We(J)?d.requestDataName(tn.Main):d.requestDataName(tn.Raw),field:d.vgField(h),sort:J}]:[{data:d.requestDataName(tn.Main),field:d.vgField(h)}])}function Jc(l,s){let{op:d,field:h,order:y}=l;return{op:d??(s?"sum":uc),...h?{field:Gt(h)}:{},...y?{order:y}:{}}}function ev(l,s){let d=l.component.scales[s],h=l.specifiedScales[s].domain,y=l.fieldDef(s)?.bin,w=G0(h)&&h,S=fo(y)&&Ir(y.extent)&&y.extent;(w||S)&&d.set("selectionExtent",w??S,!0)}function Ra(l,s){let{aggregate:d,type:h}=l;return d?b.isString(d)&&!co.has(d)?{valid:!1,reason:Th(d)}:h==="quantitative"&&s==="log"?{valid:!1,reason:Ch(l)}:{valid:!0}:{valid:!1,reason:C0(l)}}function Qc(l,s,d,h){return l.explicit&&s.explicit&&$e(function(y,w,S,A){return`Conflicting ${w.toString()} property "${y.toString()}" (${Ye(S)} and ${Ye(A)}). Using the union of the two domains.`}(d,h,l.value,s.value)),{explicit:l.explicit,value:[...l.value,...s.value]}}function r1(l){let s=Re(l.map(S=>{if(xa(S)){let{sort:A,...C}=S;return C}return S}),ae),d=Re(l.map(S=>{if(xa(S)){let A=S.sort;return A===void 0||We(A)||("op"in A&&A.op==="count"&&delete A.field,A.order==="ascending"&&delete A.order),A}}).filter(S=>S!==void 0),ae);if(s.length===0)return;if(s.length===1){let S=l[0];if(xa(S)&&d.length>0){let A=d[0];if(d.length>1){$e(Nh);let C=d.filter(L=>b.isObject(L)&&"op"in L&&L.op!=="min");A=!d.every(L=>b.isObject(L)&&"op"in L)||C.length!==1||C[0]}else if(b.isObject(A)&&"field"in A){let C=A.field;S.field===C&&(A=!A.order||{order:A.order})}return{...S,sort:A}}return S}let h=Re(d.map(S=>We(S)||!("op"in S)||b.isString(S.op)&&S.op in v0?S:($e(function(A){return`Dropping sort property ${Ye(A)} as unioned domains only support boolean or op "count", "min", and "max".`}(S)),!0)),ae),y;h.length===1?y=h[0]:h.length>1&&($e(Nh),y=!0);let w=Re(l.map(S=>xa(S)?S.data:null),S=>S);return w.length===1&&w[0]!==null?{data:w[0],fields:s.map(S=>S.field),...y?{sort:y}:{}}:{fields:s,...y?{sort:y}:{}}}function Ag(l){if(xa(l)&&b.isString(l.field))return l.field;if(function(s){return!b.isArray(s)&&"fields"in s&&!("data"in s)}(l)){let s;for(let d of l.fields)if(xa(d)&&b.isString(d.field))if(s){if(s!==d.field)return $e("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),s}else s=d.field;return $e("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),s}if(function(s){return!b.isArray(s)&&"fields"in s&&"data"in s}(l)){$e("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");let s=l.fields[0];return b.isString(s)?s:void 0}}function ys(l,s){let d=l.component.scales[s].get("domains").map(h=>(xa(h)&&(h.data=l.lookupDataSource(h.data)),h));return r1(d)}function ed(l){return vs(l)||Ki(l)?l.children.reduce((s,d)=>s.concat(ed(d)),Tg(l)):Tg(l)}function Tg(l){return be(l.component.scales).reduce((s,d)=>{let h=l.component.scales[d];if(h.merged)return s;let y=h.combine(),{name:w,type:S,selectionExtent:A,domains:C,range:L,reverse:G,...H}=y,J=function(se,de,fe,ge){if(sn(fe)){if(po(se))return{step:{signal:`${de}_step`}}}else if(b.isObject(se)&&xa(se))return{...se,data:ge.lookupDataSource(se.data)};return se}(y.range,w,d,l),re=ys(l,d),ee=A?function(se,de,fe,ge){let we=wo(se,de.param,de);return{signal:Ga(fe.get("type"))&&b.isArray(ge)&&ge[0]>ge[1]?`isValid(${we}) && reverse(${we})`:we}}(l,A,h,re):null;return s.push({name:w,type:S,...re?{domain:re}:{},...ee?{domainRaw:ee}:{},range:J,...G!==void 0?{reverse:G}:{},...H}),s},[])}class Cg extends Ui{constructor(s,d){super({},{name:s}),nt(this,"merged",!1),this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1||te(this.get("domains"),s=>b.isArray(s)&&s.length===2&&b.isNumber(s[0])&&s[0]<=0&&b.isNumber(s[1])&&s[1]>=0)}}let cl=["range","scheme"];function Rg(l,s){let d=l.fieldDef(s);if(d?.bin){let{bin:h,field:y}=d,w=ka(s),S=l.getName(w);if(b.isObject(h)&&h.binned&&h.step!==void 0)return new Dn(()=>{let A=l.scaleName(s),C=`(domain("${A}")[1] - domain("${A}")[0]) / ${h.step}`;return`${l.getSignalName(S)} / (${C})`});if(Wt(h)){let A=xo(l,y,h);return new Dn(()=>{let C=l.getSignalName(A),L=`(${C}.stop - ${C}.start) / ${C}.step`;return`${l.getSignalName(S)} / (${L})`})}}}function tv(l,s){let d=s.specifiedScales[l],{size:h}=s,y=s.getScaleComponent(l).get("type");for(let G of cl)if(d[G]!==void 0){let H=Fh(y,G),J=j0(l,G);if(H)if(J)$e(J);else switch(G){case"range":{let re=d.range;if(b.isArray(re)){if(sn(l))return zi(re.map(ee=>{if(ee==="width"||ee==="height"){let se=s.getName(ee),de=s.getSignalName.bind(s);return Dn.fromName(de,se)}return ee}))}else if(b.isObject(re))return zi({data:s.requestDataName(tn.Main),field:re.field,sort:{op:"min",field:s.vgField(l)}});return zi(re)}case"scheme":return zi(nv(d[G]))}else $e(R0(y,G,l))}let w=l===Jt||l==="xOffset"?"width":"height",S=h[w];if(ja(S)){if(sn(l))if(Gn(y)){let G=rv(S,s,l);if(G)return zi({step:G})}else $e(Rh(w));else if(Zn(l)){let G=l===dn?"x":"y";if(s.getScaleComponent(G).get("type")==="band"){let H=iv(S,y);if(H)return zi(H)}}}let{rangeMin:A,rangeMax:C}=d,L=function(G,H){let{size:J,config:re,mark:ee,encoding:se}=H,{type:de}=mn(se[G]),fe=H.getScaleComponent(G),ge=fe.get("type"),{domain:we,domainMid:Ae}=H.specifiedScales[G];switch(G){case Jt:case Pn:if(Z(["point","band"],ge)){let Fe=Ng(G,J,re.view);if(ja(Fe))return{step:rv(Fe,H,G)}}return av(G,H,ge);case dn:case Ko:return function(Fe,He,tt){let ut=Fe===dn?"x":"y",Qe=He.getScaleComponent(ut);if(!Qe)return av(ut,He,tt,{center:!0});let Xe=Qe.get("type"),xt=He.scaleName(ut),{markDef:$t,config:Mn}=He;if(Xe==="band"){let _n=Ng(ut,He.size,He.config.view);if(ja(_n)){let kn=iv(_n,tt);if(kn)return kn}return[0,{signal:`bandwidth('${xt}')`}]}{let _n=He.encoding[ut];if(Ue(_n)&&_n.timeUnit){let kn=P0(_n.timeUnit,Cn=>`scale('${xt}', ${Cn})`),Bt=He.config.scale.bandWithNestedOffsetPaddingInner,It=Di({fieldDef:_n,markDef:$t,config:Mn})-.5,gn=It!==0?` + ${It}`:"";return Bt?[{signal:`${Ke(Bt)?`${Bt.signal}/2`+gn:`${Bt/2+It}`} * (${kn})`},{signal:`${Ke(Bt)?`(1 - ${Bt.signal}/2)`+gn:`${1-Bt/2+It}`} * (${kn})`}]:[0,{signal:kn}]}return W(`Cannot use ${Fe} scale if ${ut} scale is not discrete.`)}}(G,H,ge);case wi:{let Fe=gp(ee,H.component.scales[G].get("zero"),re),He=function(tt,ut,Qe,Xe){let xt={x:Rg(Qe,"x"),y:Rg(Qe,"y")};switch(tt){case"bar":case"tick":{if(Xe.scale.maxBandSize!==void 0)return Xe.scale.maxBandSize;let $t=Og(ut,xt,Xe.view);return b.isNumber($t)?$t-1:new Dn(()=>`${$t.signal} - 1`)}case"line":case"trail":case"rule":return Xe.scale.maxStrokeWidth;case"text":return Xe.scale.maxFontSize;case"point":case"square":case"circle":{if(Xe.scale.maxSize)return Xe.scale.maxSize;let $t=Og(ut,xt,Xe.view);return b.isNumber($t)?Math.pow(Ig*$t,2):new Dn(()=>`pow(${Ig} * ${$t.signal}, 2)`)}}throw new Error(Ii("size",tt))}(ee,J,H,re);return Kl(ge)?function(tt,ut,Qe){let Xe=()=>{let xt=fa(ut),$t=fa(tt),Mn=`(${xt} - ${$t}) / (${Qe} - 1)`;return`sequence(${$t}, ${xt} + ${Mn}, ${Mn})`};return Ke(ut)?new Dn(Xe):{signal:Xe()}}(Fe,He,function(tt,ut,Qe,Xe){switch(tt){case"quantile":return ut.scale.quantileCount;case"quantize":return ut.scale.quantizeCount;case"threshold":return Qe!==void 0&&b.isArray(Qe)?Qe.length+1:($e(function(xt){return`Domain for ${xt} is required for threshold scale.`}(Xe)),3)}}(ge,re,we,G)):[Fe,He]}case nr:return[0,2*Math.PI];case Pa:return[0,360];case pt:return[0,new Dn(()=>`min(${H.getSignalName("width")},${H.getSignalName("height")})/2`)];case lo:return[re.scale.minStrokeWidth,re.scale.maxStrokeWidth];case Xo:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case En:return"symbol";case Me:case _a:case Xr:return ge==="ordinal"?de==="nominal"?"category":"ordinal":Ae!==void 0?"diverging":ee==="rect"||ee==="geoshape"?"heatmap":"ramp";case _i:case Mt:case ki:return[re.scale.minOpacity,re.scale.maxOpacity]}}(l,s);return(A!==void 0||C!==void 0)&&Fh(y,"rangeMin")&&b.isArray(L)&&L.length===2?zi([A??L[0],C??L[1]]):Lr(L)}function nv(l){return function(s){return!b.isString(s)&&!!s.name}(l)?{scheme:l.name,...Q(l,["name"])}:{scheme:l}}function av(l,s,d){let{center:h}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=ka(l),w=s.getName(y),S=s.getSignalName.bind(s);return l===Pn&&Ga(d)?h?[Dn.fromName(A=>`${S(A)}/2`,w),Dn.fromName(A=>`-${S(A)}/2`,w)]:[Dn.fromName(S,w),0]:h?[Dn.fromName(A=>`-${S(A)}/2`,w),Dn.fromName(A=>`${S(A)}/2`,w)]:[0,Dn.fromName(S,w)]}function rv(l,s,d){let{encoding:h}=s,y=s.getScaleComponent(d),w=$l(d),S=h[w];if(If({step:l,offsetIsDiscrete:vt(S)&&Wl(S.type)})==="offset"&&go(h,w)){let C=s.getScaleComponent(w),L=`domain('${s.scaleName(w)}').length`;C.get("type")==="band"&&(L=`bandspace(${L}, ${C.get("paddingInner")??C.get("padding")??0}, ${C.get("paddingOuter")??C.get("padding")??0})`);let G=y.get("paddingInner")??y.get("padding");return{signal:`${l.step} * ${L} / (1-${A=G,Ke(A)?A.signal:b.stringValue(A)})`}}return l.step;var A}function iv(l,s){if(If({step:l,offsetIsDiscrete:Gn(s)})==="offset")return{step:l.step}}function Ng(l,s,d){let h=l===Jt?"width":"height";return s[h]||xc(d,h)}function gp(l,s,d){if(s)return Ke(s)?{signal:`${s.signal} ? 0 : ${gp(l,!1,d)}`}:0;switch(l){case"bar":case"tick":return d.scale.minBandSize;case"line":case"trail":case"rule":return d.scale.minStrokeWidth;case"text":return d.scale.minFontSize;case"point":case"square":case"circle":return d.scale.minSize}throw new Error(Ii("size",l))}let Ig=.95;function Og(l,s,d){let h=ja(l.width)?l.width.step:cu(d,"width"),y=ja(l.height)?l.height.step:cu(d,"height");return s.x||s.y?new Dn(()=>`min(${[s.x?s.x.signal:h,s.y?s.y.signal:y].join(", ")})`):Math.min(h,y)}function bp(l,s){ln(l)?function(d,h){let y=d.component.scales,{config:w,encoding:S,markDef:A,specifiedScales:C}=d;for(let L of be(y)){let G=C[L],H=y[L],J=d.getScaleComponent(L),re=mn(S[L]),ee=G[h],se=J.get("type"),de=J.get("padding"),fe=J.get("paddingInner"),ge=Fh(se,h),we=j0(L,h);if(ee!==void 0&&(ge?we&&$e(we):$e(R0(se,h,L))),ge&&we===void 0)if(ee!==void 0){let Ae=re.timeUnit,Fe=re.type;switch(h){case"domainMax":case"domainMin":Bs(G[h])||Fe==="temporal"||Ae?H.set(h,{signal:au(G[h],{type:Fe,timeUnit:Ae})},!0):H.set(h,G[h],!0);break;default:H.copyKeyFromObject(h,G)}}else{let Ae=h in Dg?Dg[h]({model:d,channel:L,fieldOrDatumDef:re,scaleType:se,scalePadding:de,scalePaddingInner:fe,domain:G.domain,domainMin:G.domainMin,domainMax:G.domainMax,markDef:A,config:w,hasNestedOffsetScale:ay(S,L),hasSecondaryRangeChannel:!!S[Si(L)]}):w.scale[h];Ae!==void 0&&H.set(h,Ae,!1)}}}(l,s):sv(l,s)}let Dg={bins:l=>{let{model:s,fieldOrDatumDef:d}=l;return Ue(d)?function(h,y){let w=y.bin;if(Wt(w)){let S=xo(h,y.field,w);return new Dn(()=>h.getSignalName(S))}if(Bn(w)&&fo(w)&&w.step!==void 0)return{step:w.step}}(s,d):void 0},interpolate:l=>{let{channel:s,fieldOrDatumDef:d}=l;return function(h,y){if(Z([Me,_a,Xr],h)&&y!=="nominal")return"hcl"}(s,d.type)},nice:l=>{let{scaleType:s,channel:d,domain:h,domainMin:y,domainMax:w,fieldOrDatumDef:S}=l;return function(A,C,L,G,H,J){if(!(cr(J)?.bin||b.isArray(L)||H!=null||G!=null||Z([zt.TIME,zt.UTC],A)))return!!sn(C)||void 0}(s,d,h,y,w,S)},padding:l=>{let{channel:s,scaleType:d,fieldOrDatumDef:h,markDef:y,config:w}=l;return function(S,A,C,L,G,H){if(sn(S)){if(Mr(A)){if(C.continuousPadding!==void 0)return C.continuousPadding;let{type:J,orient:re}=G;if(J==="bar"&&(!Ue(L)||!L.bin&&!L.timeUnit)&&(re==="vertical"&&S==="x"||re==="horizontal"&&S==="y"))return H.continuousBandSize}if(A===zt.POINT)return C.pointPadding}}(s,d,w.scale,h,y,w.bar)},paddingInner:l=>{let{scalePadding:s,channel:d,markDef:h,scaleType:y,config:w,hasNestedOffsetScale:S}=l;return function(A,C,L,G,H){let J=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(A===void 0){if(sn(C)){let{bandPaddingInner:re,barBandPaddingInner:ee,rectBandPaddingInner:se,bandWithNestedOffsetPaddingInner:de}=H;return J?de:Ve(re,L==="bar"?ee:se)}if(Zn(C)&&G===zt.BAND)return H.offsetBandPaddingInner}}(s,d,h.type,y,w.scale,S)},paddingOuter:l=>{let{scalePadding:s,channel:d,scaleType:h,scalePaddingInner:y,config:w,hasNestedOffsetScale:S}=l;return function(A,C,L,G,H){let J=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(A===void 0){if(sn(C)){let{bandPaddingOuter:re,bandWithNestedOffsetPaddingOuter:ee}=H;if(J)return ee;if(L===zt.BAND)return Ve(re,Ke(G)?{signal:`${G.signal}/2`}:G/2)}else if(Zn(C)){if(L===zt.POINT)return .5;if(L===zt.BAND)return H.offsetBandPaddingOuter}}}(s,d,h,y,w.scale,S)},reverse:l=>{let{fieldOrDatumDef:s,scaleType:d,channel:h,config:y}=l;return function(w,S,A,C){if(A==="x"&&C.xReverse!==void 0)return Ga(w)&&S==="descending"?Ke(C.xReverse)?{signal:`!${C.xReverse.signal}`}:!C.xReverse:C.xReverse;if(Ga(w)&&S==="descending")return!0}(d,Ue(s)?s.sort:void 0,h,y.scale)},zero:l=>{let{channel:s,fieldOrDatumDef:d,domain:h,markDef:y,scaleType:w,config:S,hasSecondaryRangeChannel:A}=l;return function(C,L,G,H,J,re,ee){if(G&&G!=="unaggregated"&&Ga(J)){if(b.isArray(G)){let se=G[0],de=G[G.length-1];if(b.isNumber(se)&&se<=0&&b.isNumber(de)&&de>=0)return!0}return!1}if(C==="size"&&L.type==="quantitative"&&!Kl(J))return!0;if((!Ue(L)||!L.bin)&&Z([...Jr,...h0],C)){let{orient:se,type:de}=H;return(!Z(["bar","area","line","trail"],de)||!(se==="horizontal"&&C==="y"||se==="vertical"&&C==="x"))&&(!(!Z(["bar","area"],de)||ee)||re?.zero)}return!1}(s,d,h,y,w,S.scale,A)}};function ov(l){ln(l)?function(s){let d=s.component.scales;for(let h of Ul){let y=d[h];if(!y)continue;let w=tv(h,s);y.setWithExplicit("range",w)}}(l):sv(l,"range")}function sv(l,s){let d=l.component.scales;for(let h of l.children)s==="range"?ov(h):bp(h,s);for(let h of be(d)){let y;for(let w of l.children){let S=w.component.scales[h];S&&(y=Gi(y,S.getWithExplicit(s),s,"scale",vy((A,C)=>s==="range"&&A.step&&C.step?A.step-C.step:0)))}d[h].setWithExplicit(s,y)}}function Mg(l,s,d,h){let y=function(C,L,G,H){switch(L.type){case"nominal":case"ordinal":if(Jo(C)||Ld(C)==="discrete")return C==="shape"&&L.type==="ordinal"&&$e(Gd(C,"ordinal")),"ordinal";if(sn(C)||Zn(C)){if(Z(["rect","bar","image","rule"],G.type)||H)return"band"}else if(G.type==="arc"&&C in Zu)return"band";return qs(G[ka(C)])||eu(L)&&L.axis?.tickBand?"band":"point";case"temporal":return Jo(C)?"time":Ld(C)==="discrete"?($e(Gd(C,"temporal")),"ordinal"):Ue(L)&&L.timeUnit&&zn(L.timeUnit).utc?"utc":"time";case"quantitative":return Jo(C)?Ue(L)&&Wt(L.bin)?"bin-ordinal":"linear":Ld(C)==="discrete"?($e(Gd(C,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Ud(L.type))}(s,d,h,arguments.length>4&&arguments[4]!==void 0&&arguments[4]),{type:w}=l;return Rr(s)?w!==void 0?function(C,L){let G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!Rr(C))return!1;switch(C){case Jt:case Pn:case dn:case Ko:case nr:case pt:return!!Mr(L)||L==="band"||L==="point"&&!G;case wi:case lo:case _i:case Mt:case ki:case Pa:return Mr(L)||Kl(L)||Z(["band","point","ordinal"],L);case Me:case _a:case Xr:return L!=="band";case Xo:case En:return L==="ordinal"||Kl(L)}}(s,w)?Ue(d)&&(S=w,A=d.type,!(Z([Jd,Qd],A)?S===void 0||Gn(S):A===ns?Z([zt.TIME,zt.UTC,void 0],S):A!==ho||U0(S)||Kl(S)||S===void 0))?($e(function(C,L){return`FieldDef does not work with "${C}" scale. We are using "${L}" scale instead.`}(w,y)),y):w:($e(function(C,L,G){return`Channel "${C}" does not work with "${L}" scale. We are using "${G}" scale instead.`}(s,w,y)),y):y:null;var S,A}function yp(l){ln(l)?l.component.scales=function(s){let{encoding:d,mark:h,markDef:y}=s,w={};for(let S of Ul){let A=mn(d[S]);if(A&&h===q0&&S===En&&A.type===Hs)continue;let C=A&&A.scale;if(A&&C!==null&&C!==!1){C??={};let L=Mg(C,S,A,y,ay(d,S));w[S]=new Cg(s.scaleName(`${S}`,!0),{value:L,explicit:C.type===L})}}return w}(l):l.component.scales=function(s){let d=s.component.scales={},h={},y=s.component.resolve;for(let w of s.children){yp(w);for(let S of be(w.component.scales))if(y.scale[S]??=lg(S,s),y.scale[S]==="shared"){let A=h[S],C=w.component.scales[S].getWithExplicit("type");A?E_(A.value,C.value)?h[S]=Gi(A,C,"type","scale",i1):(y.scale[S]="independent",delete h[S]):h[S]=C}}for(let w of be(h)){let S=s.scaleName(w,!0),A=h[w];d[w]=new Cg(S,A);for(let C of s.children){let L=C.component.scales[w];L&&(C.renameScale(L.get("name"),S),L.merged=!0)}}return d}(l)}let i1=vy((l,s)=>B0(l)-B0(s));class Lg{constructor(){nt(this,"nameMap",void 0),this.nameMap={}}rename(s,d){this.nameMap[s]=d}has(s){return this.nameMap[s]!==void 0}get(s){for(;this.nameMap[s]&&s!==this.nameMap[s];)s=this.nameMap[s];return s}}function ln(l){return l?.type==="unit"}function Wa(l){return l?.type==="facet"}function Ki(l){return l?.type==="concat"}function vs(l){return l?.type==="layer"}class td{constructor(s,d,h,y,w,S,A){this.type=d,this.parent=h,this.config=w,nt(this,"name",void 0),nt(this,"size",void 0),nt(this,"title",void 0),nt(this,"description",void 0),nt(this,"data",void 0),nt(this,"transforms",void 0),nt(this,"layout",void 0),nt(this,"scaleNameMap",void 0),nt(this,"projectionNameMap",void 0),nt(this,"signalNameMap",void 0),nt(this,"component",void 0),nt(this,"view",void 0),nt(this,"children",void 0),nt(this,"correctDataNames",C=>(C.from?.data&&(C.from.data=this.lookupDataSource(C.from.data)),C.from?.facet?.data&&(C.from.facet.data=this.lookupDataSource(C.from.facet.data)),C)),this.parent=h,this.config=w,this.view=Jn(A),this.name=s.name??y,this.title=da(s.title)?{text:s.title}:s.title?Jn(s.title):void 0,this.scaleNameMap=h?h.scaleNameMap:new Lg,this.projectionNameMap=h?h.projectionNameMap:new Lg,this.signalNameMap=h?h.signalNameMap:new Lg,this.data=s.data,this.description=s.description,this.transforms=(s.transform??[]).map(C=>Tm(C)?{filter:F(C.filter,oc)}:C),this.layout=d==="layer"||d==="unit"?{}:function(C,L,G){let H=G[L],J={},{spacing:re,columns:ee}=H;re!==void 0&&(J.spacing=re),ee!==void 0&&(dc(C)&&!Zl(C.facet)||wc(C))&&(J.columns=ee),uu(C)&&(J.columns=1);for(let se of kc)if(C[se]!==void 0)if(se==="spacing"){let de=C[se];J[se]=b.isNumber(de)?de:{row:de.row??re,column:de.column??re}}else J[se]=C[se];return J}(s,d,w),this.component={data:{sources:h?h.component.data.sources:[],outputNodes:h?h.component.data.outputNodes:{},outputNodeRefCounts:h?h.component.data.outputNodeRefCounts:{},isFaceted:dc(s)||h?.component.data.isFaceted&&s.data===void 0},layoutSize:new Ui,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...S?j(S):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){(function(s){let{ignoreRange:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yp(s),Qy(s);for(let h of A_)bp(s,h);d||ov(s)})(this)}parseProjection(){yg(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){op(this)}assembleEncodeFromView(s){let{style:d,...h}=s,y={};for(let w of be(h)){let S=h[w];S!==void 0&&(y[w]=rn(S))}return y}assembleGroupEncodeEntry(s){let d={};return this.view&&(d=this.assembleEncodeFromView(this.view)),s||(this.description&&(d.description=rn(this.description)),this.type!=="unit"&&this.type!=="layer")?ye(d)?void 0:d:{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...d??{}}}assembleLayout(){if(!this.layout)return;let{spacing:s,...d}=this.layout,{component:h,config:y}=this,w=function(S,A){let C={};for(let L of $a){let G=S[L];if(G?.facetFieldDef){let{titleAnchor:H,titleOrient:J}=$c(["titleAnchor","titleOrient"],G.facetFieldDef.header,A,L),re=Pc(L,J),ee=jy(H,re);ee!==void 0&&(C[re]=ee)}}return ye(C)?void 0:C}(h.layoutHeaders,y);return{padding:s,...this.assembleDefaultLayout(),...d,...w?{titleBand:w}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:s}=this.component,d=[];for(let h of $a)s[h].title&&d.push(ms(this,h));for(let h of Eu)d=d.concat(zy(this,h));return d}assembleAxes(){return function(s,d){let{x:h=[],y=[]}=s;return[...h.map(w=>Vi(w,"grid",d)),...y.map(w=>Vi(w,"grid",d)),...h.map(w=>Vi(w,"main",d)),...y.map(w=>Vi(w,"main",d))].filter(w=>w)}(this.component.axes,this.config)}assembleLegends(){return lp(this)}assembleProjections(){return gg(this)}assembleTitle(){let{encoding:s,...d}=this.title??{},h={...tc(this.config.title).nonMarkTitleProperties,...d,...s?{encode:{update:s}}:{}};if(h.text)return Z(["unit","layer"],this.type)?Z(["middle",void 0],h.anchor)&&(h.frame??="group"):h.anchor??="start",ye(h)?void 0:h}assembleGroup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d={};s=s.concat(this.assembleSignals()),s.length>0&&(d.signals=s);let h=this.assembleLayout();h&&(d.layout=h),d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let y=!this.parent||Wa(this.parent)?ed(this):[];y.length>0&&(d.scales=y);let w=this.assembleAxes();w.length>0&&(d.axes=w);let S=this.assembleLegends();return S.length>0&&(d.legends=S),d}getName(s){return Pe((this.name?`${this.name}_`:"")+s)}getDataName(s){return this.getName(tn[s].toLowerCase())}requestDataName(s){let d=this.getDataName(s),h=this.component.data.outputNodeRefCounts;return h[d]=(h[d]||0)+1,d}getSizeSignalRef(s){if(Wa(this.parent)){let d=Ju(og(s)),h=this.component.scales[d];if(h&&!h.merged){let y=h.get("type"),w=h.get("range");if(Gn(y)&&po(w)){let S=h.get("name"),A=Ag(ys(this,d));return A?{signal:ap(S,h,Ge({aggregate:"distinct",field:A},{expr:"datum"}))}:($e(pa(d)),null)}}}return{signal:this.signalNameMap.get(this.getName(s))}}lookupDataSource(s){let d=this.component.data.outputNodes[s];return d?d.getSource():s}getSignalName(s){return this.signalNameMap.get(s)}renameSignal(s,d){this.signalNameMap.rename(s,d)}renameScale(s,d){this.scaleNameMap.rename(s,d)}renameProjection(s,d){this.projectionNameMap.rename(s,d)}scaleName(s,d){return d?this.getName(s):c0(s)&&Rr(s)&&this.component.scales[s]||this.scaleNameMap.has(this.getName(s))?this.scaleNameMap.get(this.getName(s)):void 0}projectionName(s){return s?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(s){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let d=this.component.scales[s];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(s):void 0}getSelectionComponent(s,d){let h=this.component.selection[s];if(!h&&this.parent&&(h=this.parent.getSelectionComponent(s,d)),!h)throw new Error(function(y){return`Cannot find a selection named "${y}".`}(d));return h}hasAxisOrientSignalRef(){return this.component.axes.x?.some(s=>s.hasOrientSignalRef())||this.component.axes.y?.some(s=>s.hasOrientSignalRef())}}class nd extends td{vgField(s){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.fieldDef(s);if(h)return Ge(h,d)}reduceFieldDef(s,d){return function(h,y,w,S){return h?be(h).reduce((A,C)=>{let L=h[C];return b.isArray(L)?L.reduce((G,H)=>y.call(S,G,H,C),A):y.call(S,A,L,C)},w):w}(this.getMapping(),(h,y,w)=>{let S=cr(y);return S?s(h,S,w):h},d)}forEachFieldDef(s,d){mc(this.getMapping(),(h,y)=>{let w=cr(h);w&&s(w,y)},d)}}class wu extends Ht{clone(){return new wu(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let h=this.transform.as??[void 0,void 0];this.transform.as=[h[0]??"value",h[1]??"density"]}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ae(this.transform)}`}assemble(){let{density:s,...d}=this.transform,h={type:"kde",field:s,...d};return this.transform.groupby&&(h.resolve="shared"),h}}class _u extends Ht{clone(){return new _u(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ae(this.transform)}`}assemble(){let{extent:s,param:d}=this.transform;return{type:"extent",field:s,signal:d}}}class Xi extends Ht{clone(){return new Xi(null,{...this.filter})}constructor(s,d){super(s),this.filter=d}static make(s,d){let{config:h,mark:y,markDef:w}=d;if(jt("invalid",w,h)!=="filter")return null;let S=d.reduceFieldDef((A,C,L)=>{let G=Rr(L)&&d.getScaleComponent(L);return G&&Ga(G.get("type"))&&C.aggregate!=="count"&&!as(y)&&(A[C.field]=C),A},{});return be(S).length?new Xi(s,S):null}dependentFields(){return new Set(be(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ae(this.filter)}`}assemble(){let s=be(this.filter).reduce((d,h)=>{let y=this.filter[h],w=Ge(y,{expr:"datum"});return y!==null&&(y.type==="temporal"?d.push(`(isDate(${w}) || (isValid(${w}) && isFinite(+${w})))`):y.type==="quantitative"&&(d.push(`isValid(${w})`),d.push(`isFinite(+${w})`))),d},[]);return s.length>0?{type:"filter",expr:s.join(" && ")}:null}}class Fr extends Ht{clone(){return new Fr(this.parent,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let{flatten:h,as:y=[]}=this.transform;this.transform.as=h.map((w,S)=>y[S]??w)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ae(this.transform)}`}assemble(){let{flatten:s,as:d}=this.transform;return{type:"flatten",fields:s,as:d}}}class Es extends Ht{clone(){return new Es(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let h=this.transform.as??[void 0,void 0];this.transform.as=[h[0]??"key",h[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ae(this.transform)}`}assemble(){let{fold:s,as:d}=this.transform;return{type:"fold",fields:s,as:d}}}class Zi extends Ht{clone(){return new Zi(null,j(this.fields),this.geojson,this.signal)}static parseAll(s,d){if(d.component.projection&&!d.component.projection.isFit)return s;let h=0;for(let y of[[Fa,et],[ar,ca]]){let w=y.map(S=>{let A=mn(d.encoding[S]);return Ue(A)?A.field:Mi(A)?{expr:`${A.datum}`}:ur(A)?{expr:`${A.value}`}:void 0});(w[0]||w[1])&&(s=new Zi(s,w,null,d.getName("geojson_"+h++)))}if(d.channelHasField(En)){let y=d.typedFieldDef(En);y.type===Hs&&(s=new Zi(s,null,y.field,d.getName("geojson_"+h++)))}return s}constructor(s,d,h,y){super(s),this.fields=d,this.geojson=h,this.signal=y}dependentFields(){let s=(this.fields??[]).filter(b.isString);return new Set([...this.geojson?[this.geojson]:[],...s])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ae(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class ws extends Ht{clone(){return new ws(null,this.projection,j(this.fields),j(this.as))}constructor(s,d,h,y){super(s),this.projection=d,this.fields=h,this.as=y}static parseAll(s,d){if(!d.projectionName())return s;for(let h of[[Fa,et],[ar,ca]]){let y=h.map(S=>{let A=mn(d.encoding[S]);return Ue(A)?A.field:Mi(A)?{expr:`${A.datum}`}:ur(A)?{expr:`${A.value}`}:void 0}),w=h[0]===ar?"2":"";(y[0]||y[1])&&(s=new ws(s,d.projectionName(),y,[d.getName(`x${w}`),d.getName(`y${w}`)]))}return s}dependentFields(){return new Set(this.fields.filter(b.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ae(this.fields)} ${ae(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class pr extends Ht{clone(){return new pr(null,j(this.transform))}constructor(s,d){super(s),this.transform=d}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(s){let{start:d=0,stop:h,step:y}=s;return{signal:`sequence(${[d,h,...y?[y]:[]].join(",")})`}}static makeFromTransform(s,d){return new pr(s,d)}static makeFromEncoding(s,d){let h=d.encoding,y=h.x,w=h.y;if(Ue(y)&&Ue(w)){let S=y.impute?y:w.impute?w:void 0;if(S===void 0)return;let A=y.impute?w:w.impute?y:void 0,{method:C,value:L,frame:G,keyvals:H}=S.impute,J=nm(d.mark,h);return new pr(s,{impute:S.field,key:A.field,...C?{method:C}:{},...L!==void 0?{value:L}:{},...G?{frame:G}:{},...H!==void 0?{keyvals:H}:{},...J.length?{groupby:J}:{}})}return null}hash(){return`Impute ${ae(this.transform)}`}assemble(){let{impute:s,key:d,keyvals:h,method:y,groupby:w,value:S,frame:A=[null,null]}=this.transform,C={type:"impute",field:s,key:d,...h?{keyvals:(L=h,L?.stop!==void 0?this.processSequence(h):h)}:{},method:"value",...w?{groupby:w}:{},value:y&&y!=="value"?null:S};var L;return y&&y!=="value"?[C,{type:"window",as:[`imputed_${s}_value`],ops:[y],fields:[s],frame:A,ignorePeers:!1,...w?{groupby:w}:{}},{type:"formula",expr:`datum.${s} === null ? datum.imputed_${s}_value : datum.${s}`,as:s}]:[C]}}class Ji extends Ht{clone(){return new Ji(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let h=this.transform.as??[void 0,void 0];this.transform.as=[h[0]??d.on,h[1]??d.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ae(this.transform)}`}assemble(){let{loess:s,on:d,...h}=this.transform;return{type:"loess",x:d,y:s,...h}}}class Va extends Ht{clone(){return new Va(null,j(this.transform),this.secondary)}constructor(s,d,h){super(s),this.transform=d,this.secondary=h}static make(s,d,h,y){let w=d.component.data.sources,{from:S}=h,A=null;if(function(C){return"data"in C}(S)){let C=Pg(S.data,w);C||(C=new Ao(S.data),w.push(C));let L=d.getName(`lookup_${y}`);A=new aa(C,L,tn.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[L]=A}else if(function(C){return"param"in C}(S)){let C=S.param,L;h={as:C,...h};try{L=d.getSelectionComponent(Pe(C),C)}catch{throw new Error(function(H){return`Lookups can only be performed on selection parameters. "${H}" is a variable parameter.`}(C))}if(A=L.materialized,!A)throw new Error(function(G){return`Cannot define and lookup the "${G}" selection in the same view. Try moving the lookup into a second, layered view?`}(C))}return new Va(s,h,A.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?b.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ae({transform:this.transform,secondary:this.secondary})}`}assemble(){let s;if(this.transform.from.fields)s={values:this.transform.from.fields,...this.transform.as?{as:b.array(this.transform.as)}:{}};else{let d=this.transform.as;b.isString(d)||($e('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),d="_lookup"),s={as:[d]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...s,...this.transform.default?{default:this.transform.default}:{}}}}class Co extends Ht{clone(){return new Co(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let h=this.transform.as??[void 0,void 0];this.transform.as=[h[0]??"prob",h[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ae(this.transform)}`}assemble(){let{quantile:s,...d}=this.transform;return{type:"quantile",field:s,...d}}}class Ro extends Ht{clone(){return new Ro(null,j(this.transform))}constructor(s,d){super(s),this.transform=d,this.transform=j(d);let h=this.transform.as??[void 0,void 0];this.transform.as=[h[0]??d.on,h[1]??d.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ae(this.transform)}`}assemble(){let{regression:s,on:d,...h}=this.transform;return{type:"regression",x:d,y:s,...h}}}class dl extends Ht{clone(){return new dl(null,j(this.transform))}constructor(s,d){super(s),this.transform=d}addDimensions(s){this.transform.groupby=Re((this.transform.groupby??[]).concat(s),d=>d)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ae(this.transform)}`}assemble(){let{pivot:s,value:d,groupby:h,limit:y,op:w}=this.transform;return{type:"pivot",field:s,value:d,...y!==void 0?{limit:y}:{},...w!==void 0?{op:w}:{},...h!==void 0?{groupby:h}:{}}}}class fl extends Ht{clone(){return new fl(null,j(this.transform))}constructor(s,d){super(s),this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ae(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function vp(l){let s=0;return function d(h,y){if(h instanceof Ao&&!h.isGenerator&&!cs(h.data)&&(l.push(y),y={name:null,source:y.name,transform:[]}),h instanceof Vn&&(h.parent instanceof Ao&&!y.source?(y.format={...y.format??{},parse:h.assembleFormatParse()},y.transform.push(...h.assembleTransforms(!0))):y.transform.push(...h.assembleTransforms())),h instanceof sl)return y.name||(y.name="data_"+s++),!y.source||y.transform.length>0?(l.push(y),h.data=y.name):h.data=y.source,void l.push(...h.assemble());switch((h instanceof Vc||h instanceof Yc||h instanceof Xi||h instanceof ui||h instanceof al||h instanceof ws||h instanceof qa||h instanceof Va||h instanceof ul||h instanceof ll||h instanceof Es||h instanceof Fr||h instanceof wu||h instanceof Ji||h instanceof Co||h instanceof Ro||h instanceof So||h instanceof fl||h instanceof dl||h instanceof _u)&&y.transform.push(h.assemble()),(h instanceof fi||h instanceof ji||h instanceof pr||h instanceof To||h instanceof Zi)&&y.transform.push(...h.assemble()),h instanceof aa&&(y.source&&y.transform.length===0?h.setSource(y.source):h.parent instanceof aa?h.setSource(y.name):(y.name||(y.name="data_"+s++),h.setSource(y.name),h.numChildren()===1&&(l.push(y),y={name:null,source:y.name,transform:[]}))),h.numChildren()){case 0:h instanceof aa&&(!y.source||y.transform.length>0)&&l.push(y);break;case 1:d(h.children[0],y);break;default:{y.name||(y.name="data_"+s++);let w=y.name;!y.source||y.transform.length>0?l.push(y):w=y.source;for(let S of h.children)d(S,{name:null,source:w,transform:[]});break}}}}function Fg(l){return l==="top"||l==="left"||Ke(l)?"header":"footer"}function lv(l,s){let{facet:d,config:h,child:y,component:w}=l;if(l.channelHasField(s)){let S=d[s],A=Yi("title",null,h,s),C=is(S,h,{allowDisabling:!0,includeDefault:A===void 0||!!A});y.component.layoutHeaders[s].title&&(C=b.isArray(C)?C.join(", "):C,C+=` / ${y.component.layoutHeaders[s].title}`,y.component.layoutHeaders[s].title=null);let L=Yi("labelOrient",S.header,h,s),G=S.header!==null&&Ve(S.header?.labels,h.header.labels,!0),H=Z(["bottom","right"],L)?"footer":"header";w.layoutHeaders[s]={title:S.header!==null?C:null,facetFieldDef:S,[H]:s==="facet"?[]:[Ep(l,s,G)]}}}function Ep(l,s,d){let h=s==="row"?"height":"width";return{labels:d,sizeSignal:l.child.component.layoutSize.get(h)?l.child.getSizeSignalRef(h):void 0,axes:[]}}function Tn(l,s){let{child:d}=l;if(d.component.axes[s]){let{layoutHeaders:h,resolve:y}=l.component;if(y.axis[s]=rp(y,s),y.axis[s]==="shared"){let w=s==="x"?"column":"row",S=h[w];for(let A of d.component.axes[s]){let C=Fg(A.get("orient"));S[C]??=[Ep(l,w,!1)];let L=Vi(A,"main",l.config,{header:!0});L&&S[C][0].axes.push(L),A.mainExtracted=!0}}}}function pl(l){for(let s of l.children)s.parseLayoutSize()}function _s(l,s){let d=og(s),h=Ju(d),y=l.component.resolve,w=l.component.layoutSize,S;for(let A of l.children){let C=A.component.layoutSize.getWithExplicit(d),L=y.scale[h]??lg(h,l);if(L==="independent"&&C.value==="step"){S=void 0;break}if(S){if(L==="independent"&&S.value!==C.value){S=void 0;break}S=Gi(S,C,d,"")}else S=C}if(S){for(let A of l.children)l.renameSignal(A.getName(d),l.getName(s)),A.component.layoutSize.set(d,"merged",!1);w.setWithExplicit(s,S)}else w.setWithExplicit(s,{explicit:!1,value:void 0})}function Pr(l,s){let d=s==="width"?"x":"y",h=l.config,y=l.getScaleComponent(d);if(y){let w=y.get("type"),S=y.get("range");if(Gn(w)){let A=xc(h.view,s);return po(S)||ja(A)?"step":A}return us(h.view,s)}if(l.hasProjection||l.mark==="arc")return us(h.view,s);{let w=xc(h.view,s);return ja(w)?w.step:w}}function ad(l,s,d){return Ge(s,{suffix:`by_${Ge(l)}`,...d??{}})}class hl extends nd{constructor(s,d,h,y){super(s,"facet",d,h,y,s.resolve),nt(this,"facet",void 0),nt(this,"child",void 0),nt(this,"children",void 0),this.child=Hg(s.spec,this,this.getName("child"),void 0,y),this.children=[this.child],this.facet=this.initFacet(s.facet)}initFacet(s){if(!Zl(s))return{facet:this.initFacetFieldDef(s,"facet")};let d=be(s),h={};for(let y of d){if(![Je,Yr].includes(y)){$e(Ii(y,"facet"));break}let w=s[y];if(w.field===void 0){$e(zd(w,y));break}h[y]=this.initFacetFieldDef(w,y)}return h}initFacetFieldDef(s,d){let h=nu(s,d);return h.header?h.header=Jn(h.header):h.header===null&&(h.header=null),h}channelHasField(s){return!!this.facet[s]}fieldDef(s){return this.facet[s]}parseData(){this.component.data=wp(this),this.child.parseData()}parseLayoutSize(){pl(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(s){for(let d of $a)lv(s,d);Tn(s,"x"),Tn(s,"y")}(this)}assembleSelectionTopLevelSignals(s){return this.child.assembleSelectionTopLevelSignals(s)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(s){return this.child.assembleSelectionData(s)}getHeaderLayoutMixins(){let s={};for(let d of $a)for(let h of Bc){let y=this.component.layoutHeaders[d],w=y[h],{facetFieldDef:S}=y;if(S){let A=Yi("titleOrient",S.header,this.config,d);if(["right","bottom"].includes(A)){let C=Pc(d,A);s.titleAnchor??={},s.titleAnchor[C]="end"}}if(w?.[0]){let A=d==="row"?"height":"width",C=h==="header"?"headerBand":"footerBand";d==="facet"||this.child.component.layoutSize.get(A)||(s[C]??={},s[C][d]=.5),y.title&&(s.offset??={},s.offset[d==="row"?"rowTitle":"columnTitle"]=10)}}return s}assembleDefaultLayout(){let{column:s,row:d}=this.facet,h=s?this.columnDistinctSignal():d?1:void 0,y="all";return(d||this.component.resolve.scale.x!=="independent")&&(s||this.component.resolve.scale.y!=="independent")||(y="none"),{...this.getHeaderLayoutMixins(),...h?{columns:h}:{},bounds:"full",align:y}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof hl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(s){return this.parent&&this.parent instanceof hl?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ge(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(s)}:super.assembleGroup(s)}getCardinalityAggregateForChild(){let s=[],d=[],h=[];if(this.child instanceof hl){if(this.child.channelHasField("column")){let y=Ge(this.child.facet.column);s.push(y),d.push("distinct"),h.push(`distinct_${y}`)}}else for(let y of Jr){let w=this.child.component.scales[y];if(w&&!w.merged){let S=w.get("type"),A=w.get("range");if(Gn(S)&&po(A)){let C=Ag(ys(this.child,y));C?(s.push(C),d.push("distinct"),h.push(`distinct_${C}`)):$e(pa(y))}}}return{fields:s,ops:d,as:h}}assembleFacet(){let{name:s,data:d}=this.component.data.facetRoot,{row:h,column:y}=this.facet,{fields:w,ops:S,as:A}=this.getCardinalityAggregateForChild(),C=[];for(let G of $a){let H=this.facet[G];if(H){C.push(Ge(H));let{bin:J,sort:re}=H;if(Wt(J)&&C.push(Ge(H,{binSuffix:"end"})),ri(re)){let{field:ee,op:se=uc}=re,de=ad(H,re);h&&y?(w.push(de),S.push("max"),A.push(de)):(w.push(ee),S.push(se),A.push(de))}else if(b.isArray(re)){let ee=rl(H,G);w.push(ee),S.push("max"),A.push(ee)}}}let L=!!h&&!!y;return{name:s,data:d,groupby:C,...L||w.length>0?{aggregate:{...L?{cross:L}:{},...w.length?{fields:w,ops:S,as:A}:{}}}:{}}}facetSortFields(s){let{facet:d}=this,h=d[s];return h?ri(h.sort)?[ad(h,h.sort,{expr:"datum"})]:b.isArray(h.sort)?[rl(h,s,{expr:"datum"})]:[Ge(h,{expr:"datum"})]:[]}facetSortOrder(s){let{facet:d}=this,h=d[s];if(h){let{sort:y}=h;return[(ri(y)?y.order:!b.isArray(y)&&y)||"ascending"]}return[]}assembleLabelTitle(){let{facet:s,config:d}=this;if(s.facet)return _o(s.facet,"facet",d);let h={row:["top","bottom"],column:["left","right"]};for(let y of Eu)if(s[y]){let w=Yi("labelOrient",s[y]?.header,d,y);if(h[y].includes(w))return _o(s[y],y,d)}}assembleMarks(){let{child:s}=this,d=function(S){let A=[],C=vp(A);for(let L of S.children)C(L,{source:S.name,name:null,transform:[]});return A}(this.component.data.facetRoot),h=s.assembleGroupEncodeEntry(!1),y=this.assembleLabelTitle()||s.assembleTitle(),w=s.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...y?{title:y}:{},...w?{style:w}:{},from:{facet:this.assembleFacet()},sort:{field:$a.map(S=>this.facetSortFields(S)).flat(),order:$a.map(S=>this.facetSortOrder(S)).flat()},...d.length>0?{data:d}:{},...h?{encode:{update:h}}:{},...s.assembleGroup(Cc(this,[]))}]}getMapping(){return this.facet}}function Pg(l,s){for(let d of s){let h=d.data;if(l.name&&d.hasName()&&l.name!==d.dataName)continue;let y=l.format?.mesh,w=h.format?.feature;if(y&&w)continue;let S=l.format?.feature;if((S||w)&&S!==w)continue;let A=h.format?.mesh;if(!y&&!A||y===A){if(pu(l)&&pu(h)){if(Ce(l.values,h.values))return d}else if(cs(l)&&cs(h)){if(l.url===h.url)return d}else if(Gf(l)&&l.name===d.dataName)return d}}return null}function wp(l){let s=function(ee,se){if(ee.data||!ee.parent){if(ee.data===null){let fe=new Ao({values:[]});return se.push(fe),fe}let de=Pg(ee.data,se);if(de)return bo(ee.data)||(de.data.format=he({},ee.data.format,de.data.format)),!de.hasName()&&ee.data.name&&(de.dataName=ee.data.name),de;{let fe=new Ao(ee.data);return se.push(fe),fe}}return ee.parent.component.data.facetRoot?ee.parent.component.data.facetRoot:ee.parent.component.data.main}(l,l.component.data.sources),{outputNodes:d,outputNodeRefCounts:h}=l.component.data,y=l.data,w=!(y&&(bo(y)||cs(y)||pu(y)))&&l.parent?l.parent.component.data.ancestorParse.clone():new Ey;bo(y)?(jf(y)?s=new Yc(s,y.sequence):qf(y)&&(s=new Vc(s,y.graticule)),w.parseNothing=!0):y?.format?.parse===null&&(w.parseNothing=!0),s=Vn.makeExplicit(s,l,w)??s,s=new So(s);let S=l.parent&&vs(l.parent);(ln(l)||Wa(l))&&S&&(s=fi.makeFromEncoding(s,l)??s),l.transforms.length>0&&(s=function(ee,se,de){let fe=0;for(let ge of se.transforms){let we,Ae;if(W_(ge))Ae=ee=new al(ee,ge),we="derived";else if(Tm(ge)){let Fe=t1(ge);Ae=ee=Vn.makeWithAncestors(ee,{},Fe,de)??ee,ee=new ui(ee,se,ge.filter)}else if(Ff(ge))Ae=ee=fi.makeFromTransform(ee,ge,se),we="number";else if(Pf(ge))we="date",de.getWithExplicit(ge.field).value===void 0&&(ee=new Vn(ee,{[ge.field]:we}),de.set(ge.field,we,!1)),Ae=ee=ji.makeFromTransform(ee,ge);else if(by(ge))Ae=ee=qa.makeFromTransform(ee,ge),we="number",ng(se)&&(ee=new So(ee));else if(Cm(ge))Ae=ee=Va.make(ee,se,ge,fe++),we="derived";else if(Nm(ge))Ae=ee=new ul(ee,ge),we="number";else if(Im(ge))Ae=ee=new ll(ee,ge),we="number";else if(V_(ge))Ae=ee=To.makeFromTransform(ee,ge),we="derived";else if(Dm(ge))Ae=ee=new Es(ee,ge),we="derived";else if(Mm(ge))Ae=ee=new _u(ee,ge),we="derived";else if(gy(ge))Ae=ee=new Fr(ee,ge),we="derived";else if(H_(ge))Ae=ee=new dl(ee,ge),we="derived";else if(my(ge))ee=new fl(ee,ge);else if(Om(ge))Ae=ee=pr.makeFromTransform(ee,ge),we="derived";else if(py(ge))Ae=ee=new wu(ee,ge),we="derived";else if(Rm(ge))Ae=ee=new Co(ee,ge),we="derived";else if(hy(ge))Ae=ee=new Ro(ee,ge),we="derived";else{if(!q_(ge)){$e(`Ignoring an invalid transform: ${Ye(ge)}.`);continue}Ae=ee=new Ji(ee,ge),we="derived"}if(Ae&&we!==void 0)for(let Fe of Ae.producedFields()??[])de.set(Fe,we,!1)}return ee}(s,l,w));let A=function(ee){let se={};if(ln(ee)&&ee.component.selection)for(let de of be(ee.component.selection)){let fe=ee.component.selection[de];for(let ge of fe.project.items)!ge.channel&&Kt(ge.field)>1&&(se[ge.field]="flatten")}return se}(l),C=Wn(l);s=Vn.makeWithAncestors(s,{},{...A,...C},w)??s,ln(l)&&(s=Zi.parseAll(s,l),s=ws.parseAll(s,l)),(ln(l)||Wa(l))&&(S||(s=fi.makeFromEncoding(s,l)??s),s=ji.makeFromEncoding(s,l)??s,s=al.parseAllForSortIndex(s,l));let L=l.getDataName(tn.Raw),G=new aa(s,L,tn.Raw,h);if(d[L]=G,s=G,ln(l)){let ee=qa.makeFromEncoding(s,l);ee&&(s=ee,ng(l)&&(s=new So(s))),s=pr.makeFromEncoding(s,l)??s,s=To.makeFromEncoding(s,l)??s}ln(l)&&(s=Xi.make(s,l)??s);let H=l.getDataName(tn.Main),J=new aa(s,H,tn.Main,h);d[H]=J,s=J,ln(l)&&function(ee,se){for(let[de,fe]of ke(ee.component.selection??{})){let ge=ee.getName(`lookup_${de}`);ee.component.data.outputNodes[ge]=fe.materialized=new aa(new ui(se,ee,{param:de}),ge,tn.Lookup,ee.component.data.outputNodeRefCounts)}}(l,J);let re=null;if(Wa(l)){let ee=l.getName("facet");s=function(se,de){let{row:fe,column:ge}=de;if(fe&&ge){let we=null;for(let Ae of[fe,ge])if(ri(Ae.sort)){let{field:Fe,op:He=uc}=Ae.sort;se=we=new ll(se,{joinaggregate:[{op:He,field:Fe,as:ad(Ae,Ae.sort,{forAs:!0})}],groupby:[Ge(Ae)]})}return we}return null}(s,l.facet)??s,re=new sl(s,l,ee,J.getSource()),d[ee]=re}return{...l.component.data,outputNodes:d,outputNodeRefCounts:h,raw:G,main:J,facetRoot:re,ancestorParse:w}}class o1 extends td{constructor(s,d,h,y){super(s,"concat",d,h,y,s.resolve),nt(this,"children",void 0),s.resolve?.axis?.x!=="shared"&&s.resolve?.axis?.y!=="shared"||$e("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(s).map((w,S)=>Hg(w,this,this.getName(`concat_${S}`),void 0,y))}parseData(){this.component.data=wp(this);for(let s of this.children)s.parseData()}parseSelections(){this.component.selection={};for(let s of this.children){s.parseSelections();for(let d of be(s.component.selection))this.component.selection[d]=s.component.selection[d]}}parseMarkGroup(){for(let s of this.children)s.parseMarkGroup()}parseAxesAndHeaders(){for(let s of this.children)s.parseAxesAndHeaders()}getChildren(s){return uu(s)?s.vconcat:Nf(s)?s.hconcat:s.concat}parseLayoutSize(){(function(s){pl(s);let d=s.layout.columns===1?"width":"childWidth",h=s.layout.columns===void 0?"height":"childHeight";_s(s,d),_s(s,h)})(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(s){return this.children.reduce((d,h)=>h.assembleSelectionTopLevelSignals(d),s)}assembleSignals(){return this.children.forEach(s=>s.assembleSignals()),[]}assembleLayoutSignals(){let s=fr(this);for(let d of this.children)s.push(...d.assembleLayoutSignals());return s}assembleSelectionData(s){return this.children.reduce((d,h)=>h.assembleSelectionData(d),s)}assembleMarks(){return this.children.map(s=>{let d=s.assembleTitle(),h=s.assembleGroupStyle(),y=s.assembleGroupEncodeEntry(!1);return{type:"group",name:s.getName("group"),...d?{title:d}:{},...h?{style:h}:{},...y?{encode:{update:y}}:{},...s.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let s=this.layout.columns;return{...s!=null?{columns:s}:{},bounds:"full",align:"each"}}}let _p={disable:1,gridScale:1,scale:1,...hc,labelExpr:1,encode:1},$g=be(_p);class kp extends Ui{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];super(),this.explicit=s,this.implicit=d,this.mainExtracted=h}clone(){return new kp(j(this.explicit),j(this.implicit),this.mainExtracted)}hasAxisPart(s){return s==="axis"||(s==="grid"||s==="title"?!!this.get(s):!((d=this.get(s))===!1||d===null));var d}hasOrientSignalRef(){return Ke(this.explicit.orient)}}let Pt={bottom:"top",top:"bottom",left:"right",right:"left"};function uv(l,s){if(!l)return s.map(d=>d.clone());{if(l.length!==s.length)return;let d=l.length;for(let h=0;h<d;h++){let y=l[h],w=s[h];if(!!y!=!!w)return;if(y&&w){let S=y.getWithExplicit("orient"),A=w.getWithExplicit("orient");if(S.explicit&&A.explicit&&S.value!==A.value)return;l[h]=ml(y,w)}}}return l}function ml(l,s){for(let d of $g){let h=Gi(l.getWithExplicit(d),s.getWithExplicit(d),d,"axis",(y,w)=>{switch(d){case"title":return ti(y,w);case"gridScale":return{explicit:y.explicit,value:Ve(y.value,w.value)}}return Tc(y,w,d,"axis")});l.setWithExplicit(d,h)}return l}function Bg(l,s,d,h,y){if(s==="disable")return d!==void 0;switch(d=d||{},s){case"titleAngle":case"labelAngle":return l===(Ke(d.labelAngle)?d.labelAngle:Dt(d.labelAngle));case"values":return!!d.values;case"encode":return!!d.encoding||!!d.labelAngle;case"title":if(l===Uy(h,y))return!0}return l===d[s]}let ku=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Ug(l,s){let d=s.axis(l),h=new kp,y=mn(s.encoding[l]),{mark:w,config:S}=s,A=d?.orient||S[l==="x"?"axisX":"axisY"]?.orient||S.axis?.orient||function(fe){return fe==="x"?"bottom":"left"}(l),C=s.getScaleComponent(l).get("type"),L=function(fe,ge,we,Ae){let Fe=ge==="band"?["axisDiscrete","axisBand"]:ge==="point"?["axisDiscrete","axisPoint"]:U0(ge)?["axisQuantitative"]:ge==="time"||ge==="utc"?["axisTemporal"]:[],He=fe==="x"?"axisX":"axisY",tt=Ke(we)?"axisOrient":`axis${gt(we)}`,ut=[...Fe,...Fe.map(Xe=>He+Xe.substr(4))],Qe=["axis",tt,He];return{vlOnlyAxisConfig:ci(ut,Ae,fe,we),vgAxisConfig:ci(Qe,Ae,fe,we),axisConfigStyle:e1([...Qe,...ut],Ae)}}(l,C,A,s.config),G=d!==void 0?!d:ag("disable",S.style,d?.style,L).configValue;if(h.set("disable",G,d!==void 0),G)return h;d=d||{};let H=function(fe,ge,we,Ae,Fe){let He=ge?.labelAngle;if(He!==void 0)return Ke(He)?He:Dt(He);{let{configValue:tt}=ag("labelAngle",Ae,ge?.style,Fe);return tt!==void 0?Dt(tt):we!==Jt||!Z([Qd,Jd],fe.type)||Ue(fe)&&fe.timeUnit?void 0:270}}(y,d,l,S.style,L),J=Z0(d.formatType,y,C),re=X0(y,y.type,d.format,d.formatType,S,!0),ee={fieldOrDatumDef:y,axis:d,channel:l,model:s,scaleType:C,orient:A,labelAngle:H,format:re,formatType:J,mark:w,config:S};for(let fe of $g){let ge=fe in Py?Py[fe](ee):ny(fe)?d[fe]:void 0,we=ge!==void 0,Ae=Bg(ge,fe,d,s,l);if(we&&Ae)h.set(fe,ge,Ae);else{let{configValue:Fe,configFrom:He}=ny(fe)&&fe!=="values"?ag(fe,S.style,d.style,L):{},tt=Fe!==void 0;we&&!tt?h.set(fe,ge,Ae):(He!=="vgAxisConfig"||ku.has(fe)&&tt||iu(Fe)||Ke(Fe))&&h.set(fe,Fe,!1)}}let se=d.encoding??{},de=ss.reduce((fe,ge)=>{if(!h.hasAxisPart(ge))return fe;let we=sg(se[ge]??{},s),Ae=ge==="labels"?function(Fe,He,tt){let{encoding:ut,config:Qe}=Fe,Xe=mn(ut[He])??mn(ut[Si(He)]),xt=Fe.axis(He)||{},{format:$t,formatType:Mn}=xt;if(Vs(Mn))return{text:ai({fieldOrDatumDef:Xe,field:"datum.value",format:$t,formatType:Mn,config:Qe}),...tt};if($t===void 0&&Mn===void 0&&Qe.customFormatTypes){if(Ql(Xe)==="quantitative"){if(eu(Xe)&&Xe.stack==="normalize"&&Qe.normalizedNumberFormatType)return{text:ai({fieldOrDatumDef:Xe,field:"datum.value",format:Qe.normalizedNumberFormat,formatType:Qe.normalizedNumberFormatType,config:Qe}),...tt};if(Qe.numberFormatType)return{text:ai({fieldOrDatumDef:Xe,field:"datum.value",format:Qe.numberFormat,formatType:Qe.numberFormatType,config:Qe}),...tt}}if(Ql(Xe)==="temporal"&&Qe.timeFormatType&&Ue(Xe)&&!Xe.timeUnit)return{text:ai({fieldOrDatumDef:Xe,field:"datum.value",format:Qe.timeFormat,formatType:Qe.timeFormatType,config:Qe}),...tt}}return tt}(s,l,we):we;return Ae===void 0||ye(Ae)||(fe[ge]={update:Ae}),fe},{});return ye(de)||h.set("encode",de,!!d.encoding||d.labelAngle!==void 0),h}function xp(l,s){let{config:d}=l;return{...Ca(l,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qn("x",l,{defaultPos:"mid"}),...qn("y",l,{defaultPos:"mid"}),...Hn("size",l),...Hn("angle",l),...cv(l,d,s)}}function cv(l,s,d){return d?{shape:{value:d}}:Hn("shape",l)}let dv={vgMark:"rule",encodeEntry:l=>{let{markDef:s}=l,d=s.orient;return l.encoding.x||l.encoding.y||l.encoding.latitude||l.encoding.longitude?{...Ca(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Zf("x",l,{defaultPos:d==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="vertical"}),...Zf("y",l,{defaultPos:d==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="horizontal"}),...Hn("size",l,{vgChannel:"strokeWidth"})}:{}}};function s1(l,s,d){if(jt("align",l,d)===void 0)return"center"}function fv(l,s,d){if(jt("baseline",l,d)===void 0)return"middle"}let Sp={vgMark:"rect",encodeEntry:l=>{let{config:s,markDef:d}=l,h=d.orient,y=h==="horizontal"?"width":"height",w=h==="horizontal"?"height":"width";return{...Ca(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...qn("x",l,{defaultPos:"mid",vgChannel:"xc"}),...qn("y",l,{defaultPos:"mid",vgChannel:"yc"}),...Hn("size",l,{defaultValue:pv(l),vgChannel:y}),[w]:rn(jt("thickness",d,s))}}};function pv(l){let{config:s,markDef:d}=l,{orient:h}=d,y=h==="horizontal"?"width":"height",w=l.getScaleComponent(h==="horizontal"?"x":"y"),S=jt("size",d,s,{vgChannel:y})??s.tick.bandSize;if(S!==void 0)return S;{let A=w?w.get("range"):void 0;return A&&po(A)&&b.isNumber(A.step)?3*A.step/4:3*cu(s.view,y)/4}}let rd={arc:{vgMark:"arc",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qn("x",l,{defaultPos:"mid"}),...qn("y",l,{defaultPos:"mid"}),...si(l,"radius"),...si(l,"theta")})},area:{vgMark:"area",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Zf("x",l,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:l.markDef.orient==="horizontal"}),...Zf("y",l,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:l.markDef.orient==="vertical"}),...Dc(l)})},bar:{vgMark:"rect",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...si(l,"x"),...si(l,"y")})},circle:{vgMark:"symbol",encodeEntry:l=>xp(l,"circle")},geoshape:{vgMark:"shape",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:l=>{let{encoding:s}=l,d=s.shape;return[{type:"geoshape",projection:l.projectionName(),...d&&Ue(d)&&d.type===Hs?{field:Ge(d,{expr:"datum"})}:{}}]}},image:{vgMark:"image",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...si(l,"x"),...si(l,"y"),...Kf(l,"url")})},line:{vgMark:"line",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qn("x",l,{defaultPos:"mid"}),...qn("y",l,{defaultPos:"mid"}),...Hn("size",l,{vgChannel:"strokeWidth"}),...Dc(l)})},point:{vgMark:"symbol",encodeEntry:l=>xp(l)},rect:{vgMark:"rect",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...si(l,"x"),...si(l,"y")})},rule:dv,square:{vgMark:"symbol",encodeEntry:l=>xp(l,"square")},text:{vgMark:"text",encodeEntry:l=>{let{config:s,encoding:d}=l;return{...Ca(l,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...qn("x",l,{defaultPos:"mid"}),...qn("y",l,{defaultPos:"mid"}),...Kf(l),...Hn("size",l,{vgChannel:"fontSize"}),...Hn("angle",l),...Ry("align",s1(l.markDef,d,s)),...Ry("baseline",fv(l.markDef,d,s)),...qn("radius",l,{defaultPos:null}),...qn("theta",l,{defaultPos:null})}}},tick:Sp,trail:{vgMark:"trail",encodeEntry:l=>({...Ca(l,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qn("x",l,{defaultPos:"mid"}),...qn("y",l,{defaultPos:"mid"}),...Hn("size",l),...Dc(l)})}};function zg(l){if(Z([sc,ef,R_],l.mark)){let s=nm(l.mark,l.encoding);if(s.length>0)return function(d,h){return[{name:d.getName("pathgroup"),type:"group",from:{facet:{name:Gg+d.requestDataName(tn.Main),data:d.requestDataName(tn.Main),groupby:h}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ap(d,{fromPrefix:Gg})}]}(l,s)}else if(l.mark===tf){let s=kh.some(d=>jt(d,l.markDef,l.config));if(l.stack&&!l.fieldDef("size")&&s)return function(d){let[h]=Ap(d,{fromPrefix:jg}),y=d.scaleName(d.stack.fieldChannel),w=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return d.vgField(d.stack.fieldChannel,G)},S=(G,H)=>`${G}(${[w({prefix:"min",suffix:"start",expr:H}),w({prefix:"max",suffix:"start",expr:H}),w({prefix:"min",suffix:"end",expr:H}),w({prefix:"max",suffix:"end",expr:H})].map(J=>`scale('${y}',${J})`).join(",")})`,A,C;d.stack.fieldChannel==="x"?(A={...V(h.encode.update,["y","yc","y2","height",...kh]),x:{signal:S("min","datum")},x2:{signal:S("max","datum")},clip:{value:!0}},C={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},h.encode.update={...Q(h.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(A={...V(h.encode.update,["x","xc","x2","width"]),y:{signal:S("min","datum")},y2:{signal:S("max","datum")},clip:{value:!0}},C={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},h.encode.update={...Q(h.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let G of kh){let H=Ua(G,d.markDef,d.config);h.encode.update[G]?(A[G]=h.encode.update[G],delete h.encode.update[G]):H&&(A[G]=rn(H)),H&&(h.encode.update[G]={value:0})}let L=[];if(d.stack.groupbyChannels?.length>0)for(let G of d.stack.groupbyChannels){let H=d.fieldDef(G),J=Ge(H);J&&L.push(J),(H?.bin||H?.timeUnit)&&L.push(Ge(H,{binSuffix:"end"}))}return A=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((G,H)=>{if(h.encode.update[H])return{...G,[H]:h.encode.update[H]};{let J=Ua(H,d.markDef,d.config);return J!==void 0?{...G,[H]:rn(J)}:G}},A),A.stroke&&(A.strokeForeground={value:!0},A.strokeOffset={value:0}),[{type:"group",from:{facet:{data:d.requestDataName(tn.Main),name:jg+d.requestDataName(tn.Main),groupby:L,aggregate:{fields:[w({suffix:"start"}),w({suffix:"start"}),w({suffix:"end"}),w({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:A},marks:[{type:"group",encode:{update:C},marks:[h]}]}]}(l)}return Ap(l)}let Gg="faceted_path_",jg="stack_group_";function Ap(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:d,markDef:h,encoding:y,config:w}=l,S=Ve(h.clip,function(re){let ee=re.getScaleComponent("x"),se=re.getScaleComponent("y");return!(!ee?.get("selectionExtent")&&!se?.get("selectionExtent"))||void 0}(l),function(re){let ee=re.component.projection;return!(!ee||ee.isFit)||void 0}(l)),A=_0(h),C=y.key,L=function(re){let{encoding:ee,stack:se,mark:de,markDef:fe,config:ge}=re,we=ee.order;if(!(!b.isArray(we)&&ur(we)&&pe(we.value)||!we&&pe(jt("order",fe,ge)))){if((b.isArray(we)||Ue(we))&&!se)return jl(we,{expr:"datum"});if(as(de)){let Ae=fe.orient==="horizontal"?"y":"x",Fe=ee[Ae];if(Ue(Fe)){let He=Fe.sort;return b.isArray(He)?{field:Ge(Fe,{prefix:Ae,suffix:"sort_index",expr:"datum"})}:ri(He)?{field:Ge({aggregate:tm(re.encoding)?He.op:void 0,field:He.field},{expr:"datum"})}:Yh(He)?{field:Ge(re.fieldDef(He.encoding),{expr:"datum"}),order:He.order}:He===null?void 0:{field:Ge(Fe,{binSuffix:re.stack?.impute?"mid":void 0,expr:"datum"})}}}}}(l),G=function(re){if(!re.component.selection)return null;let ee=be(re.component.selection).length,se=ee,de=re.parent;for(;de&&se===0;)se=be(de.component.selection).length,de=de.parent;return se?{interactive:ee>0||re.mark==="geoshape"||!!re.encoding.tooltip}:null}(l),H=jt("aria",h,w),J=rd[d].postEncodingTransform?rd[d].postEncodingTransform(l):null;return[{name:l.getName("marks"),type:rd[d].vgMark,...S?{clip:!0}:{},...A?{style:A}:{},...C?{key:C.field}:{},...L?{sort:L}:{},...G||{},...H===!1?{aria:H}:{},from:{data:s.fromPrefix+l.requestDataName(tn.Main)},encode:{update:rd[d].encodeEntry(l)},...J?{transform:J}:{}}]}class Tp extends nd{constructor(s,d,h){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=arguments.length>4?arguments[4]:void 0;super(s,"unit",d,h,w,void 0,_c(s)?s.view:void 0),nt(this,"markDef",void 0),nt(this,"encoding",void 0),nt(this,"specifiedScales",{}),nt(this,"stack",void 0),nt(this,"specifiedAxes",{}),nt(this,"specifiedLegends",{}),nt(this,"specifiedProjection",{}),nt(this,"selection",[]),nt(this,"children",[]);let S=Oi(s.mark)?{...s.mark}:{type:s.mark},A=S.type;S.filled===void 0&&(S.filled=function(L,G,H){let{graticule:J}=H;if(J)return!1;let re=Ua("filled",L,G),ee=L.type;return Ve(re,ee!==nf&&ee!==sc&&ee!==af)}(S,w,{graticule:s.data&&qf(s.data)}));let C=this.encoding=function(L,G,H,J){let re={};for(let se of be(L))c0(se)||$e(`${ee=se}-encoding is dropped as ${ee} is not a valid encoding channel.`);var ee;for(let se of Ku){if(!L[se])continue;let de=L[se];if(Zn(se)){let fe=s_(se),ge=re[fe];if(Ue(ge)&&$0(ge.type)&&Ue(de)&&!ge.timeUnit){$e(Sh(fe));continue}}if(se!=="angle"||G!=="arc"||L.theta||($e("Arc marks uses theta channel rather than angle, replacing angle with theta."),se=nr),vf(L,se,G)){if(se===wi&&G==="line"&&cr(L[se])?.aggregate){$e("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if(se===Me&&(H?"fill"in L:"stroke"in L))$e(A0("encoding",{fill:"fill"in L,stroke:"stroke"in L}));else if(se===uo||se===Fs&&!b.isArray(de)&&!ur(de)||se===Zr&&b.isArray(de)){if(de){if(se===Fs){let fe=L[se];if(J0(fe)){re[se]=fe;continue}}re[se]=b.array(de).reduce((fe,ge)=>(Ue(ge)?fe.push(nu(ge,se)):$e(zd(ge,se)),fe),[])}}else{if(se===Zr&&de===null)re[se]=null;else if(!(Ue(de)||Mi(de)||ur(de)||df(de)||Ke(de))){$e(zd(de,se));continue}re[se]=em(de,se,J)}}else $e(Ii(se,G))}return re}(s.encoding||{},A,S.filled,w);this.markDef=dy(S,C,w),this.size=function(L){let{encoding:G,size:H}=L;for(let J of Jr){let re=ka(J);ja(H[re])&&rs(G[J])&&(delete H[re],$e(Rh(re)))}return H}({encoding:C,size:_c(s)?{...y,...s.width?{width:s.width}:{},...s.height?{height:s.height}:{}}:y}),this.stack=vm(this.markDef,C),this.specifiedScales=this.initScales(A,C),this.specifiedAxes=this.initAxes(C),this.specifiedLegends=this.initLegends(C),this.specifiedProjection=s.projection,this.selection=(s.params??[]).filter(L=>Ec(L))}get hasProjection(){let{encoding:s}=this,d=this.mark===q0,h=s&&l0.some(y=>vt(s[y]));return d||h}scaleDomain(s){let d=this.specifiedScales[s];return d?d.domain:void 0}axis(s){return this.specifiedAxes[s]}legend(s){return this.specifiedLegends[s]}initScales(s,d){return Ul.reduce((h,y)=>{let w=mn(d[y]);return w&&(h[y]=this.initScale(w.scale??{})),h},{})}initScale(s){let{domain:d,range:h}=s,y=Jn(s);return b.isArray(d)&&(y.domain=d.map(Un)),b.isArray(h)&&(y.range=h.map(Un)),y}initAxes(s){return Jr.reduce((d,h)=>{let y=s[h];if(vt(y)||h===Jt&&vt(s.x2)||h===Pn&&vt(s.y2)){let w=vt(y)?y.axis:void 0;d[h]=w&&this.initAxis({...w})}return d},{})}initAxis(s){let d=be(s),h={};for(let y of d){let w=s[y];h[y]=iu(w)?E0(w):Un(w)}return h}initLegends(s){return g0.reduce((d,h)=>{let y=mn(s[h]);if(y&&function(w){switch(w){case Me:case _a:case Xr:case wi:case En:case _i:case lo:case Xo:return!0;case Mt:case ki:case Pa:return!1}}(h)){let w=y.legend;d[h]=w&&Jn(w)}return d},{})}parseData(){this.component.data=wp(this)}parseLayoutSize(){(function(s){let{size:d,component:h}=s;for(let y of Jr){let w=ka(y);if(d[w]){let S=d[w];h.layoutSize.set(w,ja(S)?"step":S,!0)}else{let S=Pr(s,w);h.layoutSize.set(w,S,!1)}}})(this)}parseSelections(){this.component.selection=function(s,d){let h={},y=s.config.selection;if(!d||!d.length)return h;for(let w of d){let S=Pe(w.name),A=w.select,C=b.isString(A)?A:A.type,L=b.isObject(A)?j(A):{type:C},G=y[C];for(let re in G)re!=="fields"&&re!=="encodings"&&(re==="mark"&&(L[re]={...G[re],...L[re]}),L[re]!==void 0&&L[re]!==!0||(L[re]=j(G[re]??L[re])));let H=h[S]={...L,name:S,type:C,init:w.value,bind:w.bind,events:b.isString(L.on)?b.parseSelector(L.on,"scope"):b.array(j(L.on))},J=j(w);for(let re of nl)re.defined(H)&&re.parse&&re.parse(s,H,J)}return h}(this,this.selection)}parseMarkGroup(){this.component.mark=zg(this)}parseAxesAndHeaders(){var s;this.component.axes=(s=this,Jr.reduce((d,h)=>(s.component.scales[h]&&(d[h]=[Ug(h,s)]),d),{}))}assembleSelectionTopLevelSignals(s){return function(d,h){let y=!1;for(let w of Se(d.component.selection??{})){let S=w.name,A=b.stringValue(S+ps);if(h.filter(C=>C.name===S).length===0){let C=w.resolve==="global"?"union":w.resolve,L=w.type==="point"?", true, true)":")";h.push({name:w.name,update:`${tg}(${A}, ${b.stringValue(C)}${L}`})}y=!0;for(let C of nl)C.defined(w)&&C.topLevelSignals&&(h=C.topLevelSignals(d,w,h))}return y&&h.filter(w=>w.name==="unit").length===0&&h.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Wf(h)}(this,s)}assembleSignals(){return[...vu(this),...wy(this,[])]}assembleSelectionData(s){return function(d,h){let y=[...h],w=Ha(d,{escape:!1});for(let S of Se(d.component.selection??{})){let A={name:S.name+ps};if(S.project.hasSelectionId&&(A.transform=[{type:"collect",sort:{field:dr}}]),S.init){let C=S.project.items.map(zm);A.values=S.project.hasSelectionId?S.init.map(L=>({unit:w,[dr]:ds(L,!1)[0]})):S.init.map(L=>({unit:w,fields:C,values:ds(L,!1)}))}y.filter(C=>C.name===S.name+ps).length||y.push(A)}return y}(this,s)}assembleLayout(){return null}assembleLayoutSignals(){return fr(this)}assembleMarks(){let s=this.component.mark??[];return this.parent&&vs(this.parent)||(s=_y(this,s)),s.map(this.correctDataNames)}assembleGroupStyle(){let{style:s}=this.view||{};return s!==void 0?s:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(s){return Pi(this.encoding,s)}fieldDef(s){return cr(this.encoding[s])}typedFieldDef(s){let d=this.fieldDef(s);return ha(d)?d:null}}class xu extends td{constructor(s,d,h,y,w){super(s,"layer",d,h,w,s.resolve,s.view),nt(this,"children",void 0);let S={...y,...s.width?{width:s.width}:{},...s.height?{height:s.height}:{}};this.children=s.layer.map((A,C)=>{if(du(A))return new xu(A,this,this.getName(`layer_${C}`),S,w);if(Fi(A))return new Tp(A,this,this.getName(`layer_${C}`),S,w);throw new Error(xh(A))})}parseData(){this.component.data=wp(this);for(let s of this.children)s.parseData()}parseLayoutSize(){var s;pl(s=this),_s(s,"width"),_s(s,"height")}parseSelections(){this.component.selection={};for(let s of this.children){s.parseSelections();for(let d of be(s.component.selection))this.component.selection[d]=s.component.selection[d]}}parseMarkGroup(){for(let s of this.children)s.parseMarkGroup()}parseAxesAndHeaders(){(function(s){let{axes:d,resolve:h}=s.component,y={top:0,bottom:0,right:0,left:0};for(let w of s.children){w.parseAxesAndHeaders();for(let S of be(w.component.axes))h.axis[S]=rp(s.component.resolve,S),h.axis[S]==="shared"&&(d[S]=uv(d[S],w.component.axes[S]),d[S]||(h.axis[S]="independent",delete d[S]))}for(let w of Jr){for(let S of s.children)if(S.component.axes[w]){if(h.axis[w]==="independent"){d[w]=(d[w]??[]).concat(S.component.axes[w]);for(let A of S.component.axes[w]){let{value:C,explicit:L}=A.getWithExplicit("orient");if(!Ke(C)){if(y[C]>0&&!L){let G=Pt[C];y[C]>y[G]&&A.set("orient",G,!1)}y[C]++}}}delete S.component.axes[w]}if(h.axis[w]==="independent"&&d[w]&&d[w].length>1)for(let[S,A]of(d[w]||[]).entries())S>0&&A.get("grid")&&!A.explicit.grid&&(A.implicit.grid=!1)}})(this)}assembleSelectionTopLevelSignals(s){return this.children.reduce((d,h)=>h.assembleSelectionTopLevelSignals(d),s)}assembleSignals(){return this.children.reduce((s,d)=>s.concat(d.assembleSignals()),vu(this))}assembleLayoutSignals(){return this.children.reduce((s,d)=>s.concat(d.assembleLayoutSignals()),fr(this))}assembleSelectionData(s){return this.children.reduce((d,h)=>h.assembleSelectionData(d),s)}assembleGroupStyle(){let s=new Set;for(let h of this.children)for(let y of b.array(h.assembleGroupStyle()))s.add(y);let d=Array.from(s);return d.length>1?d:d.length===1?d[0]:void 0}assembleTitle(){let s=super.assembleTitle();if(s)return s;for(let d of this.children)if(s=d.assembleTitle(),s)return s}assembleLayout(){return null}assembleMarks(){return function(s,d){for(let h of s.children)ln(h)&&(d=_y(h,d));return d}(this,this.children.flatMap(s=>s.assembleMarks()))}assembleLegends(){return this.children.reduce((s,d)=>s.concat(d.assembleLegends()),lp(this))}}function Hg(l,s,d,h,y){if(dc(l))return new hl(l,s,d,y);if(du(l))return new xu(l,s,d,h,y);if(Fi(l))return new Tp(l,s,d,h,y);if(function(w){return uu(w)||Nf(w)||wc(w)}(l))return new o1(l,s,d,y);throw new Error(xh(l))}let l1=x;p.accessPathDepth=Kt,p.accessPathWithDatum=kt,p.compile=function(l){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var d;s.logger&&(d=s.logger,ac=d),s.fieldTitle&&fc(s.fieldTitle);try{let h=gm(b.mergeConfig(s.config,l.config)),y=Uf(l,h),w=Hg(y,null,"",void 0,h);return w.parse(),function(A,C){mp(A.sources);let L=0,G=0;for(let H=0;H<hp&&Jy(A,C,!0);H++)L++;A.sources.map(kg);for(let H=0;H<hp&&Jy(A,C,!1);H++)G++;mp(A.sources),Math.max(L,G)===hp&&$e(`Maximum optimization runs(${hp}) reached.`)}(w.component.data,w),{spec:function(A,C){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=arguments.length>3?arguments[3]:void 0,H=A.config?Of(A.config):void 0,J=[].concat(A.assembleSelectionData([]),function(Ae,Fe){let He=[],tt=vp(He),ut=0;for(let Xe of Ae.sources){Xe.hasName()||(Xe.dataName="source_"+ut++);let xt=Xe.assemble();tt(Xe,xt)}for(let Xe of He)Xe.transform.length===0&&delete Xe.transform;let Qe=0;for(let[Xe,xt]of He.entries())(xt.transform??[]).length!==0||xt.source||He.splice(Qe++,0,He.splice(Xe,1)[0]);for(let Xe of He)for(let xt of Xe.transform??[])xt.type==="lookup"&&(xt.from=Ae.outputNodes[xt.from].getSource());for(let Xe of He)Xe.name in Fe&&(Xe.values=Fe[Xe.name]);return He}(A.component.data,L)),re=A.assembleProjections(),ee=A.assembleTitle(),se=A.assembleGroupStyle(),de=A.assembleGroupEncodeEntry(!0),fe=A.assembleLayoutSignals();fe=fe.filter(Ae=>Ae.name!=="width"&&Ae.name!=="height"||Ae.value===void 0||(C[Ae.name]=+Ae.value,!1));let{params:ge,...we}=C;return{$schema:"https://vega.github.io/schema/vega/v5.json",...A.description?{description:A.description}:{},...we,...ee?{title:ee}:{},...se?{style:se}:{},...de?{encode:{update:de}}:{},data:J,...re.length>0?{projections:re}:{},...A.assembleGroup([...fe,...A.assembleSelectionTopLevelSignals([]),...Rf(ge)]),...H?{config:H}:{},...G?{usermeta:G}:{}}}(w,function(A,C,L,G){let H=G.component.layoutSize.get("width"),J=G.component.layoutSize.get("height");if(C===void 0?(C={type:"pad"},G.hasAxisOrientSignalRef()&&(C.resize=!0)):b.isString(C)&&(C={type:C}),H&&J&&(re=C.type,re==="fit"||re==="fit-x"||re==="fit-y")){if(H==="step"&&J==="step")$e(An()),C.type="pad";else if(H==="step"||J==="step"){let ee=H==="step"?"width":"height";$e(An(Ju(ee)));let se=ee==="width"?"height":"width";C.type=function(de){return de?`fit-${Ju(de)}`:"fit"}(se)}}var re;return{...be(C).length===1&&C.type?C.type==="pad"?{}:{autosize:C.type}:{autosize:C},...zf(L,!1),...zf(A,!0)}}(l,y.autosize,h,w),l.datasets,l.usermeta),normalized:y}}finally{s.logger&&(ac=N0),s.fieldTitle&&fc(ty)}},p.contains=Z,p.deepEqual=Ce,p.deleteNestedProperty=lt,p.duplicate=j,p.entries=ke,p.every=ue,p.fieldIntersection=Ee,p.flatAccessWithDatum=an,p.getFirstDefined=Ve,p.hasIntersection=Le,p.hash=ae,p.internalField=yt,p.isBoolean=We,p.isEmpty=ye,p.isEqual=function(l,s){let d=be(l),h=be(s);if(d.length!==h.length)return!1;for(let y of d)if(l[y]!==s[y])return!1;return!0},p.isInternalField=Zt,p.isNullOrFalse=pe,p.isNumeric=At,p.keys=be,p.logicalExpr=De,p.mergeDeep=he,p.never=W,p.normalize=Uf,p.normalizeAngle=Dt,p.omit=Q,p.pick=V,p.prefixGenerator=ze,p.removePathFromField=St,p.replaceAll=_t,p.replacePathInField=Gt,p.resetIdCounter=function(){Ze=42},p.setEqual=Ne,p.some=te,p.stringify=Ye,p.titleCase=gt,p.unique=Re,p.uniqueId=Xt,p.vals=Se,p.varName=Pe,p.version=l1})});var LM=WS((KG,Zw)=>{var xz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},D=function(p){var b=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,x=0,T={},I={manual:p.Prism&&p.Prism.manual,disableWorkerMessageHandler:p.Prism&&p.Prism.disableWorkerMessageHandler,util:{encode:function Z(te){return te instanceof B?new B(te.type,Z(te.content),te.alias):Array.isArray(te)?te.map(Z):te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Z){return Object.prototype.toString.call(Z).slice(8,-1)},objId:function(Z){return Z.__id||Object.defineProperty(Z,"__id",{value:++x}),Z.__id},clone:function Z(te,ue){var he,me;switch(ue=ue||{},I.util.type(te)){case"Object":if(me=I.util.objId(te),ue[me])return ue[me];for(var Re in he={},ue[me]=he,te)te.hasOwnProperty(Re)&&(he[Re]=Z(te[Re],ue));return he;case"Array":return me=I.util.objId(te),ue[me]?ue[me]:(he=[],ue[me]=he,te.forEach(function(Ne,Le){he[Le]=Z(Ne,ue)}),he);default:return te}},getLanguage:function(Z){for(;Z;){var te=b.exec(Z.className);if(te)return te[1].toLowerCase();Z=Z.parentElement}return"none"},setLanguage:function(Z,te){Z.className=Z.className.replace(RegExp(b,"gi"),""),Z.classList.add("language-"+te)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(he){var Z=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(he.stack)||[])[1];if(Z){var te=document.getElementsByTagName("script");for(var ue in te)if(te[ue].src==Z)return te[ue]}return null}},isActive:function(Z,te,ue){for(var he="no-"+te;Z;){var me=Z.classList;if(me.contains(te))return!0;if(me.contains(he))return!1;Z=Z.parentElement}return!!ue}},languages:{plain:T,plaintext:T,text:T,txt:T,extend:function(Z,te){var ue=I.util.clone(I.languages[Z]);for(var he in te)ue[he]=te[he];return ue},insertBefore:function(Z,te,ue,he){var me=(he=he||I.languages)[Z],Re={};for(var Ne in me)if(me.hasOwnProperty(Ne)){if(Ne==te)for(var Le in ue)ue.hasOwnProperty(Le)&&(Re[Le]=ue[Le]);ue.hasOwnProperty(Ne)||(Re[Ne]=me[Ne])}var ze=he[Z];return he[Z]=Re,I.languages.DFS(I.languages,function(Ee,ye){ye===ze&&Ee!=Z&&(this[Ee]=Re)}),Re},DFS:function Z(te,ue,he,me){me=me||{};var Re=I.util.objId;for(var Ne in te)if(te.hasOwnProperty(Ne)){ue.call(te,Ne,te[Ne],he||Ne);var Le=te[Ne],ze=I.util.type(Le);ze!=="Object"||me[Re(Le)]?ze!=="Array"||me[Re(Le)]||(me[Re(Le)]=!0,Z(Le,ue,Ne,me)):(me[Re(Le)]=!0,Z(Le,ue,null,me))}}},plugins:{},highlightAll:function(Z,te){I.highlightAllUnder(document,Z,te)},highlightAllUnder:function(Z,te,ue){var he={callback:ue,container:Z,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};I.hooks.run("before-highlightall",he),he.elements=Array.prototype.slice.apply(he.container.querySelectorAll(he.selector)),I.hooks.run("before-all-elements-highlight",he);for(var me,Re=0;me=he.elements[Re++];)I.highlightElement(me,te===!0,he.callback)},highlightElement:function(Z,te,ue){var he=I.util.getLanguage(Z),me=I.languages[he];I.util.setLanguage(Z,he);var Re=Z.parentElement;Re&&Re.nodeName.toLowerCase()==="pre"&&I.util.setLanguage(Re,he);var Ne={element:Z,language:he,grammar:me,code:Z.textContent};function Le(Ee){Ne.highlightedCode=Ee,I.hooks.run("before-insert",Ne),Ne.element.innerHTML=Ne.highlightedCode,I.hooks.run("after-highlight",Ne),I.hooks.run("complete",Ne),ue&&ue.call(Ne.element)}if(I.hooks.run("before-sanity-check",Ne),(Re=Ne.element.parentElement)&&Re.nodeName.toLowerCase()==="pre"&&!Re.hasAttribute("tabindex")&&Re.setAttribute("tabindex","0"),!Ne.code)return I.hooks.run("complete",Ne),void(ue&&ue.call(Ne.element));if(I.hooks.run("before-highlight",Ne),Ne.grammar)if(te&&p.Worker){var ze=new Worker(I.filename);ze.onmessage=function(Ee){Le(Ee.data)},ze.postMessage(JSON.stringify({language:Ne.language,code:Ne.code,immediateClose:!0}))}else Le(I.highlight(Ne.code,Ne.grammar,Ne.language));else Le(I.util.encode(Ne.code))},highlight:function(Z,te,ue){var he={code:Z,grammar:te,language:ue};if(I.hooks.run("before-tokenize",he),!he.grammar)throw new Error('The language "'+he.language+'" has no grammar.');return he.tokens=I.tokenize(he.code,he.grammar),I.hooks.run("after-tokenize",he),B.stringify(I.util.encode(he.tokens),he.language)},tokenize:function(Z,te){var ue=te.rest;if(ue){for(var he in ue)te[he]=ue[he];delete te.rest}var me=new j;return W(me,me.head,Z),F(Z,me,te,me.head,0),function(Re){for(var Ne=[],Le=Re.head.next;Le!==Re.tail;)Ne.push(Le.value),Le=Le.next;return Ne}(me)},hooks:{all:{},add:function(Z,te){var ue=I.hooks.all;ue[Z]=ue[Z]||[],ue[Z].push(te)},run:function(Z,te){var ue=I.hooks.all[Z];if(ue&&ue.length)for(var he,me=0;he=ue[me++];)he(te)}},Token:B};function B(Z,te,ue,he){this.type=Z,this.content=te,this.alias=ue,this.length=0|(he||"").length}function P(Z,te,ue,he){Z.lastIndex=te;var me=Z.exec(ue);if(me&&he&&me[1]){var Re=me[1].length;me.index+=Re,me[0]=me[0].slice(Re)}return me}function F(Z,te,ue,he,me,Re){for(var Ne in ue)if(ue.hasOwnProperty(Ne)&&ue[Ne]){var Le=ue[Ne];Le=Array.isArray(Le)?Le:[Le];for(var ze=0;ze<Le.length;++ze){if(Re&&Re.cause==Ne+","+ze)return;var Ee=Le[ze],ye=Ee.inside,be=!!Ee.lookbehind,Se=!!Ee.greedy,ke=Ee.alias;if(Se&&!Ee.pattern.global){var We=Ee.pattern.toString().match(/[imsuy]*$/)[0];Ee.pattern=RegExp(Ee.pattern.source,We+"g")}for(var Pe=Ee.pattern||Ee,De=he.next,lt=me;De!==te.tail&&!(Re&&lt>=Re.reach);lt+=De.value.length,De=De.next){var gt=De.value;if(te.length>Z.length)return;if(!(gt instanceof B)){var kt,an=1;if(Se){if(!(kt=P(Pe,lt,Z,be))||kt.index>=Z.length)break;var cn=kt.index,Gt=kt.index+kt[0].length,_t=lt;for(_t+=De.value.length;cn>=_t;)_t+=(De=De.next).value.length;if(lt=_t-=De.value.length,De.value instanceof B)continue;for(var St=De;St!==te.tail&&(_t<Gt||typeof St.value=="string");St=St.next)an++,_t+=St.value.length;an--,gt=Z.slice(lt,_t),kt.index-=lt}else if(!(kt=P(Pe,0,gt,be)))continue;cn=kt.index;var Kt=kt[0],Ve=gt.slice(0,cn),Ze=gt.slice(cn+Kt.length),Xt=lt+gt.length;Re&&Xt>Re.reach&&(Re.reach=Xt);var yt=De.prev;if(Ve&&(yt=W(te,yt,Ve),lt+=Ve.length),V(te,yt,an),De=W(te,yt,new B(Ne,ye?I.tokenize(Kt,ye):Kt,ke,Kt)),Ze&&W(te,De,Ze),an>1){var Zt={cause:Ne+","+ze,reach:Xt};F(Z,te,ue,De.prev,lt,Zt),Re&&Zt.reach>Re.reach&&(Re.reach=Zt.reach)}}}}}}function j(){var Z={value:null,prev:null,next:null},te={value:null,prev:Z,next:null};Z.next=te,this.head=Z,this.tail=te,this.length=0}function W(Z,te,ue){var he=te.next,me={value:ue,prev:te,next:he};return te.next=me,he.prev=me,Z.length++,me}function V(Z,te,ue){for(var he=te.next,me=0;me<ue&&he!==Z.tail;me++)he=he.next;te.next=he,he.prev=te,Z.length-=me}if(p.Prism=I,B.stringify=function Z(te,ue){if(typeof te=="string")return te;if(Array.isArray(te)){var he="";return te.forEach(function(ze){he+=Z(ze,ue)}),he}var me={type:te.type,content:Z(te.content,ue),tag:"span",classes:["token",te.type],attributes:{},language:ue},Re=te.alias;Re&&(Array.isArray(Re)?Array.prototype.push.apply(me.classes,Re):me.classes.push(Re)),I.hooks.run("wrap",me);var Ne="";for(var Le in me.attributes)Ne+=" "+Le+'="'+(me.attributes[Le]||"").replace(/"/g,"&quot;")+'"';return"<"+me.tag+' class="'+me.classes.join(" ")+'"'+Ne+">"+me.content+"</"+me.tag+">"},!p.document)return p.addEventListener&&(I.disableWorkerMessageHandler||p.addEventListener("message",function(Z){var te=JSON.parse(Z.data),ue=te.language,he=te.code,me=te.immediateClose;p.postMessage(I.highlight(he,I.languages[ue],ue)),me&&p.close()},!1)),I;var Q=I.util.currentScript();function ae(){I.manual||I.highlightAll()}if(Q&&(I.filename=Q.src,Q.hasAttribute("data-manual")&&(I.manual=!0)),!I.manual){var pe=document.readyState;pe==="loading"||pe==="interactive"&&Q&&Q.defer?document.addEventListener("DOMContentLoaded",ae):window.requestAnimationFrame?window.requestAnimationFrame(ae):window.setTimeout(ae,16)}return I}(xz);typeof Zw<"u"&&Zw.exports&&(Zw.exports=D),typeof global<"u"&&(global.Prism=D);D.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},D.languages.markup.tag.inside["attr-value"].inside.entity=D.languages.markup.entity,D.languages.markup.doctype.inside["internal-subset"].inside=D.languages.markup,D.hooks.add("wrap",function(p){p.type==="entity"&&(p.attributes.title=p.content.replace(/&amp;/,"&"))}),Object.defineProperty(D.languages.markup.tag,"addInlined",{value:function(p,b){var x={};x["language-"+b]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:D.languages[b]},x.cdata=/^<!\[CDATA\[|\]\]>$/i;var T={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:x}};T["language-"+b]={pattern:/[\s\S]+/,inside:D.languages[b]};var I={};I[p]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return p}),"i"),lookbehind:!0,greedy:!0,inside:T},D.languages.insertBefore("markup","cdata",I)}}),Object.defineProperty(D.languages.markup.tag,"addAttribute",{value:function(p,b){D.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(`(^|["'\\s])(?:`+p+`)\\s*=\\s*(?:"[^"]*"|'[^']*'|[^\\s'">=]+(?=[\\s>]))`,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[b,"language-"+b],inside:D.languages[b]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),D.languages.html=D.languages.markup,D.languages.mathml=D.languages.markup,D.languages.svg=D.languages.markup,D.languages.xml=D.languages.extend("markup",{}),D.languages.ssml=D.languages.xml,D.languages.atom=D.languages.xml,D.languages.rss=D.languages.xml;(function(p){var b=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;p.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|`+b.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+b.source+`|(?:[^\\\\\r
()"']|\\\\[^])*)\\)`,"i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+b.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+b.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:b,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},p.languages.css.atrule.inside.rest=p.languages.css;var x=p.languages.markup;x&&(x.tag.addInlined("style","css"),x.tag.addAttribute("style","css"))})(D);D.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};D.languages.javascript=D.languages.extend("clike",{"class-name":[D.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),D.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,D.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(`((?:^|[^$\\w\\xA0-\\uFFFF."'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r
]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r
,.;:})\\]]|//))`),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:D.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:D.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:D.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:D.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:D.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),D.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:D.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),D.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),D.languages.markup&&(D.languages.markup.tag.addInlined("script","javascript"),D.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),D.languages.js=D.languages.javascript;D.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/};(function(p){var b="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";p.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+b+"|<"+b+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(D);D.languages.actionscript=D.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),D.languages.actionscript["class-name"].alias="function",delete D.languages.actionscript.parameter,delete D.languages.actionscript["literal-property"],D.languages.markup&&D.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:D.languages.markup}});D.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|or|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i};(function(p){p.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}⦃⦄.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:∀→λ\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(D);D.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/};D.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},D.languages.g4=D.languages.antlr4;D.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/};D.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(p){var b=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,x="\\b(?:(?=[a-z_]\\w*\\s*[<\\[])|(?!<keyword>))[A-Z_]\\w*(?:\\s*\\.\\s*[A-Z_]\\w*)*\\b(?:\\s*(?:\\[\\s*\\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*".replace(/<keyword>/g,function(){return b.source});function T(B){return RegExp(B.replace(/<CLASS-NAME>/g,function(){return x}),"i")}var I={keyword:b,punctuation:/[()\[\]{};,:.<>]/};p.languages.apex={comment:p.languages.clike.comment,string:p.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:p.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:T("(\\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\\s+\\w+\\s+on)\\s+)<CLASS-NAME>"),lookbehind:!0,inside:I},{pattern:T("(\\(\\s*)<CLASS-NAME>(?=\\s*\\)\\s*[\\w(])"),lookbehind:!0,inside:I},{pattern:T("<CLASS-NAME>(?=\\s*\\w+\\s*[;=,(){:])"),inside:I}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:b,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}})(D);D.languages.apl={comment:/(?:⍝|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/¯?(?:\d*\.?\b\d+(?:e[+¯]?\d+)?|¯|∞)(?:j¯?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+¯]?\d+)?|¯|∞))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/⎕[A-Z]+/i,alias:"function"},constant:/[⍬⌾#⎕⍞]/,function:/[-+×÷⌈⌊∣|⍳⍸?*⍟○!⌹<≤=>≥≠≡≢∊⍷∪∩~∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⊆⊇⌷⍋⍒⊤⊥⍕⍎⊣⊢⍁⍂≈⍯↗¤→]/,"monadic-operator":{pattern:/[\\\/⌿⍀¨⍨⌶&∥]/,alias:"operator"},"dyadic-operator":{pattern:/[.⍣⍠⍤∘⌸@⌺⍥]/,alias:"operator"},assignment:{pattern:/←/,alias:"keyword"},punctuation:/[\[;\]()◇⋄]/,dfn:{pattern:/[{}⍺⍵⍶⍹∇⍫:]/,alias:"builtin"}};D.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=≠≤≥*+\-\/÷^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,¬«»《》]/};D.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'´`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([´`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/};D.languages.c=D.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),D.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),D.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},D.languages.c.string],char:D.languages.c.char,comment:D.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:D.languages.c}}}}),D.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete D.languages.c.boolean;(function(p){var b=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,x="\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b".replace(/<keyword>/g,function(){return b.source});p.languages.cpp=p.languages.extend("c",{"class-name":[{pattern:RegExp("(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+".replace(/<keyword>/g,function(){return b.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:b,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),p.languages.insertBefore("cpp","string",{module:{pattern:RegExp(`(\\b(?:import|module)\\s+)(?:"(?:\\\\(?:\r
|[^])|[^"\\\\\r
])*"|<[^<>\r
]*>|`+"<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>".replace(/<mod-name>/g,function(){return x})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),p.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:p.languages.cpp}}}}),p.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),p.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:p.languages.extend("cpp",{})}}),p.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},p.languages.cpp["base-clause"])})(D);D.languages.arduino=D.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),D.languages.ino=D.languages.arduino;D.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/};D.languages.armasm={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"/,greedy:!0,inside:{variable:{pattern:/((?:^|[^$])(?:\${2})*)\$\w+/,lookbehind:!0}}},char:{pattern:/'(?:[^'\r\n]{0,4}|'')'/,greedy:!0},"version-symbol":{pattern:/\|[\w@]+\|/,greedy:!0,alias:"property"},boolean:/\b(?:FALSE|TRUE)\b/,directive:{pattern:/\b(?:ALIAS|ALIGN|AREA|ARM|ASSERT|ATTR|CN|CODE|CODE16|CODE32|COMMON|CP|DATA|DCB|DCD|DCDO|DCDU|DCFD|DCFDU|DCI|DCQ|DCQU|DCW|DCWU|DN|ELIF|ELSE|END|ENDFUNC|ENDIF|ENDP|ENTRY|EQU|EXPORT|EXPORTAS|EXTERN|FIELD|FILL|FN|FUNCTION|GBLA|GBLL|GBLS|GET|GLOBAL|IF|IMPORT|INCBIN|INCLUDE|INFO|KEEP|LCLA|LCLL|LCLS|LTORG|MACRO|MAP|MEND|MEXIT|NOFP|OPT|PRESERVE8|PROC|QN|READONLY|RELOC|REQUIRE|REQUIRE8|RLIST|ROUT|SETA|SETL|SETS|SN|SPACE|SUBT|THUMB|THUMBX|TTL|WEND|WHILE)\b/,alias:"property"},instruction:{pattern:/((?:^|(?:^|[^\\])(?:\r\n?|\n))[ \t]*(?:(?:[A-Z][A-Z0-9_]*[a-z]\w*|[a-z]\w*|\d+)[ \t]+)?)\b[A-Z.]+\b/,lookbehind:!0,alias:"keyword"},variable:/\$\w+/,number:/(?:\b[2-9]_\d+|(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e-?\d+)?|\b0(?:[fd]_|x)[0-9a-f]+|&[0-9a-f]+)\b/i,register:{pattern:/\b(?:r\d|lr)\b/,alias:"symbol"},operator:/<>|<<|>>|&&|\|\||[=!<>/]=?|[+\-*%#?&|^]|:[A-Z]+:/,punctuation:/[()[\],]/},D.languages["arm-asm"]=D.languages.armasm;(function(p){var b=function(x,T){return{pattern:RegExp("\\{!(?:"+(T||x)+")$[^]*\\}","m"),greedy:!0,inside:{embedded:{pattern:/(^\{!\w+\b)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-"+x,inside:p.languages[x]},string:/[\s\S]+/}}};p.languages.arturo={comment:{pattern:/;.*/,greedy:!0},character:{pattern:/`.`/,alias:"char",greedy:!0},number:{pattern:/\b\d+(?:\.\d+(?:\.\d+(?:-[\w+-]+)?)?)?\b/},string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},regex:{pattern:/\{\/.*?\/\}/,greedy:!0},"html-string":b("html"),"css-string":b("css"),"js-string":b("js"),"md-string":b("md"),"sql-string":b("sql"),"sh-string":b("shell","sh"),multistring:{pattern:/».*|\{:[\s\S]*?:\}|\{[\s\S]*?\}|^-{6}$[\s\S]*/m,alias:"string",greedy:!0},label:{pattern:/\w+\b\??:/,alias:"property"},literal:{pattern:/'(?:\w+\b\??:?)/,alias:"constant"},type:{pattern:/:(?:\w+\b\??:?)/,alias:"class-name"},color:/#\w+/,predicate:{pattern:/\b(?:all|and|any|ascii|attr|attribute|attributeLabel|binary|block|char|contains|database|date|dictionary|empty|equal|even|every|exists|false|floating|function|greater|greaterOrEqual|if|in|inline|integer|is|key|label|leap|less|lessOrEqual|literal|logical|lower|nand|negative|nor|not|notEqual|null|numeric|odd|or|path|pathLabel|positive|prefix|prime|regex|same|set|some|sorted|standalone|string|subset|suffix|superset|symbol|symbolLiteral|true|try|type|unless|upper|when|whitespace|word|xnor|xor|zero)\?/,alias:"keyword"},"builtin-function":{pattern:/\b(?:abs|acos|acosh|acsec|acsech|actan|actanh|add|after|alert|alias|and|angle|append|arg|args|arity|array|as|asec|asech|asin|asinh|atan|atan2|atanh|attr|attrs|average|before|benchmark|blend|break|call|capitalize|case|ceil|chop|clear|clip|close|color|combine|conj|continue|copy|cos|cosh|crc|csec|csech|ctan|ctanh|cursor|darken|dec|decode|define|delete|desaturate|deviation|dialog|dictionary|difference|digest|digits|div|do|download|drop|dup|e|else|empty|encode|ensure|env|escape|execute|exit|exp|extend|extract|factors|fdiv|filter|first|flatten|floor|fold|from|function|gamma|gcd|get|goto|hash|hypot|if|inc|indent|index|infinity|info|input|insert|inspect|intersection|invert|jaro|join|keys|kurtosis|last|let|levenshtein|lighten|list|ln|log|loop|lower|mail|map|match|max|median|min|mod|module|mul|nand|neg|new|nor|normalize|not|now|null|open|or|outdent|pad|palette|panic|path|pause|permissions|permutate|pi|pop|popup|pow|powerset|powmod|prefix|print|prints|process|product|query|random|range|read|relative|remove|rename|render|repeat|replace|request|return|reverse|round|sample|saturate|script|sec|sech|select|serve|set|shl|shr|shuffle|sin|sinh|size|skewness|slice|sort|spin|split|sqrt|squeeze|stack|strip|sub|suffix|sum|switch|symbols|symlink|sys|take|tan|tanh|terminal|terminate|to|truncate|try|type|unclip|union|unique|unless|until|unzip|upper|values|var|variance|volume|webview|while|with|wordwrap|write|xnor|xor|zip)\b/,alias:"keyword"},sugar:{pattern:/->|=>|\||::/,alias:"operator"},punctuation:/[()[\],]/,symbol:{pattern:/<:|-:|ø|@|#|\+|\||\*|\$|---|-|%|\/|\.\.|\^|~|=|<|>|\\/},boolean:{pattern:/\b(?:false|maybe|true)\b/}},p.languages.art=p.languages.arturo})(D);(function(p){var b={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},x=p.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})$[\s\S]*?^\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:b,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:b.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:b,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function T(I){for(var B={},P=0,F=(I=I.split(" ")).length;P<F;P++)B[I[P]]=x[I[P]];return B}b.inside.interpreted.inside.rest=T("macro inline replacement entity"),x["passthrough-block"].inside.rest=T("macro"),x["literal-block"].inside.rest=T("callout"),x.table.inside.rest=T("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),x["other-block"].inside.rest=T("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),x.title.inside.rest=T("macro inline replacement entity"),p.hooks.add("wrap",function(I){I.type==="entity"&&(I.attributes.title=I.content.replace(/&amp;/,"&"))}),p.languages.adoc=p.languages.asciidoc})(D);(function(p){function b(_t,St){return _t.replace(/<<(\d+)>>/g,function(Kt,Ve){return"(?:"+St[+Ve]+")"})}function x(_t,St,Kt){return RegExp(b(_t,St),Kt||"")}function T(_t,St){for(var Kt=0;Kt<St;Kt++)_t=_t.replace(/<<self>>/g,function(){return"(?:"+_t+")"});return _t.replace(/<<self>>/g,"[^\\s\\S]")}var I="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",B="class enum interface record struct",P="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",F="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function j(_t){return"\\b(?:"+_t.trim().replace(/ /g,"|")+")\\b"}var W=j(B),V=RegExp(j(I+" "+B+" "+P+" "+F)),Q=j(B+" "+P+" "+F),ae=j(I+" "+B+" "+F),pe=T("<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>",2),Z=T("\\((?:[^()]|<<self>>)*\\)",2),te="@?\\b[A-Za-z_]\\w*\\b",ue=b("<<0>>(?:\\s*<<1>>)?",[te,pe]),he=b("(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*",[Q,ue]),me="\\[\\s*(?:,\\s*)*\\]",Re=b("<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?",[he,me]),Ne=b("[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>",[pe,Z,me]),Le=b("\\(<<0>>+(?:,<<0>>+)+\\)",[Ne]),ze=b("(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?",[Le,he,me]),Ee={keyword:V,punctuation:/[<>()?,.:[\]]/},ye=`'(?:[^\r
'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'`,be=`"(?:\\\\.|[^\\\\"\r
])*"`;p.languages.csharp=p.languages.extend("clike",{string:[{pattern:x("(^|[^$\\\\])<<0>>",['@"(?:""|\\\\[^]|[^\\\\"])*"(?!")']),lookbehind:!0,greedy:!0},{pattern:x("(^|[^@$\\\\])<<0>>",[be]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:x("(\\busing\\s+static\\s+)<<0>>(?=\\s*;)",[he]),lookbehind:!0,inside:Ee},{pattern:x("(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)",[te,ze]),lookbehind:!0,inside:Ee},{pattern:x("(\\busing\\s+)<<0>>(?=\\s*=)",[te]),lookbehind:!0},{pattern:x("(\\b<<0>>\\s+)<<1>>",[W,ue]),lookbehind:!0,inside:Ee},{pattern:x("(\\bcatch\\s*\\(\\s*)<<0>>",[he]),lookbehind:!0,inside:Ee},{pattern:x("(\\bwhere\\s+)<<0>>",[te]),lookbehind:!0},{pattern:x("(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>",[Re]),lookbehind:!0,inside:Ee},{pattern:x("\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))",[ze,ae,te]),inside:Ee}],keyword:V,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),p.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),p.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:x("([(,]\\s*)<<0>>(?=\\s*:)",[te]),lookbehind:!0,alias:"punctuation"}}),p.languages.insertBefore("csharp","class-name",{namespace:{pattern:x("(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])",[te]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:x("(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))",[Z]),lookbehind:!0,alias:"class-name",inside:Ee},"return-type":{pattern:x("<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))",[ze,he]),inside:Ee,alias:"class-name"},"constructor-invocation":{pattern:x("(\\bnew\\s+)<<0>>(?=\\s*[[({])",[ze]),lookbehind:!0,inside:Ee,alias:"class-name"},"generic-method":{pattern:x("<<0>>\\s*<<1>>(?=\\s*\\()",[te,pe]),inside:{function:x("^<<0>>",[te]),generic:{pattern:RegExp(pe),alias:"class-name",inside:Ee}}},"type-list":{pattern:x("\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))",[W,ue,te,ze,V.source,Z,"\\bnew\\s*\\(\\s*\\)"]),lookbehind:!0,inside:{"record-arguments":{pattern:x("(^(?!new\\s*\\()<<0>>\\s*)<<1>>",[ue,Z]),lookbehind:!0,greedy:!0,inside:p.languages.csharp},keyword:V,"class-name":{pattern:RegExp(ze),greedy:!0,inside:Ee},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Se=be+"|"+ye,ke=b(`/(?![*/])|//[^\r
]*[\r
]|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>`,[Se]),We=T(b(`[^"'/()]|<<0>>|\\(<<self>>*\\)`,[ke]),2),Pe="\\b(?:assembly|event|field|method|module|param|property|return|type)\\b",De=b("<<0>>(?:\\s*\\(<<1>>*\\))?",[he,We]);p.languages.insertBefore("csharp","class-name",{attribute:{pattern:x("((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])",[Pe,De]),lookbehind:!0,greedy:!0,inside:{target:{pattern:x("^<<0>>(?=\\s*:)",[Pe]),alias:"keyword"},"attribute-arguments":{pattern:x("\\(<<0>>*\\)",[We]),inside:p.languages.csharp},"class-name":{pattern:RegExp(he),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var lt=`:[^}\r
]+`,gt=T(b(`[^"'/()]|<<0>>|\\(<<self>>*\\)`,[ke]),2),kt=b("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[gt,lt]),an=T(b(`[^"'/()]|/(?!\\*)|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>|\\(<<self>>*\\)`,[Se]),2),cn=b("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[an,lt]);function Gt(_t,St){return{interpolation:{pattern:x("((?:^|[^{])(?:\\{\\{)*)<<0>>",[_t]),lookbehind:!0,inside:{"format-string":{pattern:x("(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)",[St,lt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:p.languages.csharp}}},string:/[\s\S]+/}}p.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:x('(^|[^\\\\])(?:\\$@|@\\$)"(?:""|\\\\[^]|\\{\\{|<<0>>|[^\\\\{"])*"',[kt]),lookbehind:!0,greedy:!0,inside:Gt(kt,gt)},{pattern:x('(^|[^@\\\\])\\$"(?:\\\\.|\\{\\{|<<0>>|[^\\\\"{])*"',[cn]),lookbehind:!0,greedy:!0,inside:Gt(cn,an)}],char:{pattern:RegExp(ye),greedy:!0}}),p.languages.dotnet=p.languages.cs=p.languages.csharp})(D);D.languages.aspnet=D.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:D.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:D.languages.csharp}}}),D.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,D.languages.insertBefore("inside","punctuation",{directive:D.languages.aspnet.directive},D.languages.aspnet.tag.inside["attr-value"]),D.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),D.languages.insertBefore("aspnet",D.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:D.languages.csharp||{}}});D.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/};D.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&[&=]?|\|[\|=]?|[-+*/%^!=<>?]=?/,punctuation:/[(),:]/};D.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,command:{pattern:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,alias:"selector"},constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,directive:{pattern:/#[a-z]+\b/i,alias:"important"},keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/};D.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/};(function(p){function b(I,B,P){return RegExp(function(F,j){return F.replace(/<<(\d+)>>/g,function(W,V){return j[+V]})}(I,B),P||"")}var x="bool|clip|float|int|string|val",T=[["is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?","apply|assert|default|eval|import|nop|select|undefined","opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)","hex(?:value)?|value","abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt","a?sinh?|a?cosh?|a?tan[2h]?","(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))","average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)","getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams","chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)","isversionorgreater|version(?:number|string)","buildpixeltype|colorspacenametopixeltype","addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode"].join("|"),["has(?:audio|video)","height|width","frame(?:count|rate)|framerate(?:denominator|numerator)","getparity|is(?:field|frame)based","bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype","audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)"].join("|"),["avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource","coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv","(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract","addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)","blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen","trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)","assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?","amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch","animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?","imagewriter","blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version"].join("|")].join("|");p.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:b('\\b(?:<<0>>)\\s+("?)\\w+\\1',[x],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:b("\\b(?:<<0>>)\\b",[T],"i"),alias:"function"},"type-cast":{pattern:b("\\b(?:<<0>>)(?=\\s*\\()",[x],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},p.languages.avs=p.languages.avisynth})(D);D.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},D.languages.avdl=D.languages["avro-idl"];D.languages.awk={hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\\"\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},regex:{pattern:/((?:^|[^\w\s)])\s*)\/(?:[^\/\\\r\n]|\\.)*\//,lookbehind:!0,greedy:!0},variable:/\$\w+/,keyword:/\b(?:BEGIN|BEGINFILE|END|ENDFILE|break|case|continue|default|delete|do|else|exit|for|function|getline|if|in|next|nextfile|printf?|return|switch|while)\b|@(?:include|load)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[a-fA-F0-9]+)\b/,operator:/--|\+\+|!?~|>&|>>|<<|(?:\*\*|[<>!=+\-*/%^])=?|&&|\|[|&]|[?:]/,punctuation:/[()[\]{},;]/},D.languages.gawk=D.languages.awk;(function(p){var b="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",x={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},T={bash:x,environment:{pattern:RegExp("\\$"+b),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+b),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};p.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+b),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:T},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:x}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:T},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:T.entity}}],environment:{pattern:RegExp("\\$?"+b),alias:"constant"},variable:T.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},x.inside=p.languages.bash;for(var I=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],B=T.variable[1].inside,P=0;P<I.length;P++)B[I[P]]=p.languages.bash[I[P]];p.languages.sh=p.languages.bash,p.languages.shell=p.languages.bash})(D);D.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/};(function(p){var b=/%%?[~:\w]+%?|!\S+!/,x={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},T=/"(?:[\\"]"|[^"])*"(?!")/,I=/(?:\b|-)\d+\b/;p.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:T,parameter:x,variable:b,number:I,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:T,parameter:x,variable:b,number:I,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:T,parameter:x,variable:[b,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:I,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:T,parameter:x,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:b,number:I,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(D);D.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},D.languages.shortcode=D.languages.bbcode;(function(p){p.languages.bbj={comment:{pattern:/(^|[^\\:])rem\s+.*/i,lookbehind:!0,greedy:!0},string:{pattern:/(['"])(?:(?!\1|\\).|\\.)*\1/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:abstract|all|argc|begin|bye|callback|case|chn|class|classend|ctl|day|declare|delete|dim|dom|dread|dsz|else|end|endif|err|exitto|extends|fi|field|for|from|gosub|goto|if|implements|interface|interfaceend|iol|iolist|let|list|load|method|methodend|methodret|on|opts|pfx|print|private|process_events|protected|psz|public|read|read_resource|release|remove_callback|repeat|restore|return|rev|seterr|setesc|sqlchn|sqlunt|ssn|start|static|swend|switch|sys|then|tim|unt|until|use|void|wend|where|while)\b/i,function:/\b\w+(?=\()/,boolean:/\b(?:BBjAPI\.TRUE|BBjAPI\.FALSE)\b/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:and|not|or|xor)\b/i,punctuation:/[.,;:()]/}})(D);D.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},D.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=D.languages.bicep;D.languages.birb=D.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),D.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}});D.languages.bison=D.languages.extend("c",{}),D.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:D.languages.c}},comment:D.languages.c.comment,string:D.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}});D.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},D.languages.rbnf=D.languages.bnf;D.languages.bqn={shebang:{pattern:/^#![ \t]*\/.*/,alias:"important",greedy:!0},comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/"(?:[^"]|"")*"/,greedy:!0,alias:"string"},"character-literal":{pattern:/'(?:[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])'/,greedy:!0,alias:"char"},function:/•[\w¯.∞π]+[\w¯.∞π]*/,"dot-notation-on-brackets":{pattern:/\{(?=.*\}\.)|\}\./,alias:"namespace"},"special-name":{pattern:/(?:𝕨|𝕩|𝕗|𝕘|𝕤|𝕣|𝕎|𝕏|𝔽|𝔾|𝕊|_𝕣_|_𝕣)/,alias:"keyword"},"dot-notation-on-name":{pattern:/[A-Za-z_][\w¯∞π]*\./,alias:"namespace"},"word-number-scientific":{pattern:/\d+(?:\.\d+)?[eE]¯?\d+/,alias:"number"},"word-name":{pattern:/[A-Za-z_][\w¯∞π]*/,alias:"symbol"},"word-number":{pattern:/[¯∞π]?(?:\d*\.?\b\d+(?:e[+¯]?\d+|E[+¯]?\d+)?|¯|∞|π)(?:j¯?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+¯]?\d+|E[+¯]?\d+)?|¯|∞|π))?/,alias:"number"},"null-literal":{pattern:/@/,alias:"char"},"primitive-functions":{pattern:/[-+×÷⋆√⌊⌈|¬∧∨<>≠=≤≥≡≢⊣⊢⥊∾≍⋈↑↓↕«»⌽⍉/⍋⍒⊏⊑⊐⊒∊⍷⊔!]/,alias:"operator"},"primitive-1-operators":{pattern:/[`˜˘¨⁼⌜´˝˙]/,alias:"operator"},"primitive-2-operators":{pattern:/[∘⊸⟜○⌾⎉⚇⍟⊘◶⎊]/,alias:"operator"},punctuation:/[←⇐↩(){}⟨⟩[\]‿·⋄,.;:?]/};D.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/};D.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},D.languages.brightscript["directive-statement"].inside.expression.inside=D.languages.brightscript;D.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/};D.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:пока|для|новый|прервать|попытка|исключение|вызватьисключение|иначе|конецпопытки|неопределено|функция|перем|возврат|конецфункции|если|иначеесли|процедура|конецпроцедуры|тогда|знач|экспорт|конецесли|из|каждого|истина|ложь|по|цикл|конеццикла|выполнить)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:и|или|не)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},D.languages.oscript=D.languages.bsl;D.languages.cfscript=D.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|:/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),D.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete D.languages.cfscript["class-name"],D.languages.cfc=D.languages.cfscript;D.languages.chaiscript=D.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[D.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),D.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),D.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:D.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}});D.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/};D.languages.cilkc=D.languages.insertBefore("c","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),D.languages["cilk-c"]=D.languages.cilkc;D.languages.cilkcpp=D.languages.insertBefore("cpp","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),D.languages["cilk-cpp"]=D.languages.cilkcpp,D.languages.cilk=D.languages.cilkcpp;D.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/};D.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/};D.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/};(function(p){var b=/#(?!\{).+/,x={pattern:/#\{[^}]+\}/,alias:"variable"};p.languages.coffeescript=p.languages.extend("javascript",{comment:b,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:x}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),p.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:b,interpolation:x}}}),p.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:p.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:x}}]}),p.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete p.languages.coffeescript["template-string"],p.languages.coffee=p.languages.coffeescript})(D);D.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},D.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:D.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:D.languages.concurnas},string:/[\s\S]+/}}}),D.languages.conc=D.languages.concurnas;(function(p){function b(x){return RegExp("([ 	])(?:"+x+")(?=[\\s;]|$)","i")}p.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:b("[a-z][a-z0-9.+-]*:"),lookbehind:!0},none:{pattern:b("'none'"),lookbehind:!0,alias:"keyword"},nonce:{pattern:b("'nonce-[-+/\\w=]+'"),lookbehind:!0,alias:"number"},hash:{pattern:b("'sha(?:256|384|512)-[-+/\\w=]+'"),lookbehind:!0,alias:"number"},host:{pattern:b("[a-z][a-z0-9.+-]*://[^\\s;,']*|\\*[^\\s;,']*|[a-z0-9-]+(?:\\.[a-z0-9-]+)+(?::[\\d*]+)?(?:/[^\\s;,']*)?"),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:b("'unsafe-[a-z-]+'"),lookbehind:!0,alias:"unsafe"},{pattern:b("'[a-z-]+'"),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(D);(function(p){var b="(?:(?!\\s)[\\d$+<=a-zA-Z\\x80-\\uFFFF])+",x="[^{}@#]+\\{[^}#@]*\\}";p.languages.cooklang={comment:{pattern:/\[-[\s\S]*?-\]|--.*/,greedy:!0},meta:{pattern:/>>.*:.*/,inside:{property:{pattern:/(>>\s*)[^\s:](?:[^:]*[^\s:])?/,lookbehind:!0}}},"cookware-group":{pattern:new RegExp("#(?:"+x+"|"+b+")"),inside:{cookware:{pattern:new RegExp("(^#)(?:[^{}@#]+)"),lookbehind:!0,alias:"variable"},"cookware-keyword":{pattern:/^#/,alias:"keyword"},"quantity-group":{pattern:new RegExp(/\{[^{}@#]*\}/),inside:{quantity:{pattern:new RegExp("(^\\{)[^{}@#]+"),lookbehind:!0,alias:"number"},punctuation:/[{}]/}}}},"ingredient-group":{pattern:new RegExp("@(?:"+x+"|"+b+")"),inside:{ingredient:{pattern:new RegExp("(^@)(?:[^{}@#]+)"),lookbehind:!0,alias:"variable"},"ingredient-keyword":{pattern:/^@/,alias:"keyword"},"amount-group":{pattern:/\{[^{}]*\}/,inside:{amount:{pattern:/([\{|])[^{}|*%]+/,lookbehind:!0,alias:"number"},unit:{pattern:/(%)[^}]+/,lookbehind:!0,alias:"symbol"},"servings-scaler":{pattern:/\*/,alias:"operator"},"servings-alternative-separator":{pattern:/\|/,alias:"operator"},"unit-separator":{pattern:/(?:%|(\*)%)/,lookbehind:!0,alias:"operator"},punctuation:/[{}]/}}}},"timer-group":{pattern:/~(?!\s)[^@#~{}]*\{[^{}]*\}/,inside:{timer:{pattern:/(^~)[^{]+/,lookbehind:!0,alias:"variable"},"duration-group":{pattern:/\{[^{}]*\}/,inside:{punctuation:/[{}]/,unit:{pattern:new RegExp("(%\\s*)(?:h|hours|hrs|m|min|minutes)\\b"),lookbehind:!0,alias:"symbol"},operator:/%/,duration:{pattern:/\d+/,alias:"number"}}},"timer-keyword":{pattern:/^~/,alias:"keyword"}}}}})(D);(function(p){for(var b="\\(\\*(?:[^(*]|\\((?!\\*)|\\*(?!\\))|<self>)*\\*\\)",x=0;x<2;x++)b=b.replace(/<self>/g,function(){return b});b=b.replace(/<self>/g,"[]"),p.languages.coq={comment:RegExp(b),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp('#\\[(?:[^\\[\\]("]|"(?:[^"]|"")*"(?!")|\\((?!\\*)|<comment>)*\\]'.replace(/<comment>/g,function(){return b})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(b),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(D);(function(p){p.languages.ruby=p.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),p.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var b={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:p.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete p.languages.ruby.function;var x="(?:"+["([^a-zA-Z0-9\\s{(\\[<=])(?:(?!\\1)[^\\\\]|\\\\[^])*\\1","\\((?:[^()\\\\]|\\\\[^]|\\((?:[^()\\\\]|\\\\[^])*\\))*\\)","\\{(?:[^{}\\\\]|\\\\[^]|\\{(?:[^{}\\\\]|\\\\[^])*\\})*\\}","\\[(?:[^\\[\\]\\\\]|\\\\[^]|\\[(?:[^\\[\\]\\\\]|\\\\[^])*\\])*\\]","<(?:[^<>\\\\]|\\\\[^]|<(?:[^<>\\\\]|\\\\[^])*>)*>"].join("|")+")",T=`(?:"(?:\\\\.|[^"\\\\\r
])*"|(?:\\b[a-zA-Z_]\\w*|[^\\s\0-\\x7F]+)[?!]?|\\$.)`;p.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp("%r"+x+"[egimnosux]{0,6}"),greedy:!0,inside:{interpolation:b,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:b,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp("(^|[^:]):"+T),lookbehind:!0,greedy:!0},{pattern:RegExp(`([\r
{(,][ 	]*)`+T+"(?=:(?!:))"),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),p.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp("%[qQiIwWs]?"+x),greedy:!0,inside:{interpolation:b,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:b,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:b,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp("%x"+x),greedy:!0,inside:{interpolation:b,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:b,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete p.languages.ruby.string,p.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),p.languages.rb=p.languages.ruby})(D);(function(p){p.languages.crystal=p.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,p.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),p.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:p.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:p.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})})(D);(function(p){var b,x=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;p.languages.css.selector={pattern:p.languages.css.selector.pattern,lookbehind:!0,inside:b={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+x.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[x,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},p.languages.css.atrule.inside["selector-function-argument"].inside=b,p.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var T={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},I={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};p.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:T,number:I,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:T,number:I})})(D);D.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/};(function(p){var b="(?:"+`"""(?:[^\\\\"]|"(?!""\\2)|<esc>)*"""|'''(?:[^\\\\']|'(?!''\\2)|<esc>)*'''|"(?:[^\\\\\r
"]|"(?!\\2)|<esc>)*"|'(?:[^\\\\\r
']|'(?!\\2)|<esc>)*'`.replace(/<esc>/g,`\\\\(?:(?!\\2)|\\2(?:[^()\r
]|\\([^()]*\\)))`)+")";p.languages.cue={comment:{pattern:/\/\/.*/,greedy:!0},"string-literal":{pattern:RegExp(`(^|[^#"'\\\\])(#*)`+b+`(?!["'])\\2`),lookbehind:!0,greedy:!0,inside:{escape:{pattern:/(?=[\s\S]*["'](#*)$)\\\1(?:U[a-fA-F0-9]{1,8}|u[a-fA-F0-9]{1,4}|x[a-fA-F0-9]{1,2}|\d{2,3}|[^(])/,greedy:!0,alias:"string"},interpolation:{pattern:/(?=[\s\S]*["'](#*)$)\\\1\([^()]*\)/,greedy:!0,inside:{punctuation:/^\\#*\(|\)$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:{pattern:/(^|[^\w$])(?:for|if|import|in|let|null|package)(?![\w$])/,lookbehind:!0},boolean:{pattern:/(^|[^\w$])(?:false|true)(?![\w$])/,lookbehind:!0},builtin:{pattern:/(^|[^\w$])(?:bool|bytes|float|float(?:32|64)|u?int(?:8|16|32|64|128)?|number|rune|string)(?![\w$])/,lookbehind:!0},attribute:{pattern:/@[\w$]+(?=\s*\()/,alias:"function"},function:{pattern:/(^|[^\w$])[a-z_$][\w$]*(?=\s*\()/i,lookbehind:!0},number:{pattern:/(^|[^\w$.])(?:0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[eE][+-]?\d+(?:_\d+)*)?(?:[KMGTP]i?)?)(?![\w$])/,lookbehind:!0},operator:/\.{3}|_\|_|&&?|\|\|?|[=!]~|[<>=!]=?|[+\-*/?]/,punctuation:/[()[\]{},.:]/},p.languages.cue["string-literal"].inside.interpolation.inside.expression.inside=p.languages.cue})(D);D.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/};D.languages.d=D.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp("(^|[^\\\\])(?:"+["/\\+(?:/\\+(?:[^+]|\\+(?!/))*\\+/|(?!/\\+)[^])*?\\+/","//.*","/\\*[^]*?\\*/"].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(['\\b[rx]"(?:\\\\[^]|[^\\\\"])*"[cwd]?','\\bq"(?:\\[[^]*?\\]|\\([^]*?\\)|<[^]*?>|\\{[^]*?\\})"','\\bq"((?!\\d)\\w+)$[^]*?^\\1"','\\bq"(.)[^]*?\\2"','(["`])(?:\\\\[^]|(?!\\3)[^\\\\])*\\3[cwd]?'].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),D.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),D.languages.insertBefore("d","keyword",{property:/\B@\w*/}),D.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}});(function(p){var b=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],x="(^|[^\\w.])(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",T={pattern:RegExp(x+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};p.languages.dart=p.languages.extend("clike",{"class-name":[T,{pattern:RegExp(x+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()])"),lookbehind:!0,inside:T.inside}],keyword:b,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),p.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:p.languages.dart}}},string:/[\s\S]+/}},string:void 0}),p.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),p.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":T,keyword:b,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(D);(function(p){p.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(D);D.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/};D.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},D.languages.dhall.string.inside.interpolation.inside.expression.inside=D.languages.dhall;(function(p){p.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var b={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(b).forEach(function(x){var T=b[x],I=[];/^\w+$/.test(x)||I.push(/\w+/.exec(x)[0]),x==="diff"&&I.push("bold"),p.languages.diff[x]={pattern:RegExp("^(?:["+T+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:I,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(x)[0]}}}}),Object.defineProperty(p.languages.diff,"PREFIXES",{value:b})})(D);(function(p){function b(x,T){return"___"+x.toUpperCase()+T+"___"}Object.defineProperties(p.languages["markup-templating"]={},{buildPlaceholders:{value:function(x,T,I,B){if(x.language===T){var P=x.tokenStack=[];x.code=x.code.replace(I,function(F){if(typeof B=="function"&&!B(F))return F;for(var j,W=P.length;x.code.indexOf(j=b(T,W))!==-1;)++W;return P[W]=F,j}),x.grammar=p.languages.markup}}},tokenizePlaceholders:{value:function(x,T){if(x.language===T&&x.tokenStack){x.grammar=p.languages[T];var I=0,B=Object.keys(x.tokenStack);(function P(F){for(var j=0;j<F.length&&!(I>=B.length);j++){var W=F[j];if(typeof W=="string"||W.content&&typeof W.content=="string"){var V=B[I],Q=x.tokenStack[V],ae=typeof W=="string"?W:W.content,pe=b(T,V),Z=ae.indexOf(pe);if(Z>-1){++I;var te=ae.substring(0,Z),ue=new p.Token(T,p.tokenize(Q,x.grammar),"language-"+T,Q),he=ae.substring(Z+pe.length),me=[];te&&me.push.apply(me,P([te])),me.push(ue),he&&me.push.apply(me,P([he])),typeof W=="string"?F.splice.apply(F,[j,1].concat(me)):W.content=me}}else W.content&&P(W.content)}return F})(x.tokens)}}}})})(D);(function(p){p.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var b=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,x=p.languages["markup-templating"];p.hooks.add("before-tokenize",function(T){x.buildPlaceholders(T,"django",b)}),p.hooks.add("after-tokenize",function(T){x.tokenizePlaceholders(T,"django")}),p.languages.jinja2=p.languages.django,p.hooks.add("before-tokenize",function(T){x.buildPlaceholders(T,"jinja2",b)}),p.hooks.add("after-tokenize",function(T){x.tokenizePlaceholders(T,"jinja2")})})(D);D.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},D.languages["dns-zone"]=D.languages["dns-zone-file"];(function(p){var b="(?:[ 	]+(?![ 	])(?:<SP_BS>)?|<SP_BS>)".replace(/<SP_BS>/g,function(){return`\\\\[\r
](?:\\s|\\\\[\r
]|#.*(?!.))*(?![\\s#]|\\\\[\r
])`}),x=`"(?:[^"\\\\\r
]|\\\\(?:\r
|[^]))*"|'(?:[^'\\\\\r
]|\\\\(?:\r
|[^]))*'`,T=`--[\\w-]+=(?:<STR>|(?!["'])(?:[^\\s\\\\]|\\\\.)+)`.replace(/<STR>/g,function(){return x}),I={pattern:RegExp(x),greedy:!0},B={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function P(F,j){return F=F.replace(/<OPT>/g,function(){return T}).replace(/<SP>/g,function(){return b}),RegExp(F,j)}p.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:P("(^(?:ONBUILD<SP>)?\\w+<SP>)<OPT>(?:<SP><OPT>)*","i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[I,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:P("(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\\b","i"),lookbehind:!0,greedy:!0},{pattern:P("(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ 	\\\\]+<SP>)AS","i"),lookbehind:!0,greedy:!0},{pattern:P("(^ONBUILD<SP>)\\w+","i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:B,string:I,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:B},p.languages.dockerfile=p.languages.docker})(D);(function(p){var b="(?:"+["[a-zA-Z_\\x80-\\uFFFF][\\w\\x80-\\uFFFF]*","-?(?:\\.\\d+|\\d+(?:\\.\\d*)?)",'"[^"\\\\]*(?:\\\\[^][^"\\\\]*)*"',`<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>`].join("|")+")",x={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:p.languages.markup}};function T(I,B){return RegExp(I.replace(/<ID>/g,function(){return b}),B)}p.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:T(`(\\b(?:digraph|graph|subgraph)[ 	\r
]+)<ID>`,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:x},"attr-value":{pattern:T(`(=[ 	\r
]*)<ID>`),lookbehind:!0,greedy:!0,inside:x},"attr-name":{pattern:T(`([\\[;, 	\r
])<ID>(?=[ 	\r
]*=)`),lookbehind:!0,greedy:!0,inside:x},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:T("(^|[^-.\\w\\x80-\\uFFFF\\\\])<ID>"),lookbehind:!0,greedy:!0,inside:x},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},p.languages.gv=p.languages.dot})(D);D.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/};D.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}};D.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/};(function(p){p.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:p.languages.javascript}},p.hooks.add("before-tokenize",function(b){p.languages["markup-templating"].buildPlaceholders(b,"ejs",/<%(?!%)[\s\S]+?%>/g)}),p.hooks.add("after-tokenize",function(b){p.languages["markup-templating"].tokenizePlaceholders(b,"ejs")}),p.languages.eta=p.languages.ejs})(D);D.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},D.languages.elixir.string.forEach(function(p){p.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:D.languages.elixir}}}});D.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/};D.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/};(function(p){p.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:p.languages.lua}},p.hooks.add("before-tokenize",function(b){p.languages["markup-templating"].buildPlaceholders(b,"etlua",/<%[\s\S]+?%>/g)}),p.hooks.add("after-tokenize",function(b){p.languages["markup-templating"].tokenizePlaceholders(b,"etlua")})})(D);(function(p){p.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:p.languages.ruby}},p.hooks.add("before-tokenize",function(b){p.languages["markup-templating"].buildPlaceholders(b,"erb",/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g)}),p.hooks.add("after-tokenize",function(b){p.languages["markup-templating"].tokenizePlaceholders(b,"erb")})})(D);D.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|begin|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/};D.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},D.languages.xlsx=D.languages.xls=D.languages["excel-formula"];D.languages.fsharp=D.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),D.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),D.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),D.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:D.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}});(function(p){var b={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},x={number:/\\[^\s']|%\w/},T={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:b},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:b},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:b}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:x.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:x},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:x}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:x}},I=function(F){return(F+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},B=function(F){return new RegExp("(^|\\s)(?:"+F.map(I).join("|")+")(?=\\s|$)")},P={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(P).forEach(function(F){T[F].pattern=B(P[F])}),T.combinators.pattern=B(["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"]),p.languages.factor=T})(D);(function(p){p.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~ßø]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO®]/,alias:"bold"}}})(D);D.languages["firestore-security-rules"]=D.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete D.languages["firestore-security-rules"]["class-name"],D.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}});(function(p){p.languages.flow=p.languages.extend("javascript",{}),p.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),p.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete p.languages.flow.parameter,p.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(p.languages.flow.keyword)||(p.languages.flow.keyword=[p.languages.flow.keyword]),p.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(D);D.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/};(function(p){for(var b=`[^<()"']|\\((?:<expr>)*\\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\\\"]|\\\\.)*"|'(?:[^\\\\']|\\\\.)*'`,x=0;x<2;x++)b=b.replace(/<expr>/g,function(){return b});b=b.replace(/<expr>/g,"[^\\s\\S]");var T={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(`("|')(?:(?!\\1|\\$\\{)[^\\\\]|\\\\.|\\$\\{(?:(?!\\})(?:<expr>))*\\})*\\1`.replace(/<expr>/g,function(){return b})),greedy:!0,inside:{interpolation:{pattern:RegExp("((?:^|[^\\\\])(?:\\\\\\\\)*)\\$\\{(?:(?!\\})(?:<expr>))*\\}".replace(/<expr>/g,function(){return b})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};T.string[1].inside.interpolation.inside.rest=T,p.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:T}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:T}}}},p.hooks.add("before-tokenize",function(I){var B=RegExp("<#--[^]*?-->|</?[#@][a-zA-Z](?:<expr>)*?>|\\$\\{(?:<expr>)*?\\}".replace(/<expr>/g,function(){return b}),"gi");p.languages["markup-templating"].buildPlaceholders(I,"ftl",B)}),p.hooks.add("after-tokenize",function(I){p.languages["markup-templating"].tokenizePlaceholders(I,"ftl")})})(D);D.languages.gamemakerlanguage=D.languages.gml=D.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/});D.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},D.languages.gap.shell.inside.gap.inside=D.languages.gap;D.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/};D.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/};D.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},record:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"tag"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}};D.languages.gettext={comment:[{pattern:/# .*/,greedy:!0,alias:"translator-comment"},{pattern:/#\..*/,greedy:!0,alias:"extracted-comment"},{pattern:/#:.*/,greedy:!0,alias:"reference-comment"},{pattern:/#,.*/,greedy:!0,alias:"flag-comment"},{pattern:/#\|.*/,greedy:!0,alias:"previously-untranslated-comment"},{pattern:/#.*/,greedy:!0}],string:{pattern:/(^|[^\\])"(?:[^"\\]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/^msg(?:ctxt|id|id_plural|str)\b/m,number:/\b\d+\b/,punctuation:/[\[\]]/},D.languages.po=D.languages.gettext;(function(p){var b=`(?:\r?
|\r)[ 	]*\\|.+\\|(?:(?!\\|).)*`;p.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Característica|Egenskab|Egenskap|Eiginleiki|Feature|Fīča|Fitur|Fonctionnalité|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcţionalitate|Funcționalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitāte|Funkcionalnost|Funkcja|Funksie|Funktionalität|Funktionalitéit|Funzionalità|Hwaet|Hwæt|Jellemző|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogućnost|Moznosti|Možnosti|OH HAI|Omadus|Ominaisuus|Osobina|Özellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Požadavek|Požiadavka|Pretty much|Qap|Qu'meH 'ut|Savybė|Tính năng|Trajto|Vermoë|Vlastnosť|Właściwość|Značilnost|Δυνατότητα|Λειτουργία|Могућност|Мөмкинлек|Особина|Свойство|Үзенчәлеклелек|Функционал|Функционалност|Функция|Функціонал|תכונה|خاصية|خصوصیت|صلاحیت|کاروبار کی ضرورت|وِیژگی|रूप लेख|ਖਾਸੀਅਤ|ਨਕਸ਼ ਨੁਹਾਰ|ਮੁਹਾਂਦਰਾ|గుణము|ಹೆಚ್ಚಳ|ความต้องการทางธุรกิจ|ความสามารถ|โครงหลัก|기능|フィーチャ|功能|機能):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|Ær|Agtergrond|All y'all|Antecedentes|Antecedents|Atburðarás|Atburðarásir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bối cảnh|Cefndir|Cenario|Cenário|Cenario de Fundo|Cenário de Fundo|Cenarios|Cenários|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dæmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineação do Cenário|Dis is what went down|Dữ liệu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenário|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatókönyv|Forgatókönyv vázlat|Fundo|Geçmiş|Grundlage|Hannergrond|ghantoH|Háttér|Heave to|Istorik|Juhtumid|Keadaan|Khung kịch bản|Khung tình huống|Kịch bản|Koncept|Konsep skenario|Kontèks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lýsing Atburðarásar|Lýsing Dæma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Náčrt Scenára|Náčrt Scénáře|Náčrt Scenáru|Oris scenarija|Örnekler|Osnova|Osnova Scenára|Osnova scénáře|Osnutek|Ozadje|Paraugs|Pavyzdžiai|Példák|Piemēri|Plan du scénario|Plan du Scénario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozadí|Pozadie|Pozadina|Príklady|Příklady|Primer|Primeri|Primjeri|Przykłady|Raamstsenaarium|Reckon it's like|Rerefons|Scenár|Scénář|Scenarie|Scenarij|Scenarijai|Scenarijaus šablonas|Scenariji|Scenārijs|Scenārijs pēc parauga|Scenarijus|Scenario|Scénario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se ðe|Se the|Se þe|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo taslağı|Shiver me timbers|Situācija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structură scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwær swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tình huống|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Założenia|Παραδείγματα|Περιγραφή Σεναρίου|Σενάρια|Σενάριο|Υπόβαθρο|Кереш|Контекст|Концепт|Мисаллар|Мисоллар|Основа|Передумова|Позадина|Предистория|Предыстория|Приклади|Пример|Примери|Примеры|Рамка на сценарий|Скица|Структура сценарија|Структура сценария|Структура сценарію|Сценарий|Сценарий структураси|Сценарийның төзелеше|Сценарији|Сценарио|Сценарій|Тарих|Үрнәкләр|דוגמאות|רקע|תבנית תרחיש|תרחיש|الخلفية|الگوی سناریو|امثلة|پس منظر|زمینه|سناریو|سيناريو|سيناريو مخطط|مثالیں|منظر نامے کا خاکہ|منظرنامہ|نمونه ها|उदाहरण|परिदृश्य|परिदृश्य रूपरेखा|पृष्ठभूमि|ਉਦਾਹਰਨਾਂ|ਪਟਕਥਾ|ਪਟਕਥਾ ਢਾਂਚਾ|ਪਟਕਥਾ ਰੂਪ ਰੇਖਾ|ਪਿਛੋਕੜ|ఉదాహరణలు|కథనం|నేపథ్యం|సన్నివేశం|ಉದಾಹರಣೆಗಳು|ಕಥಾಸಾರಾಂಶ|ವಿವರಣೆ|ಹಿನ್ನೆಲೆ|โครงสร้างของเหตุการณ์|ชุดของตัวอย่าง|ชุดของเหตุการณ์|แนวคิด|สรุปเหตุการณ์|เหตุการณ์|배경|시나리오|시나리오 개요|예|サンプル|シナリオ|シナリオアウトライン|シナリオテンプレ|シナリオテンプレート|テンプレ|例|例子|剧本|剧本大纲|劇本|劇本大綱|场景|场景大纲|場景|場景大綱|背景):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+b+")(?:"+b+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(b),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A také|A taktiež|A tiež|A zároveň|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Atès|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Biết|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Când|Cand|Cando|Ce|Cuando|Če|Ða ðe|Ða|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Daţi fiind|Dați fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitaĵo|Do|Dun|Duota|Ðurh|Eeldades|Ef|Eğer ki|Entao|Então|Entón|E|En|Entonces|Epi|És|Etant donnée|Etant donné|Et|Étant données|Étant donnée|Étant donné|Etant données|Etant donnés|Étant donnés|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeśli|Jeżeli|Kad|Kada|Kadar|Kai|Kaj|Když|Keď|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|Lè sa a|Lè|Logo|Lorsqu'<|Lorsque|mä|Maar|Mais|Mając|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Når|När|Nato|Nhưng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Però|Podano|Pokiaľ|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|Så|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|Şi|Și|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Thì|Thurh|Toda|Too right|Un|Und|ugeholl|Và|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za předpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakładając|Zaradi|Zatati|Þa þe|Þa|Þá|Þegar|Þurh|Αλλά|Δεδομένου|Και|Όταν|Τότε|А також|Агар|Але|Али|Аммо|А|Әгәр|Әйтик|Әмма|Бирок|Ва|Вә|Дадено|Дано|Допустим|Если|Задате|Задати|Задато|И|І|К тому же|Када|Кад|Когато|Когда|Коли|Ләкин|Лекин|Нәтиҗәдә|Нехай|Но|Онда|Припустимо, що|Припустимо|Пусть|Также|Та|Тогда|Тоді|То|Унда|Һәм|Якщо|אבל|אזי|אז|בהינתן|וגם|כאשר|آنگاه|اذاً|اگر|اما|اور|با فرض|بالفرض|بفرض|پھر|تب|ثم|جب|عندما|فرض کیا|لكن|لیکن|متى|هنگامی|و|अगर|और|कदा|किन्तु|चूंकि|जब|तथा|तदा|तब|परन्तु|पर|यदि|ਅਤੇ|ਜਦੋਂ|ਜਿਵੇਂ ਕਿ|ਜੇਕਰ|ਤਦ|ਪਰ|అప్పుడు|ఈ పరిస్థితిలో|కాని|చెప్పబడినది|మరియు|ಆದರೆ|ನಂತರ|ನೀಡಿದ|ಮತ್ತು|ಸ್ಥಿತಿಯನ್ನು|กำหนดให้|ดังนั้น|แต่|เมื่อ|และ|그러면<|그리고<|단<|만약<|만일<|먼저<|조건<|하지만<|かつ<|しかし<|ただし<|ならば<|もし<|並且<|但し<|但是<|假如<|假定<|假設<|假设<|前提<|同时<|同時<|并且<|当<|當<|而且<|那么<|那麼<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(D);D.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m};D.languages.glsl=D.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/});D.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},D.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=D.languages.gn,D.languages.gni=D.languages.gn;D.languages["linker-script"]={comment:{pattern:/(^|\s)\/\*[\s\S]*?(?:$|\*\/)/,lookbehind:!0,greedy:!0},identifier:{pattern:/"[^"\r\n]*"/,greedy:!0},"location-counter":{pattern:/\B\.\B/,alias:"important"},section:{pattern:/(^|[^\w*])\.\w+\b/,lookbehind:!0,alias:"keyword"},function:/\b[A-Z][A-Z_]*(?=\s*\()/,number:/\b(?:0[xX][a-fA-F0-9]+|\d+)[KM]?\b/,operator:/>>=?|<<=?|->|\+\+|--|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?/,punctuation:/[(){},;]/},D.languages.ld=D.languages["linker-script"];D.languages.go=D.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),D.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete D.languages.go["class-name"];D.languages["go-mod"]=D.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/};(function(p){var b={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};p.languages.gradle=p.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),p.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:b,string:/[\s\S]+/}}}),p.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),p.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),b.inside.expression.inside=p.languages.gradle})(D);D.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:D.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},D.hooks.add("after-tokenize",function(p){if(p.language==="graphql")for(var b=p.tokens.filter(function(Z){return typeof Z!="string"&&Z.type!=="comment"&&Z.type!=="scalar"}),x=0;x<b.length;){var T=b[x++];if(T.type==="keyword"&&T.content==="mutation"){var I=[];if(Q(["definition-mutation","punctuation"])&&V(1).content==="("){x+=2;var B=ae(/^\($/,/^\)$/);if(B===-1)continue;for(;x<B;x++){var P=V(0);P.type==="variable"&&(pe(P,"variable-input"),I.push(P.content))}x=B+1}if(Q(["punctuation","property-query"])&&V(0).content==="{"&&(x++,pe(V(0),"property-mutation"),I.length>0)){var F=ae(/^\{$/,/^\}$/);if(F===-1)continue;for(var j=x;j<F;j++){var W=b[j];W.type==="variable"&&I.indexOf(W.content)>=0&&pe(W,"variable-input")}}}}function V(Z){return b[x+Z]}function Q(Z,te){te=te||0;for(var ue=0;ue<Z.length;ue++){var he=V(ue+te);if(!he||he.type!==Z[ue])return!1}return!0}function ae(Z,te){for(var ue=1,he=x;he<b.length;he++){var me=b[he],Re=me.content;if(me.type==="punctuation"&&typeof Re=="string"){if(Z.test(Re))ue++;else if(te.test(Re)&&--ue==0)return he}}return-1}function pe(Z,te){var ue=Z.alias;ue?Array.isArray(ue)||(Z.alias=ue=[ue]):Z.alias=ue=[],ue.push(te)}});(function(p){var b={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};p.languages.groovy=p.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),p.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:b,string:/[\s\S]+/}}}),p.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),p.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),b.inside.expression.inside=p.languages.groovy})(D);(function(p){p.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:p.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:p.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:p.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:p.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:p.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:p.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:p.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var b=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],x={},T=0,I=b.length;T<I;T++){var B=b[T];B=typeof B=="string"?{filter:B,language:B}:B,p.languages[B.language]&&(x["filter-"+B.filter]={pattern:RegExp("((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+".replace("{{filter_name}}",function(){return B.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[B.language,"language-"+B.language],inside:p.languages[B.language]}}})}p.languages.insertBefore("haml","filter",x)})(D);(function(p){p.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},p.hooks.add("before-tokenize",function(b){p.languages["markup-templating"].buildPlaceholders(b,"handlebars",/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g)}),p.hooks.add("after-tokenize",function(b){p.languages["markup-templating"].tokenizePlaceholders(b,"handlebars")}),p.languages.hbs=p.languages.handlebars,p.languages.mustache=p.languages.handlebars})(D);D.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},D.languages.hs=D.languages.haskell;D.languages.haxe=D.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),D.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:D.languages.haxe}}},string:/[\s\S]+/}}}),D.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:D.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),D.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}});D.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/};D.languages.hlsl=D.languages.extend("c",{"class-name":[D.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/});D.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/};(function(p){function b(W){return RegExp("(^(?:"+W+"):[ 	]*(?![ 	]))[^]+","i")}p.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:p.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:b("Content-Security-Policy"),lookbehind:!0,alias:["csp","languages-csp"],inside:p.languages.csp},{pattern:b("Public-Key-Pins(?:-Report-Only)?"),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:p.languages.hpkp},{pattern:b("Strict-Transport-Security"),lookbehind:!0,alias:["hsts","languages-hsts"],inside:p.languages.hsts},{pattern:b("[^:]+"),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var x,T=p.languages,I={"application/javascript":T.javascript,"application/json":T.json||T.javascript,"application/xml":T.xml,"text/xml":T.xml,"text/html":T.html,"text/css":T.css,"text/plain":T.plain},B={"application/json":!0,"application/xml":!0};function P(W){var V=W.replace(/^[a-z]+\//,"");return"(?:"+W+"|\\w+/(?:[\\w.-]+\\+)+"+V+"(?![+\\w.-]))"}for(var F in I)if(I[F]){x=x||{};var j=B[F]?P(F):F;x[F.replace(/\//g,"-")]={pattern:RegExp("(content-type:\\s*"+j+`(?:(?:\r
?|
)[\\w-].*)*(?:\r(?:
|(?!
))|
))[^ 	\\w-][^]*`,"i"),lookbehind:!0,inside:I[F]}}x&&p.languages.insertBefore("http","header",x)})(D);D.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/};D.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/};D.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/};D.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/};(function(p){function b(F,j){return j<=0?"[]":F.replace(/<SELF>/g,function(){return b(F,j-1)})}var x=/'[{}:=,](?:[^']|'')*'(?!')/,T={pattern:/''/,greedy:!0,alias:"operator"},I={pattern:x,greedy:!0,inside:{escape:T}},B=b("\\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\\}".replace(/<STR>/g,function(){return x.source}),8),P={pattern:RegExp(B),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};p.languages["icu-message-format"]={argument:{pattern:RegExp(B),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":P,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":P,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp("(^\\s*,\\s*(?=\\S))"+b("(?:[^{}']|'[^']*'|\\{(?:<SELF>)?\\})+",8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:T,string:I},P.inside.message.inside=p.languages["icu-message-format"],p.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=p.languages["icu-message-format"]})(D);D.languages.idris=D.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),D.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),D.languages.idr=D.languages.idris;(function(p){p.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},p.languages.gitignore=p.languages.ignore,p.languages.hgignore=p.languages.ignore,p.languages.npmignore=p.languages.ignore})(D);D.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},D.languages.inform7.string.inside.substitution.inside.rest=D.languages.inform7,D.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"};D.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/};D.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/};D.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/};(function(p){var b=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,x="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",T={pattern:RegExp("(^|[^\\w.])"+x+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};p.languages.java=p.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[T,{pattern:RegExp("(^|[^\\w.])"+x+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:T.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+x+"[A-Z]\\w*\\b"),lookbehind:!0,inside:T.inside}],keyword:b,function:[p.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),p.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),p.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":T,keyword:b,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp("(\\bimport\\s+)"+x+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:T.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+x+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:T.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,function(){return b.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(D);(function(p){var b=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,x=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],T=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,I=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,B=/[{}\[\](),:;]/;p.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:b,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:x,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:T,operator:I,punctuation:B};var P={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:p.languages.php},F=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:P}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:P}}];p.languages.insertBefore("php","variable",{string:F,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:b,string:F,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:x,number:T,operator:I,punctuation:B}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),p.hooks.add("before-tokenize",function(j){/<\?/.test(j.code)&&p.languages["markup-templating"].buildPlaceholders(j,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),p.hooks.add("after-tokenize",function(j){p.languages["markup-templating"].tokenizePlaceholders(j,"php")})})(D);(function(p){var b=p.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(b,"addSupport",{value:function(x,T){typeof x=="string"&&(x=[x]),x.forEach(function(I){(function(B,P){var F="doc-comment",j=p.languages[B];if(j){var W=j[F];if(W||(W=(j=p.languages.insertBefore(B,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[F]),W instanceof RegExp&&(W=j[F]={pattern:W}),Array.isArray(W))for(var V=0,Q=W.length;V<Q;V++)W[V]instanceof RegExp&&(W[V]={pattern:W[V]}),P(W[V]);else P(W)}})(I,function(B){B.inside||(B.inside={}),B.inside.rest=T})})}}),b.addSupport(["java","javascript","php"],b)})(D);(function(p){var b=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,x="(?:\\b[a-zA-Z]\\w+\\s*\\.\\s*)*\\b[A-Z]\\w*(?:\\s*<mem>)?|<mem>".replace(/<mem>/g,function(){return"#\\s*\\w+(?:\\s*\\([^()]*\\))?"});p.languages.javadoc=p.languages.extend("javadoclike",{}),p.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp("(@(?:exception|link|linkplain|see|throws|value)\\s+(?:\\*\\s*)?)(?:"+x+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:p.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:b,lookbehind:!0,inside:p.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:b,lookbehind:!0,inside:{tag:p.languages.markup.tag,entity:p.languages.markup.entity,code:{pattern:/.+/,inside:p.languages.java,alias:"language-java"}}}}}],tag:p.languages.markup.tag,entity:p.languages.markup.entity}),p.languages.javadoclike.addSupport("java",p.languages.javadoc)})(D);D.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}};D.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/};D.languages.jolie=D.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),D.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}});(function(p){var b="\\\\\\((?:[^()]|\\([^()]*\\))*\\)",x=RegExp(`(^|[^\\\\])"(?:[^"\r
\\\\]|\\\\[^\r
(]|__)*"`.replace(/__/g,function(){return b})),T={interpolation:{pattern:RegExp("((?:^|[^\\\\])(?:\\\\{2})*)"+b),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},I=p.languages.jq={comment:/#.*/,property:{pattern:RegExp(x.source+"(?=\\s*:(?!:))"),lookbehind:!0,greedy:!0,inside:T},string:{pattern:x,lookbehind:!0,greedy:!0,inside:T},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};T.interpolation.inside.content.inside=I})(D);(function(p){p.languages.typescript=p.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),p.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete p.languages.typescript.parameter,delete p.languages.typescript["literal-property"];var b=p.languages.extend("typescript",{});delete b["class-name"],p.languages.typescript["class-name"].inside=b,p.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:b}}}}),p.languages.ts=p.languages.typescript})(D);(function(p){var b=p.languages.javascript,x="\\{(?:[^{}]|\\{(?:[^{}]|\\{[^{}]*\\})*\\})+\\}",T="(@(?:arg|argument|param|property)\\s+(?:"+x+"\\s+)?)";p.languages.jsdoc=p.languages.extend("javadoclike",{parameter:{pattern:RegExp(T+"(?:(?!\\s)[$\\w\\xA0-\\uFFFF.])+(?=\\s|$)"),lookbehind:!0,inside:{punctuation:/\./}}}),p.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(T+"\\[(?:(?!\\s)[$\\w\\xA0-\\uFFFF.])+(?:=[^[\\]]+)?\\](?=\\s|$)"),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:b,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp("(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\\s+(?:<TYPE>\\s+)?)[A-Z]\\w*(?:\\.[A-Z]\\w*)*".replace(/<TYPE>/g,function(){return x})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+x),lookbehind:!0,inside:{string:b.string,number:b.number,boolean:b.boolean,keyword:p.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:b,alias:"language-javascript"}}}}),p.languages.javadoclike.addSupport("javascript",p.languages.jsdoc)})(D);(function(p){function b(F,j){return RegExp(F.replace(/<ID>/g,function(){return"(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*"}),j)}p.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+p.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),p.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+p.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),p.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),p.languages.insertBefore("javascript","keyword",{imports:{pattern:b("(\\bimport\\b\\s*)(?:<ID>(?:\\s*,\\s*(?:\\*\\s*as\\s+<ID>|\\{[^{}]*\\}))?|\\*\\s*as\\s+<ID>|\\{[^{}]*\\})(?=\\s*\\bfrom\\b)"),lookbehind:!0,inside:p.languages.javascript},exports:{pattern:b("(\\bexport\\b\\s*)(?:\\*(?:\\s*as\\s+<ID>)?(?=\\s*\\bfrom\\b)|\\{[^{}]*\\})"),lookbehind:!0,inside:p.languages.javascript}}),p.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),p.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),p.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:b("(\\.\\s*)#?<ID>"),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var x=["function","function-variable","method","method-variable","property-access"],T=0;T<x.length;T++){var I=x[T],B=p.languages.javascript[I];p.util.type(B)==="RegExp"&&(B=p.languages.javascript[I]={pattern:B});var P=B.inside||{};B.inside=P,P["maybe-class-name"]=/^[A-Z][\s\S]*/}})(D);D.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},D.languages.webmanifest=D.languages.json;(function(p){var b=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;p.languages.json5=p.languages.extend("json",{property:[{pattern:RegExp(b.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:b,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})})(D);D.languages.jsonp=D.languages.extend("json",{punctuation:/[{}[\]();,.]/}),D.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/});D.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}};(function(p){var b=p.languages.javascript["template-string"],x=b.pattern.source,T=b.inside.interpolation,I=T.inside["interpolation-punctuation"],B=T.pattern.source;function P(pe,Z){if(p.languages[pe])return{pattern:RegExp("((?:"+Z+")\\s*)"+x),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:pe}}}}function F(pe,Z){return"___"+Z.toUpperCase()+"_"+pe+"___"}function j(pe,Z,te){var ue={code:pe,grammar:Z,language:te};return p.hooks.run("before-tokenize",ue),ue.tokens=p.tokenize(ue.code,ue.grammar),p.hooks.run("after-tokenize",ue),ue.tokens}function W(pe){var Z={};Z["interpolation-punctuation"]=I;var te=p.tokenize(pe,Z);if(te.length===3){var ue=[1,1];ue.push.apply(ue,j(te[1],p.languages.javascript,"javascript")),te.splice.apply(te,ue)}return new p.Token("interpolation",te,T.alias,pe)}function V(pe,Z,te){var ue=p.tokenize(pe,{interpolation:{pattern:RegExp(B),lookbehind:!0}}),he=0,me={},Re=j(ue.map(function(Le){if(typeof Le=="string")return Le;for(var ze,Ee=Le.content;pe.indexOf(ze=F(he++,te))!==-1;);return me[ze]=Ee,ze}).join(""),Z,te),Ne=Object.keys(me);return he=0,function Le(ze){for(var Ee=0;Ee<ze.length;Ee++){if(he>=Ne.length)return;var ye=ze[Ee];if(typeof ye=="string"||typeof ye.content=="string"){var be=Ne[he],Se=typeof ye=="string"?ye:ye.content,ke=Se.indexOf(be);if(ke!==-1){++he;var We=Se.substring(0,ke),Pe=W(me[be]),De=Se.substring(ke+be.length),lt=[];if(We&&lt.push(We),lt.push(Pe),De){var gt=[De];Le(gt),lt.push.apply(lt,gt)}typeof ye=="string"?(ze.splice.apply(ze,[Ee,1].concat(lt)),Ee+=lt.length-1):ye.content=lt}}else{var kt=ye.content;Array.isArray(kt)?Le(kt):Le([kt])}}}(Re),new p.Token(te,Re,"language-"+te,pe)}p.languages.javascript["template-string"]=[P("css","\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)"),P("html","\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?="),P("svg","\\bsvg"),P("markdown","\\b(?:markdown|md)"),P("graphql","\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)"),P("sql","\\bsql"),b].filter(Boolean);var Q={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function ae(pe){return typeof pe=="string"?pe:Array.isArray(pe)?pe.map(ae).join(""):ae(pe.content)}p.hooks.add("after-tokenize",function(pe){pe.language in Q&&function Z(te){for(var ue=0,he=te.length;ue<he;ue++){var me=te[ue];if(typeof me!="string"){var Re=me.content;if(Array.isArray(Re))if(me.type==="template-string"){var Ne=Re[1];if(Re.length===3&&typeof Ne!="string"&&Ne.type==="embedded-code"){var Le=ae(Ne),ze=Ne.alias,Ee=Array.isArray(ze)?ze[0]:ze,ye=p.languages[Ee];if(!ye)continue;Re[1]=V(Le,ye,Ee)}}else Z(Re);else typeof Re!="string"&&Z([Re])}}}(pe.tokens)})})(D);D.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%÷⊻&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥'√∛]/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[πℯ]/};D.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp("\\b(?:(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){5}:(?:[\\da-f]{1,4}:)?[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){4}:(?:[\\da-f]{1,4}:){0,2}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){3}:(?:[\\da-f]{1,4}:){0,3}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){2}:(?:[\\da-f]{1,4}:){0,4}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){6}<ipv4>|(?:[\\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\\da-f]{1,4}:){0,5}<ipv4>|[\\da-f]{1,4}::(?:[\\da-f]{1,4}:){0,5}[\\da-f]{1,4}|::(?:[\\da-f]{1,4}:){0,6}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:)(?:/\\d{1,3})?|<ipv4>(?:/\\d{1,2})?)\\b".replace(/<ipv4>/g,function(){return"(?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d))"}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/};D.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|newcontext|nomatch|postkeystroke|readonly|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/};(function(p){p.languages.kotlin=p.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete p.languages.kotlin["class-name"];var b={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:p.languages.kotlin}};p.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:b},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:b},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete p.languages.kotlin.string,p.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),p.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),p.languages.kt=p.languages.kotlin,p.languages.kts=p.languages.kotlin})(D);(function(p){function b(x,T){return RegExp(x.replace(/<nonId>/g,"\\s\\x00-\\x1f\\x22-\\x2f\\x3a-\\x3f\\x5b-\\x5e\\x60\\x7b-\\x7e"),T)}p.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:b("(^|[<nonId>])(?:\u0434\u0430|\u043D\u0435\u0442)(?=[<nonId>]|$)"),lookbehind:!0},"operator-word":{pattern:b("(^|[<nonId>])(?:\u0438|\u0438\u043B\u0438|\u043D\u0435)(?=[<nonId>]|$)"),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:b("(^|[<nonId>])\u0437\u043D\u0430\u0447(?=[<nonId>]|$)"),lookbehind:!0,alias:"keyword"},type:[{pattern:b("(^|[<nonId>])(?:\u0432\u0435\u0449|\u043B\u0438\u0442|\u043B\u043E\u0433|\u0441\u0438\u043C|\u0446\u0435\u043B)(?:\\x20*\u0442\u0430\u0431)?(?=[<nonId>]|$)"),lookbehind:!0,alias:"builtin"},{pattern:b("(^|[<nonId>])(?:\u043A\u043E\u043C\u043F\u043B|\u0441\u043A\u0430\u043D\u043A\u043E\u0434|\u0444\u0430\u0439\u043B|\u0446\u0432\u0435\u0442)(?=[<nonId>]|$)"),lookbehind:!0,alias:"important"}],keyword:{pattern:b("(^|[<nonId>])(?:\u0430\u043B\u0433|\u0430\u0440\u0433(?:\\x20*\u0440\u0435\u0437)?|\u0432\u0432\u043E\u0434|\u0412\u041A\u041B\u042E\u0427\u0418\u0422\u042C|\u0432\u0441[\u0435\u0451]|\u0432\u044B\u0431\u043E\u0440|\u0432\u044B\u0432\u043E\u0434|\u0432\u044B\u0445\u043E\u0434|\u0434\u0430\u043D\u043E|\u0434\u043B\u044F|\u0434\u043E|\u0434\u0441|\u0435\u0441\u043B\u0438|\u0438\u043D\u0430\u0447\u0435|\u0438\u0441\u043F|\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C|\u043A\u043E\u043D(?:(?:\\x20+|_)\u0438\u0441\u043F)?|\u043A\u0446(?:(?:\\x20+|_)\u043F\u0440\u0438)?|\u043D\u0430\u0434\u043E|\u043D\u0430\u0447|\u043D\u0441|\u043D\u0446|\u043E\u0442|\u043F\u0430\u0443\u0437\u0430|\u043F\u043E\u043A\u0430|\u043F\u0440\u0438|\u0440\u0430\u0437\u0430?|\u0440\u0435\u0437|\u0441\u0442\u043E\u043F|\u0442\u0430\u0431|\u0442\u043E|\u0443\u0442\u0432|\u0448\u0430\u0433)(?=[<nonId>]|$)"),lookbehind:!0},name:{pattern:b("(^|[<nonId>])[^\\d<nonId>][^<nonId>]*(?:\\x20+[^<nonId>]+)*(?=[<nonId>]|$)"),lookbehind:!0},number:{pattern:b("(^|[<nonId>])(?:\\B\\$[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)(?=[<nonId>]|$)","i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},p.languages.kum=p.languages.kumir})(D);D.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mnµ]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/};(function(p){var b=/\\(?:[^a-z()[\]]|[a-z*]+)/i,x={"equation-command":{pattern:b,alias:"regex"}};p.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:x,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:x,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:b,alias:"selector"},punctuation:/[[\]{}&]/},p.languages.tex=p.languages.latex,p.languages.context=p.languages.latex})(D);(function(p){p.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:p.languages.php}};var b=p.languages.extend("markup",{});p.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:p.languages.php}}}}}},b.tag),p.hooks.add("before-tokenize",function(x){x.language==="latte"&&(p.languages["markup-templating"].buildPlaceholders(x,"latte",/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g),x.grammar=b)}),p.hooks.add("after-tokenize",function(x){p.languages["markup-templating"].tokenizePlaceholders(x,"latte")})})(D);D.languages.less=D.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),D.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}});(function(p){p.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(function(b){for(var x in b)b[x]=b[x].replace(/<[\w\s]+>/g,function(T){return"(?:"+b[T].trim()+")"});return b[x]}({"<ureal dec>":"\\d+(?:/\\d+)|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:[esfdl][+-]?\\d+)?","<real dec>":"[+-]?<ureal dec>|[+-](?:inf|nan)\\.0","<imaginary dec>":"[+-](?:<ureal dec>|(?:inf|nan)\\.0)?i","<complex dec>":"<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>","<num dec>":"(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>","<ureal box>":"[0-9a-f]+(?:/[0-9a-f]+)?","<real box>":"[+-]?<ureal box>|[+-](?:inf|nan)\\.0","<imaginary box>":"[+-](?:<ureal box>|(?:inf|nan)\\.0)?i","<complex box>":"<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>","<num box>":"#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>","<number>":"(^|[()\\[\\]\\s])(?:<num dec>|<num box>)(?=[()\\[\\]\\s]|$)"}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/}})(D);(function(p){for(var b='\\((?:[^();"#\\\\]|\\\\[^]|;.*(?!.)|"(?:[^"\\\\]|\\\\.)*"|#(?:\\{(?:(?!#\\})[^])*#\\}|[^{])|<expr>)*\\)',x=0;x<5;x++)b=b.replace(/<expr>/g,function(){return b});b=b.replace(/<expr>/g,"[^\\s\\S]");var T=p.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp('(^|[=\\s])#(?:"(?:[^"\\\\]|\\\\.)*"|[^\\s()"]*(?:[^\\s()]|<expr>))'.replace(/<expr>/g,function(){return b}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:p.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};T["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=T,p.languages.ly=T})(D);D.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},D.hooks.add("before-tokenize",function(p){var b=!1;D.languages["markup-templating"].buildPlaceholders(p,"liquid",/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,function(x){var T=/^\{%-?\s*(\w+)/.exec(x);if(T){var I=T[1];if(I==="raw"&&!b)return b=!0,!0;if(I==="endraw")return b=!1,!0}return!b})}),D.hooks.add("after-tokenize",function(p){D.languages["markup-templating"].tokenizePlaceholders(p,"liquid")});(function(p){function b(V){return RegExp("(\\()(?:"+V+")(?=[\\s\\)])")}function x(V){return RegExp("([\\s([])(?:"+V+")(?=[\\s)])")}var T="(?!\\d)[-+*/~!@$%^=<>{}\\w]+",I="(\\()",B="(?:[^()]|\\((?:[^()]|\\((?:[^()]|\\((?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))*\\))*\\))*\\))*",P={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+T+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+T),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+T),alias:"property"},splice:{pattern:RegExp(",@?"+T),alias:["symbol","variable"]},keyword:[{pattern:RegExp("(\\()(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)(?=\\s)"),lookbehind:!0},{pattern:RegExp("(\\()(?:append|by|collect|concat|do|finally|for|in|return)(?=\\s)"),lookbehind:!0}],declare:{pattern:b("declare"),lookbehind:!0,alias:"keyword"},interactive:{pattern:b("interactive"),lookbehind:!0,alias:"keyword"},boolean:{pattern:x("nil|t"),lookbehind:!0},number:{pattern:x("[-+]?\\d+(?:\\.\\d*)?"),lookbehind:!0},defvar:{pattern:RegExp("(\\()def(?:const|custom|group|var)\\s+"+T),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(T)}},defun:{pattern:RegExp("(\\()(?:cl-)?(?:defmacro|defun\\*?)\\s+"+T+"\\s+\\("+B+"\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+T),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp("(\\()lambda\\s+\\(\\s*(?:&?"+T+"(?:\\s+&?"+T+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(I+T),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},F={"lisp-marker":RegExp("&(?!\\d)[-+*/~!@$%^=<>{}\\w]+"),varform:{pattern:RegExp("\\("+T+"\\s+(?=\\S)"+B+"\\)"),inside:P},argument:{pattern:RegExp("(^|[\\s(])"+T),lookbehind:!0,alias:"variable"},rest:P},j="\\S+(?:\\s+\\S+)*",W={pattern:RegExp(I+B+"(?=\\))"),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+j),inside:F},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+j),inside:F},keys:{pattern:RegExp("&key\\s+"+j+"(?:\\s+&allow-other-keys)?"),inside:F},argument:{pattern:RegExp(T),alias:"variable"},punctuation:/[()]/}};P.lambda.inside.arguments=W,P.defun.inside.arguments=p.util.clone(W),P.defun.inside.arguments.inside.sublist=W,p.languages.lisp=P,p.languages.elisp=P,p.languages.emacs=P,p.languages["emacs-lisp"]=P})(D);D.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},D.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=D.languages.livescript;(function(p){p.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(D);D.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:D.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp("\\b\\d{4}[-/]\\d{2}[-/]\\d{2}(?:T(?=\\d{1,2}:)|(?=\\s\\d{1,2}:))|\\b\\d{1,4}[-/ ](?:\\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\\d{2,4}T?\\b|\\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\\s{1,2}\\d{1,2}\\b","i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/};D.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}|…|,|!/};D.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/};D.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/};(function(p){function b(j){return j=j.replace(/<inner>/g,function(){return`(?:\\\\.|[^\\\\
\r]|(?:
|\r
?)(?![\r
]))`}),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+j+")")}var x="(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+",T=`\\|?__(?:\\|__)+\\|?(?:(?:
|\r
?)|(?![^]))`.replace(/__/g,function(){return x}),I=`\\|?[ 	]*:?-{3,}:?[ 	]*(?:\\|[ 	]*:?-{3,}:?[ 	]*)+\\|?(?:
|\r
?)`;p.languages.markdown=p.languages.extend("markup",{}),p.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:p.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+T+I+"(?:"+T+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+T+I+")(?:"+T+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(x),inside:p.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+T+")"+I+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+T+"$"),inside:{"table-header":{pattern:RegExp(x),alias:"important",inside:p.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:b("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:b("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:b("(~~?)(?:(?!~)<inner>)+\\2"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:b('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[	 ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ 	]?\\[(?:(?!\\])<inner>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(j){["url","bold","italic","strike","code-snippet"].forEach(function(W){j!==W&&(p.languages.markdown[j].inside.content.inside[W]=p.languages.markdown[W])})}),p.hooks.add("after-tokenize",function(j){j.language!=="markdown"&&j.language!=="md"||function W(V){if(V&&typeof V!="string")for(var Q=0,ae=V.length;Q<ae;Q++){var pe=V[Q];if(pe.type==="code"){var Z=pe.content[1],te=pe.content[3];if(Z&&te&&Z.type==="code-language"&&te.type==="code-block"&&typeof Z.content=="string"){var ue=Z.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),he="language-"+(ue=(/[a-z][\w-]*/i.exec(ue)||[""])[0].toLowerCase());te.alias?typeof te.alias=="string"?te.alias=[te.alias,he]:te.alias.push(he):te.alias=[he]}}else W(pe.content)}}(j.tokens)}),p.hooks.add("wrap",function(j){if(j.type==="code-block"){for(var W="",V=0,Q=j.classes.length;V<Q;V++){var ae=j.classes[V],pe=/language-(.+)/.exec(ae);if(pe){W=pe[1];break}}var Z=p.languages[W];if(Z)j.content=p.highlight(j.content.replace(B,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(ue,he){var me;return(he=he.toLowerCase())[0]==="#"?(me=he[1]==="x"?parseInt(he.slice(2),16):Number(he.slice(1)),F(me)):P[he]||ue}),Z,W);else if(W&&W!=="none"&&p.plugins.autoloader){var te="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());j.attributes.id=te,p.plugins.autoloader.loadLanguages(W,function(){var ue=document.getElementById(te);ue&&(ue.innerHTML=p.highlight(ue.textContent,p.languages[W],W))})}}});var B=RegExp(p.languages.markup.tag.pattern.source,"gi"),P={amp:"&",lt:"<",gt:">",quot:'"'},F=String.fromCodePoint||String.fromCharCode;p.languages.md=p.languages.markdown})(D);(function(p){var b="\\bvoid\\b|<org>|\\b(?:complex|numeric|pointer(?:\\s*\\([^()]*\\))?|real|string|(?:class|struct)\\s+\\w+|transmorphic)(?:\\s*<org>)?".replace(/<org>/g,"\\b(?:(?:col|row)?vector|matrix|scalar)\\b");p.languages.mata={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/"[^"\r\n]*"|[‘`']".*?"[’`']/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|struct)\s+)\w+(?=\s*(?:\{|\bextends\b))/,lookbehind:!0},type:{pattern:RegExp(b),alias:"class-name",inside:{punctuation:/[()]/,keyword:/\b(?:class|function|struct|void)\b/}},keyword:/\b(?:break|class|continue|do|else|end|extends|external|final|for|function|goto|if|pragma|private|protected|public|return|static|struct|unset|unused|version|virtual|while)\b/,constant:/\bNULL\b/,number:{pattern:/(^|[^\w.])(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|\d[a-f0-9]*(?:\.[a-f0-9]+)?x[+-]?\d+)i?(?![\w.])/i,lookbehind:!0},missing:{pattern:/(^|[^\w.])(?:\.[a-z]?)(?![\w.])/,lookbehind:!0,alias:"symbol"},function:/\b[a-z_]\w*(?=\s*\()/i,operator:/\.\.|\+\+|--|&&|\|\||:?(?:[!=<>]=|[+\-*/^<>&|:])|[!?=\\#’`']/,punctuation:/[()[\]{},;.]/}})(D);D.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/};(function(p){var b=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;p.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:^|[;=<>+\\-*/^({\\[]|\\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\\b)[ 	]*)(?!"+b.source+")[a-z_]\\w*\\b(?=[ 	]*(?:(?!"+b.source+`)[a-z_]|\\d|-\\.?\\d|[({'"$@#?]))`,"im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:b,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(D);D.languages.mel={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},code:{pattern:/`(?:\\.|[^\\`])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},statement:{pattern:/[\s\S]+/,inside:null}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:{pattern:/((?:^|[{;])[ \t]*)[a-z_]\w*\b(?!\s*(?:\.(?!\.)|[[{=]))|\b[a-z_]\w*(?=[ \t]*\()/im,lookbehind:!0,greedy:!0},"tensor-punctuation":{pattern:/<<|>>/,alias:"punctuation"},operator:/\+[+=]?|-[-=]?|&&|\|\||[<>]=?|[*\/!=]=?|[%^]/,punctuation:/[.,:;?\[\](){}]/},D.languages.mel.code.inside.statement.inside=D.languages.mel;D.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/};D.languages.metafont={comment:{pattern:/%.*/,greedy:!0},string:{pattern:/"[^\r\n"]*"/,greedy:!0},number:/\d*\.?\d+/,boolean:/\b(?:false|true)\b/,punctuation:[/[,;()]/,{pattern:/(^|[^{}])(?:\{|\})(?![{}])/,lookbehind:!0},{pattern:/(^|[^[])\[(?!\[)/,lookbehind:!0},{pattern:/(^|[^\]])\](?!\])/,lookbehind:!0}],constant:[{pattern:/(^|[^!?])\?\?\?(?![!?])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\\|\\\\)(?![/*\\])/,lookbehind:!0},/\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\b/],quantity:{pattern:/\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\b/,alias:"keyword"},command:{pattern:/\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\b/,alias:"builtin"},operator:[{pattern:/(^|[^>=<:|])(?:<|<=|=|=:|\|=:|\|=:>|=:\|>|=:\||\|=:\||\|=:\|>|\|=:\|>>|>|>=|:|:=|<>|::|\|\|:)(?![>=<:|])/,lookbehind:!0},{pattern:/(^|[^+-])(?:\+|\+\+|-{1,3}|\+-\+)(?![+-])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\*|\*\*|\/)(?![/*\\])/,lookbehind:!0},{pattern:/(^|[^.])(?:\.{2,3})(?!\.)/,lookbehind:!0},{pattern:/(^|[^@#&$])&(?![@#&$])/,lookbehind:!0},/\b(?:and|not|or)\b/],macro:{pattern:/\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\.(?:bot|lft|rt|top)(?:\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\b/,alias:"function"},builtin:/\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\b/,keyword:/\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\b/,type:{pattern:/\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\b/,alias:"property"},variable:{pattern:/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\b/,lookbehind:!0}};D.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/};(function(p){var b=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],x="(?:"+(b=b.map(function(T){return T.replace("$","\\$")})).join("|")+")\\b";p.languages.mongodb=p.languages.extend("javascript",{}),p.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+x+"(?:\\1)?$")}}}),p.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},p.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"].join("|")+")\\b"),alias:"keyword"}})})(D);D.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/};D.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},D.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=D.languages.moonscript,D.languages.moon=D.languages.moonscript;D.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/};D.languages.n4js=D.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),D.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),D.languages.n4jsd=D.languages.n4js;D.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/};(function(p){var b=/\{[^\r\n\[\]{}]*\}/,x={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:b,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};function T(I){return typeof I=="string"?I:Array.isArray(I)?I.map(T).join(""):T(I.content)}p.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:b,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:x}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:b,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:x},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},p.languages.nani=p.languages.naniscript,p.hooks.add("after-tokenize",function(I){I.tokens.forEach(function(B){if(typeof B!="string"&&B.type==="generic-text"){var P=T(B);(function(F){for(var j=[],W=0;W<F.length;W++){var V=F[W],Q="[]{}".indexOf(V);if(Q!==-1){if(Q%2==0)j.push(Q+1);else if(j.pop()!==Q)return!1}}return j.length===0})(P)||(B.type="bad-line",B.content=P)}})})})(D);D.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/};D.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"property"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/};D.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/};(function(p){var b=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;p.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:b}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:b}},punctuation:/[{};]/}})(D);D.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/};D.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},D.languages.nix.string.inside.interpolation.inside=D.languages.nix;D.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|KnownFolderPath|LabelAddress|TempFileName|WinVer)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|RtlLanguage|ShellVarContextAll|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|Target|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}};D.languages.objectivec=D.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete D.languages.objectivec["class-name"],D.languages.objc=D.languages.objectivec;D.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/};(function(p){var b=/\\(?:["'\\abefnrtv]|0[0-7]{2}|U[\dA-Fa-f]{6}|u[\dA-Fa-f]{4}|x[\dA-Fa-f]{2})/;p.languages.odin={comment:[{pattern:/\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:\*(?!\/)|[^*])*(?:\*\/|$))*(?:\*\/|$)/,greedy:!0},{pattern:/#![^\n\r]*/,greedy:!0},{pattern:/\/\/[^\n\r]*/,greedy:!0}],char:{pattern:/'(?:\\(?:.|[0Uux][0-9A-Fa-f]{1,6})|[^\n\r'\\])'/,greedy:!0,inside:{symbol:b}},string:[{pattern:/`[^`]*`/,greedy:!0},{pattern:/"(?:\\.|[^\n\r"\\])*"/,greedy:!0,inside:{symbol:b}}],directive:{pattern:/#\w+/,alias:"property"},number:/\b0(?:b[01_]+|d[\d_]+|h_*(?:(?:(?:[\dA-Fa-f]_*){8}){1,2}|(?:[\dA-Fa-f]_*){4})|o[0-7_]+|x[\dA-F_a-f]+|z[\dAB_ab]+)\b|(?:\b\d+(?:\.(?!\.)\d*)?|\B\.\d+)(?:[Ee][+-]?\d*)?[ijk]?(?!\w)/,discard:{pattern:/\b_\b/,alias:"keyword"},"procedure-definition":{pattern:/\b\w+(?=[ \t]*(?::\s*){2}proc\b)/,alias:"function"},keyword:/\b(?:asm|auto_cast|bit_set|break|case|cast|context|continue|defer|distinct|do|dynamic|else|enum|fallthrough|for|foreign|if|import|in|map|matrix|not_in|or_else|or_return|package|proc|return|struct|switch|transmute|typeid|union|using|when|where)\b/,"procedure-name":{pattern:/\b\w+(?=[ \t]*\()/,alias:"function"},boolean:/\b(?:false|nil|true)\b/,"constant-parameter-sign":{pattern:/\$/,alias:"important"},undefined:{pattern:/---/,alias:"operator"},arrow:{pattern:/->/,alias:"punctuation"},operator:/\+\+|--|\.\.[<=]?|(?:&~|[-!*+/=~]|[%&<>|]{1,2})=?|[?^]/,punctuation:/[(),.:;@\[\]{}]/}})(D);(function(p){p.languages.opencl=p.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),p.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var b={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};p.languages.insertBefore("c","keyword",b),p.languages.cpp&&(b["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},p.languages.insertBefore("cpp","keyword",b))})(D);D.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|π|𝜏|ℇ/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|µs|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},D.languages.qasm=D.languages.openqasm;D.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/};D.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:function(){var p=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return p=p.map(function(b){return b.split("").join(" *")}).join("|"),RegExp("\\b(?:"+p+")\\b")}(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/};(function(p){var b=p.languages.parser=p.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});b=p.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:b.keyword,variable:b.variable,function:b.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:b.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:b.punctuation}}}),p.languages.insertBefore("inside","punctuation",{expression:b.expression,keyword:b.keyword,variable:b.variable,function:b.function,escape:b.escape,"parser-punctuation":{pattern:b.punctuation,alias:"punctuation"}},b.tag.inside["attr-value"])})(D);D.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},D.languages.pascal.asm.inside=D.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),D.languages.objectpascal=D.languages.pascal;(function(p){var b="(?:\\b\\w+(?:<braces>)?|<braces>)".replace(/<braces>/g,function(){return"\\((?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))*\\)"}),x=p.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp("(\\btype\\s+\\w+\\s+is\\s+)<type>".replace(/<type>/g,function(){return b}),"i"),lookbehind:!0,inside:null},{pattern:RegExp("<type>(?=\\s+is\\b)".replace(/<type>/g,function(){return b}),"i"),inside:null},{pattern:RegExp("(:\\s*)<type>".replace(/<type>/g,function(){return b})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},T=["comment","keyword","builtin","operator","punctuation"].reduce(function(I,B){return I[B]=x[B],I},{});x["class-name"].forEach(function(I){I.inside=T})})(D);D.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/};D.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},D.languages.px=D.languages.pcaxis;D.languages.peoplecode={comment:RegExp(["/\\*[^]*?\\*/","\\bREM[^;]*;","<\\*(?:[^<*]|\\*(?!>)|<(?!\\*)|<\\*(?:(?!\\*>)[^])*\\*>)*\\*>","/\\+[^]*?\\+/"].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},D.languages.pcode=D.languages.peoplecode;(function(p){var b="(?:\\((?:[^()\\\\]|\\\\[^])*\\)|\\{(?:[^{}\\\\]|\\\\[^])*\\}|\\[(?:[^[\\]\\\\]|\\\\[^])*\\]|<(?:[^<>\\\\]|\\\\[^])*>)";p.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp("\\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\\s*(?:"+["([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[^])*\\1","([a-zA-Z0-9])(?:(?!\\2)[^\\\\]|\\\\[^])*\\2",b].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp("\\b(?:m|qr)(?![a-zA-Z0-9])\\s*(?:"+["([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[^])*\\1","([a-zA-Z0-9])(?:(?!\\2)[^\\\\]|\\\\[^])*\\2",b].join("|")+")[msixpodualngc]*"),greedy:!0},{pattern:RegExp("(^|[^-])\\b(?:s|tr|y)(?![a-zA-Z0-9])\\s*(?:"+["([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\2)[^\\\\]|\\\\[^])*\\2(?:(?!\\2)[^\\\\]|\\\\[^])*\\2","([a-zA-Z0-9])(?:(?!\\3)[^\\\\]|\\\\[^])*\\3(?:(?!\\3)[^\\\\]|\\\\[^])*\\3",b+"\\s*"+b].join("|")+")[msixpodualngcer]*"),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(D);(function(p){var b="(?:\\b[a-zA-Z]\\w*|[|\\\\[\\]])+";p.languages.phpdoc=p.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+b+"\\s+)?)\\$\\w+"),lookbehind:!0}}),p.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+b),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),p.languages.javadoclike.addSupport("php",p.languages.phpdoc)})(D);D.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}});(function(p){var b=/\$\w+|%[a-z]+%/;p.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:b}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp("(^|[^-.<>?|\\\\[\\]ox])[[?]?[ox]?(?:(?:-+(?:[drlu]|do|down|le|left|ri|right|up)-+|\\.+(?:[drlu]|do|down|le|left|ri|right|up)\\.+|-+(?:\\[[^[\\]]*\\]-*)?|\\[[^[\\]]*\\]-+|\\.+(?:\\[[^[\\]]*\\]\\.*)?|\\[[^[\\]]*\\]\\.+)(?:>{1,2}|/{1,2}|\\\\{1,2}|\\|>|[#*^+{xo])|(?:<{1,2}|/{1,2}|\\\\{1,2}|<\\||[#*^+}xo])(?:-+(?:[drlu]|do|down|le|left|ri|right|up)-+|\\.+(?:[drlu]|do|down|le|left|ri|right|up)\\.+|-+(?:\\[[^[\\]]*\\]-*)?|\\[[^[\\]]*\\]-+|\\.+(?:\\[[^[\\]]*\\]\\.*)?|\\[[^[\\]]*\\]\\.+)(?:(?:>{1,2}|/{1,2}|\\\\{1,2}|\\|>|[#*^+{xo]))?)[ox]?[\\]?]?(?![-.<>?|\\\\\\]ox])"),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:b,punctuation:/[:,;()[\]{}]|\.{3}/},p.languages["plant-uml"].arrow.inside.expression.inside=p.languages["plant-uml"],p.languages.plantuml=p.languages["plant-uml"]})(D);D.languages.plsql=D.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),D.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}});D.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},D.languages.pq=D.languages.powerquery,D.languages.mscript=D.languages.powerquery;(function(p){var b=p.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};b.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:b},boolean:b.boolean,variable:b.variable}})(D);D.languages.processing=D.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),D.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}});D.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/};(function(p){var b=["on","ignoring","group_right","group_left","by","without"],x=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"].concat(b,["offset"]);p.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+b.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+x.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(D);D.languages.properties={comment:/^[ \t]*[#!].*$/m,value:{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0,alias:"attr-value"},key:{pattern:/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,alias:"attr-name"},punctuation:/[=:]/};(function(p){var b=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;p.languages.protobuf=p.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),p.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:b}},builtin:b,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(D);(function(p){p.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:p.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:p.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:p.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:p.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:p.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:p.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:p.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:p.languages.javascript}],punctuation:/[.\-!=|]+/};for(var b=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],x={},T=0,I=b.length;T<I;T++){var B=b[T];B=typeof B=="string"?{filter:B,language:B}:B,p.languages[B.language]&&(x["filter-"+B.filter]={pattern:RegExp(`(^([	 ]*)):<filter_name>(?:(?:\r?
|\r(?!
))(?:\\2[	 ].+|\\s*?(?=\r?
|\r)))+`.replace("<filter_name>",function(){return B.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[B.language,"language-"+B.language],inside:p.languages[B.language]}}})}p.languages.insertBefore("pug","filter",x)})(D);(function(p){p.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var b=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:p.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];p.languages.puppet.heredoc[0].inside.interpolation=b,p.languages.puppet.string.inside["double-quoted"].inside.interpolation=b})(D);(function(p){p.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/},["c",{lang:"c++",alias:"cpp"},"fortran"].forEach(function(b){var x=b;if(typeof b!="string"&&(x=b.alias,b=b.lang),p.languages[x]){var T={};T["inline-lang-"+x]={pattern:RegExp("%< *-\\*- *<lang>\\d* *-\\*-[^]+?%>".replace("<lang>",b.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:p.util.clone(p.languages.pure["inline-lang"].inside)},T["inline-lang-"+x].inside.rest=p.util.clone(p.languages[x]),p.languages.insertBefore("pure","inline-lang",T)}}),p.languages.c&&(p.languages.pure["inline-lang"].inside.rest=p.util.clone(p.languages.c))})(D);D.languages.purebasic=D.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+\$?|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),D.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete D.languages.purebasic["class-name"],delete D.languages.purebasic.boolean,D.languages.pbfasm=D.languages.purebasic;D.languages.purescript=D.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|∀/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[D.languages.haskell.operator[0],D.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),D.languages.purs=D.languages.purescript;D.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},D.languages.python["string-interpolation"].inside.interpolation.inside.rest=D.languages.python,D.languages.py=D.languages.python;(function(p){function b(j,W){return j.replace(/<<(\d+)>>/g,function(V,Q){return"(?:"+W[+Q]+")"})}function x(j,W,V){return RegExp(b(j,W),V||"")}var T=RegExp("\\b(?:"+"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within".trim().replace(/ /g,"|")+")\\b"),I=b("<<0>>(?:\\s*\\.\\s*<<0>>)*",["\\b[A-Za-z_]\\w*\\b"]),B={keyword:T,punctuation:/[<>()?,.:[\]]/},P='"(?:\\\\.|[^\\\\"])*"';p.languages.qsharp=p.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:x("(^|[^$\\\\])<<0>>",[P]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:x("(\\b(?:as|open)\\s+)<<0>>(?=\\s*(?:;|as\\b))",[I]),lookbehind:!0,inside:B},{pattern:x("(\\bnamespace\\s+)<<0>>(?=\\s*\\{)",[I]),lookbehind:!0,inside:B}],keyword:T,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),p.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var F=function(j,W){for(var V=0;V<2;V++)j=j.replace(/<<self>>/g,function(){return"(?:"+j+")"});return j.replace(/<<self>>/g,"[^\\s\\S]")}(b('\\{(?:[^"{}]|<<0>>|<<self>>)*\\}',[P]));p.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:x('\\$"(?:\\\\.|<<0>>|[^\\\\"{])*"',[F]),greedy:!0,inside:{interpolation:{pattern:x("((?:^|[^\\\\])(?:\\\\\\\\)*)<<0>>",[F]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:p.languages.qsharp}}},string:/[\s\S]+/}}})})(D),D.languages.qs=D.languages.qsharp;D.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/};(function(p){for(var b=`(?:[^\\\\()[\\]{}"'/]|<string>|/(?![*/])|<comment>|\\(<expr>*\\)|\\[<expr>*\\]|\\{<expr>*\\}|\\\\[^])`.replace(/<string>/g,function(){return`"(?:\\\\.|[^\\\\"\r
])*"|'(?:\\\\.|[^\\\\'\r
])*'`}).replace(/<comment>/g,function(){return"//.*(?!.)|/\\*(?:[^*]|\\*(?!/))*\\*/"}),x=0;x<2;x++)b=b.replace(/<expr>/g,function(){return b});b=b.replace(/<expr>/g,"[^\\s\\S]"),p.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp("((?:^|;)[ 	]*)function\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*\\(<js>*\\)\\s*\\{<js>*\\}".replace(/<js>/g,function(){return b}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:p.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp("(:[ 	]*)(?![\\s;}[])(?:(?!$|[;}])<js>)+".replace(/<js>/g,function(){return b}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:p.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(D);D.languages.qore=D.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/});D.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/};D.languages.racket=D.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),D.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),D.languages.rkt=D.languages.racket;(function(p){function b(ae,pe){for(var Z=0;Z<pe;Z++)ae=ae.replace(/<self>/g,function(){return"(?:"+ae+")"});return ae.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,`(?:@(?!")|"(?:[^\r
\\\\"]|\\\\.)*"|@"(?:[^\\\\"]|""|\\\\[^])*"(?!")|'(?:(?:[^\r
'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'|(?=[^\\\\](?!'))))`).replace(/<comment>/g,`(?:/(?![/*])|//.*[\r
]|/\\*[^*]*(?:\\*(?!/)[^*]*)*\\*/)`)}var x=b(`\\((?:[^()'"@/]|<str>|<comment>|<self>)*\\)`,2),T=b(`\\[(?:[^\\[\\]'"@/]|<str>|<comment>|<self>)*\\]`,1),I=b(`\\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\\}`,2),B="@(?:await\\b\\s*)?(?:(?!await\\b)\\w+\\b|"+x+")(?:[?!]?\\.\\w+\\b|(?:"+b(`<(?:[^<>'"@/]|<comment>|<self>)*>`,1)+")?"+x+"|"+T+")*(?![?!\\.(\\[]|<(?!/))",P=`(?:"[^"@]*"|'[^'@]*'|[^\\s'"@>=]+(?=[\\s>])|["'][^"'@]*(?:(?:@(?![\\w()])|`+B+`)[^"'@]*)+["'])`,F="(?:\\s(?:\\s*[^\\s>/=]+(?:\\s*=\\s*<tagAttrValue>|(?=[\\s/>])))+)?".replace(/<tagAttrValue>/,P),j="(?!\\d)[^\\s>/=$<%]+"+F+"\\s*/?>",W="\\B@?(?:<([a-zA-Z][\\w:]*)"+F+"\\s*>(?:[^<]|</?(?!\\1\\b)"+j+"|"+b("<\\1"+F+"\\s*>(?:[^<]|</?(?!\\1\\b)"+j+"|<self>)*</\\1\\s*>",2)+")*</\\1\\s*>|<"+j+")";p.languages.cshtml=p.languages.extend("markup",{});var V={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:p.languages.insertBefore("csharp","string",{html:{pattern:RegExp(W),greedy:!0,inside:p.languages.cshtml}},{csharp:p.languages.extend("csharp",{})})},Q={pattern:RegExp("(^|[^@])"+B),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:V}};p.languages.cshtml.tag.pattern=RegExp("</?"+j),p.languages.cshtml.tag.inside["attr-value"].pattern=RegExp("=\\s*"+P),p.languages.insertBefore("inside","punctuation",{value:Q},p.languages.cshtml.tag.inside["attr-value"]),p.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp("(^|[^@])@(?:"+[I,"(?:code|functions)\\s*"+I,"(?:for|foreach|lock|switch|using|while)\\s*"+x+"\\s*"+I,"do\\s*"+I+"\\s*while\\s*"+x+"(?:\\s*;)?","try\\s*"+I+"\\s*catch\\s*"+x+"\\s*"+I+"\\s*finally\\s*"+I,"if\\s*"+x+"\\s*"+I+"(?:\\s*else(?:\\s+if\\s*"+x+")?\\s*"+I+")*","helper\\s+\\w+\\s*"+x+"\\s*"+I].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:V}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:V}},value:Q,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),p.languages.razor=p.languages.cshtml})(D);(function(p){var b=p.util.clone(p.languages.javascript),x="(?:\\{<S>*\\.{3}(?:[^{}]|<BRACES>)*\\})";function T(P,F){return P=P.replace(/<S>/g,function(){return"(?:\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))\\*/)"}).replace(/<BRACES>/g,function(){return"(?:\\{(?:\\{(?:\\{[^{}]*\\}|[^{}])*\\}|[^{}])*\\})"}).replace(/<SPREAD>/g,function(){return x}),RegExp(P,F)}x=T(x).source,p.languages.jsx=p.languages.extend("markup",b),p.languages.jsx.tag.pattern=T(`</?(?:[\\w.:-]+(?:<S>+(?:[\\w.:$-]+(?:=(?:"(?:\\\\[^]|[^\\\\"])*"|'(?:\\\\[^]|[^\\\\'])*'|[^\\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*/?)?>`),p.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,p.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,p.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,p.languages.jsx.tag.inside.comment=b.comment,p.languages.insertBefore("inside","attr-name",{spread:{pattern:T("<SPREAD>"),inside:p.languages.jsx}},p.languages.jsx.tag),p.languages.insertBefore("inside","special-attr",{script:{pattern:T("=<BRACES>"),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:p.languages.jsx}}},p.languages.jsx.tag);var I=function(P){return P?typeof P=="string"?P:typeof P.content=="string"?P.content:P.content.map(I).join(""):""},B=function(P){for(var F=[],j=0;j<P.length;j++){var W=P[j],V=!1;if(typeof W!="string"&&(W.type==="tag"&&W.content[0]&&W.content[0].type==="tag"?W.content[0].content[0].content==="</"?F.length>0&&F[F.length-1].tagName===I(W.content[0].content[1])&&F.pop():W.content[W.content.length-1].content==="/>"||F.push({tagName:I(W.content[0].content[1]),openedBraces:0}):F.length>0&&W.type==="punctuation"&&W.content==="{"?F[F.length-1].openedBraces++:F.length>0&&F[F.length-1].openedBraces>0&&W.type==="punctuation"&&W.content==="}"?F[F.length-1].openedBraces--:V=!0),(V||typeof W=="string")&&F.length>0&&F[F.length-1].openedBraces===0){var Q=I(W);j<P.length-1&&(typeof P[j+1]=="string"||P[j+1].type==="plain-text")&&(Q+=I(P[j+1]),P.splice(j+1,1)),j>0&&(typeof P[j-1]=="string"||P[j-1].type==="plain-text")&&(Q=I(P[j-1])+Q,P.splice(j-1,1),j--),P[j]=new p.Token("plain-text",Q,null,Q)}W.content&&typeof W.content!="string"&&B(W.content)}};p.hooks.add("after-tokenize",function(P){P.language!=="jsx"&&P.language!=="tsx"||B(P.tokens)})})(D);(function(p){var b=p.util.clone(p.languages.typescript);p.languages.tsx=p.languages.extend("jsx",b),delete p.languages.tsx.parameter,delete p.languages.tsx["literal-property"];var x=p.languages.tsx.tag;x.pattern=RegExp("(^|[^\\w$]|(?=</))(?:"+x.pattern.source+")",x.pattern.flags),x.lookbehind=!0})(D);D.languages.reason=D.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),D.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete D.languages.reason.function;(function(p){var b={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},x=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,T="(?:[^\\\\-]|"+x.source+")",I=RegExp(T+"-"+T),B={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};p.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:I,inside:{escape:x,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":b,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:x}},"special-escape":b,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":B}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:x,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":B}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(D);D.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/};D.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},D.languages.rpy=D.languages.renpy;D.languages.rescript={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},char:{pattern:/'(?:[^\r\n\\]|\\(?:.|\w+))'/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*|@[a-z.]*|#[A-Za-z]\w*|#\d/,function:{pattern:/[a-zA-Z]\w*(?=\()|(\.)[a-z]\w*/,lookbehind:!0},number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,boolean:/\b(?:false|true)\b/,"attr-value":/[A-Za-z]\w*(?==)/,constant:{pattern:/(\btype\s+)[a-z]\w*/,lookbehind:!0},tag:{pattern:/(<)[a-z]\w*|(?:<\/)[a-z]\w*/,lookbehind:!0,inside:{operator:/<|>|\//}},keyword:/\b(?:and|as|assert|begin|bool|class|constraint|do|done|downto|else|end|exception|external|float|for|fun|function|if|in|include|inherit|initializer|int|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|string|switch|then|to|try|type|when|while|with)\b/,operator:/\.{3}|:[:=]?|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/,punctuation:/[(){}[\],;.]/},D.languages.insertBefore("rescript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"tag"},rest:D.languages.rescript}},string:/[\s\S]+/}}}),D.languages.res=D.languages.rescript;D.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-•‣⁃]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?|—|\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}};D.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/};D.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/};(function(p){var b={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},x={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function T(F,j){var W={"section-header":{pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"}};for(var V in j)W[V]=j[V];return W.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},W.variable=x,W.comment=b,{pattern:RegExp(`^ ?\\*{3}[ 	]*<name>[ 	]*\\*{3}(?:.|[\r
](?!\\*{3}))*`.replace(/<name>/g,function(){return F}),"im"),alias:"section",inside:W}}var I={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},B={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:x}},P={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:x}};p.languages.robotframework={settings:T("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:T("Variables"),"test-cases":T("Test Cases",{"test-name":B,documentation:I,property:P}),keywords:T("Keywords",{"keyword-name":B,documentation:I,property:P}),tasks:T("Tasks",{"task-name":B,documentation:I,property:P}),comment:b},p.languages.robot=p.languages.robotframework})(D);(function(p){for(var b="/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",x=0;x<2;x++)b=b.replace(/<self>/g,function(){return b});b=b.replace(/<self>/g,function(){return"[^\\s\\S]"}),p.languages.rust={comment:[{pattern:RegExp("(^|[^\\\\])"+b),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},p.languages.rust["closure-params"].inside.rest=p.languages.rust,p.languages.rust.attribute.inside.string=p.languages.rust.string})(D);(function(p){var b=`(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))`,x=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,T={pattern:RegExp(b+"[bx]"),alias:"number"},I={pattern:/&[a-z_]\w*/i},B={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},P={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},F=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],j={pattern:RegExp(b),greedy:!0},W=/[$%@.(){}\[\];,\\]/,V={pattern:/%?\b\w+(?=\()/,alias:"keyword"},Q={function:V,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":I,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:x,"numeric-constant":T,punctuation:W,string:j},ae={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},pe={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},Z={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},te={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},ue="aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce",he={pattern:RegExp("(^|\\s)(?:action\\s+)?(?:<act>)\\.[a-z]+\\b[^;]+".replace(/<act>/g,function(){return ue}),"i"),lookbehind:!0,inside:{keyword:RegExp("(?:<act>)\\.[a-z]+\\b".replace(/<act>/g,function(){return ue}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:F,function:V,"arg-value":Q["arg-value"],operator:Q.operator,argument:Q.arg,number:x,"numeric-constant":T,punctuation:W,string:j}},me={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};p.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(`^[ 	]*(?:select|alter\\s+table|(?:create|describe|drop)\\s+(?:index|table(?:\\s+constraints)?|view)|create\\s+unique\\s+index|insert\\s+into|update)(?:<str>|[^;"'])+;`.replace(/<str>/g,function(){return b}),"im"),alias:"language-sql",inside:p.languages.sql},"global-statements":Z,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:x,"numeric-constant":T,punctuation:W,string:j}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:F,groovy:{pattern:RegExp(`(^[ 	]*submit(?:\\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)`.replace(/<str>/g,function(){return b}),"im"),lookbehind:!0,alias:"language-groovy",inside:p.languages.groovy},keyword:me,"submit-statement":te,"global-statements":Z,number:x,"numeric-constant":T,punctuation:W,string:j}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:F,lua:{pattern:RegExp(`(^[ 	]*submit(?:\\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)`.replace(/<str>/g,function(){return b}),"im"),lookbehind:!0,alias:"language-lua",inside:p.languages.lua},keyword:me,"submit-statement":te,"global-statements":Z,number:x,"numeric-constant":T,punctuation:W,string:j}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:F,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:Q}},"cas-actions":he,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:Q},step:P,keyword:me,function:V,format:ae,altformat:pe,"global-statements":Z,number:x,"numeric-constant":T,punctuation:W,string:j}},"proc-args":{pattern:RegExp(`(^proc\\s+\\w+\\s+)(?!\\s)(?:[^;"']|<str>)+;`.replace(/<str>/g,function(){return b}),"im"),lookbehind:!0,inside:Q},"macro-keyword":B,"macro-variable":I,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":B,"macro-variable":I,"escaped-char":{pattern:/%['"()<>=¬^~;,#]/},punctuation:W}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:F,number:x,"numeric-constant":T}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:Q},"cas-actions":he,comment:F,function:V,format:ae,altformat:pe,"numeric-constant":T,datetime:{pattern:RegExp(b+"(?:dt?|t)"),alias:"number"},string:j,step:P,keyword:me,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:x,operator:/\*\*?|\|\|?|!!?|¦¦?|<[>=]?|>[<=]?|[-+\/=&]|[~¬^]=?/,punctuation:W}})(D);(function(p){p.languages.sass=p.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),p.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete p.languages.sass.atrule;var b=/\$[-\w]+|#\{\$[-\w]+\}/,x=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];p.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:b,operator:x}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:b,operator:x,important:p.languages.sass.important}}}),delete p.languages.sass.property,delete p.languages.sass.important,p.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(D);D.languages.scss=D.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),D.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),D.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),D.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),D.languages.scss.atrule.inside.rest=D.languages.scss;D.languages.scala=D.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),D.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:D.languages.scala}}},string:/[\s\S]+/}}}),delete D.languages.scala["class-name"],delete D.languages.scala.function,delete D.languages.scala.constant;(function(p){var b=['"(?:\\\\[^]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^"\\\\`$])*"',"'[^']*'","\\$'(?:[^'\\\\]|\\\\[^])*'",`<<-?\\s*(["']?)(\\w+)\\1\\s[^]*?[\r
]\\2`].join("|");p.languages["shell-session"]={command:{pattern:RegExp(`^(?:[^\\s@:$#%*!/\\\\]+@[^\r
@:$#%*!/\\\\]+(?::[^\0-\\x1F$#%*?"<>:;|]+)?|[/~.][^\0-\\x1F$#%*?"<>@:;|]*)?[$#%](?=\\s)`+`(?:[^\\\\\r
 	'"<$]|[ 	](?:(?!#)|#.*$)|\\\\(?:[^\r]|\r
?)|\\$(?!')|<(?!<)|<<str>>)+`.replace(/<<str>>/g,function(){return b}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:p.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},p.languages["sh-session"]=p.languages.shellsession=p.languages["shell-session"]})(D);D.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/};D.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/};(function(p){p.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:p.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},p.languages.smarty["embedded-php"].inside.smarty.inside=p.languages.smarty,p.languages.smarty.string[0].inside.interpolation.inside.expression.inside=p.languages.smarty;var b=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,x=RegExp("\\{\\*[^]*?\\*\\}|\\{php\\}[^]*?\\{/php\\}|"+`\\{(?:[^{}"']|<str>|\\{(?:[^{}"']|<str>|\\{(?:[^{}"']|<str>)*\\})*\\})*\\}`.replace(/<str>/g,function(){return b.source}),"g");p.hooks.add("before-tokenize",function(T){var I=!1;p.languages["markup-templating"].buildPlaceholders(T,"smarty",x,function(B){return B==="{/literal}"&&(I=!1),!I&&(B==="{literal}"&&(I=!0),!0)})}),p.hooks.add("after-tokenize",function(T){p.languages["markup-templating"].tokenizePlaceholders(T,"smarty")})})(D);(function(p){var b=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;p.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp("((?:^|[^:]):\\s*)<TERMINAL>(?:\\s*(?:(?:\\*|->)\\s*<TERMINAL>|,\\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\\s+<LONG-ID>)))*".replace(/<NOT-LAST>/g,function(){return"\\s*(?:[*,]|->)"}).replace(/<TERMINAL>/g,function(){return"(?:'[\\w']*|<LONG-ID>|\\((?:[^()]|\\([^()]*\\))*\\)|\\{(?:[^{}]|\\{[^{}]*\\})*\\})(?:\\s+<LONG-ID>)*"}).replace(/<LONG-ID>/g,function(){return"(?!<KEYWORD>)[a-z\\d_][\\w'.]*"}).replace(/<KEYWORD>/g,function(){return b.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:b,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},p.languages.sml["class-name"][0].inside=p.languages.sml,p.languages.smlnj=p.languages.sml})(D);D.languages.solidity=D.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),D.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),D.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),D.languages.sol=D.languages.solidity;(function(p){var b={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};p.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:b}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:b}},guid:b,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},p.languages.sln=p.languages["solution-file"]})(D);(function(p){var b=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,x=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;p.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:b,greedy:!0},number:x,punctuation:/[\[\].?]/}},string:{pattern:b,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:x,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},p.hooks.add("before-tokenize",function(T){var I=!1;p.languages["markup-templating"].buildPlaceholders(T,"soy",/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,function(B){return B==="{/literal}"&&(I=!1),!I&&(B==="{literal}"&&(I=!0),!0)})}),p.hooks.add("after-tokenize",function(T){p.languages["markup-templating"].tokenizePlaceholders(T,"soy")})})(D);D.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},D.languages.trig=D.languages.turtle;D.languages.sparql=D.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),D.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),D.languages.rq=D.languages.sparql;D.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/};D.languages.sqf=D.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),D.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:D.languages.sqf.comment}}}),delete D.languages.sqf["class-name"];D.languages.squirrel=D.languages.extend("clike",{comment:[D.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),D.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),D.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}});(function(p){var b=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;p.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+b.source+"\\s*\\(\\s*)[a-zA-Z]\\w*"),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,b],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},p.languages.stan.constraint.inside.expression.inside=p.languages.stan})(D);D.languages.stata={comment:[{pattern:/(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|\s)\/\/.*|\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0}],"string-literal":{pattern:/"[^"\r\n]*"|[‘`']".*?"[’`']/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}|[‘`']\w[^’`'\r\n]*[’`']/,inside:{punctuation:/^\$\{|\}$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},mata:{pattern:/(^[ \t]*mata[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-mata",inside:D.languages.mata},java:{pattern:/(^[ \t]*java[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-java",inside:D.languages.java},python:{pattern:/(^[ \t]*python[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-python",inside:D.languages.python},command:{pattern:/(^[ \t]*(?:\.[ \t]+)?(?:(?:bayes|bootstrap|by|bysort|capture|collect|fmm|fp|frame|jackknife|mfp|mi|nestreg|noisily|permute|quietly|rolling|simulate|statsby|stepwise|svy|version|xi)\b[^:\r\n]*:[ \t]*|(?:capture|noisily|quietly|version)[ \t]+)?)[a-zA-Z]\w*/m,lookbehind:!0,greedy:!0,alias:"keyword"},variable:/\$\w+|[‘`']\w[^’`'\r\n]*[’`']/,keyword:/\b(?:bayes|bootstrap|by|bysort|capture|clear|collect|fmm|fp|frame|if|in|jackknife|mi[ \t]+estimate|mfp|nestreg|noisily|of|permute|quietly|rolling|simulate|sort|statsby|stepwise|svy|varlist|version|xi)\b/,boolean:/\b(?:off|on)\b/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+/,function:/\b[a-z_]\w*(?=\()/i,operator:/\+\+|--|##?|[<>!=~]=?|[+\-*^&|/]/,punctuation:/[(){}[\],:]/},D.languages.stata["string-literal"].inside.interpolation.inside.expression.inside=D.languages.stata;D.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/};(function(p){var b={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},x={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},T={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:b,number:x,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:b,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:x,punctuation:/[{}()\[\];:,]/};T.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:T}},T.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:T}},p.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:T}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:T}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:T}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:T.interpolation}},rest:T}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:T.interpolation,comment:T.comment,punctuation:/[{},]/}},func:T.func,string:T.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:T.interpolation,punctuation:/[{}()\[\];:.]/}})(D);D.languages.supercollider={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^"\\]|\\[\s\S])*"/,lookbehind:!0,greedy:!0},char:{pattern:/\$(?:[^\\\r\n]|\\.)/,greedy:!0},symbol:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'|\\\w+/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|arg|classvar|const|nil|var|while)\b/,boolean:/\b(?:false|true)\b/,label:{pattern:/\b[a-z_]\w*(?=\s*:)/,alias:"property"},number:/\b(?:inf|pi|0x[0-9a-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(?:pi)?|\d+r[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)?|\d+[sb]{1,4}\d*)\b/,"class-name":/\b[A-Z]\w*\b/,operator:/\.{2,3}|#(?![[{])|&&|[!=]==?|\+>>|\+{1,3}|-[->]|=>|>>|\?\?|@\|?@|\|(?:@|[!=]=)?\||!\?|<[!=>]|\*{1,2}|<{2,3}\*?|[-!%&/<>?@|=`]/,punctuation:/[{}()[\].:,;]|#[[{]/},D.languages.sclang=D.languages.supercollider;D.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(`(^|[^"#])(?:"(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|\r
|[^(])|[^\\\\\r
"])*"|"""(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|[^(])|[^\\\\"]|"(?!""))*""")(?!["#])`),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(`(^|[^"#])(#+)(?:"(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|\r
|[^#])|[^\\\\\r
])*?"|"""(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|[^#])|[^\\\\])*?""")\\2`),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp("#(?:(?:elseif|if)\\b(?:[ 	]*(?:![ 	]*)?(?:\\b\\w+\\b(?:[ 	]*\\((?:[^()]|\\([^()]*\\))*\\))?|\\((?:[^()]|\\([^()]*\\))*\\))(?:[ 	]*(?:&&|\\|\\|))?)+|(?:else|endif)\\b)"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},D.languages.swift["string-literal"].forEach(function(p){p.inside.interpolation.inside=D.languages.swift});(function(p){var b={pattern:/^[;#].*/m,greedy:!0},x=`"(?:[^\r
"\\\\]|\\\\(?:[^\r]|\r
?))*"(?!\\S)`;p.languages.systemd={comment:b,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp("(=[ 	]*(?!\\s))(?:"+x+`|(?=[^"\r
]))(?:[^\\s\\\\]|[ 	]+(?:(?![ 	"])|`+x+`)|\\\\[\r
]+(?:[#;].*[\r
]+)*(?![#;]))*`),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:b,quoted:{pattern:RegExp("(^|\\s)"+x),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(D);(function(p){function b(x,T,I){return{pattern:RegExp("<#"+x+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+x+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:T,alias:I}}}}p.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:function(x){var T=p.languages[x],I="language-"+x;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:b("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:b("=",T,I),"class-feature":b("\\+",T,I),standard:b("",T,I)}}}}})})(D);D.languages.t4=D.languages["t4-cs"]=D.languages["t4-templating"].createT4("csharp");D.languages.vbnet=D.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/});D.languages["t4-vb"]=D.languages["t4-templating"].createT4("vbnet");(function(p){var b=/[*&][^\s[\]{},]+/,x=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,T="(?:"+x.source+"(?:[ 	]+"+b.source+")?|"+b.source+"(?:[ 	]+"+x.source+")?)",I="(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ 	]*(?:(?![#:])<PLAIN>|:<PLAIN>))*".replace(/<PLAIN>/g,function(){return"[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"}),B=`"(?:[^"\\\\\r
]|\\\\.)*"|'(?:[^'\\\\\r
]|\\\\.)*'`;function P(F,j){j=(j||"").replace(/m/g,"")+"m";var W=`([:\\-,[{]\\s*(?:\\s<<prop>>[ 	]+)?)(?:<<value>>)(?=[ 	]*(?:$|,|\\]|\\}|(?:[\r
]\\s*)?#))`.replace(/<<prop>>/g,function(){return T}).replace(/<<value>>/g,function(){return F});return RegExp(W,j)}p.languages.yaml={scalar:{pattern:RegExp(`([\\-:]\\s*(?:\\s<<prop>>[ 	]+)?[|>])[ 	]*(?:((?:\r?
|\r)[ 	]+)\\S[^\r
]*(?:\\2[^\r
]+)*)`.replace(/<<prop>>/g,function(){return T})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(`((?:^|[:\\-,[{\r
?])[ 	]*(?:<<prop>>[ 	]+)?)<<key>>(?=\\s*:\\s)`.replace(/<<prop>>/g,function(){return T}).replace(/<<key>>/g,function(){return"(?:"+I+"|"+B+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:P("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ 	]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ 	]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?"),lookbehind:!0,alias:"number"},boolean:{pattern:P("false|true","i"),lookbehind:!0,alias:"important"},null:{pattern:P("null|~","i"),lookbehind:!0,alias:"important"},string:{pattern:P(B),lookbehind:!0,greedy:!0},number:{pattern:P("[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","i"),lookbehind:!0},tag:x,important:b,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},p.languages.yml=p.languages.yaml})(D);D.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:D.languages.yaml,alias:"language-yaml"}};D.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/};(function(p){p.languages.tt2=p.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),p.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),p.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),p.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete p.languages.tt2.string,p.hooks.add("before-tokenize",function(b){p.languages["markup-templating"].buildPlaceholders(b,"tt2",/\[%[\s\S]+?%\]/g)}),p.hooks.add("after-tokenize",function(b){p.languages["markup-templating"].tokenizePlaceholders(b,"tt2")})})(D);(function(p){function b(j,W){return RegExp(j.replace(/<MOD>/g,function(){return`(?:\\([^|()
]+\\)|\\[[^\\]
]+\\]|\\{[^}
]+\\})`}).replace(/<PAR>/g,function(){return`(?:\\)|\\((?![^|()
]+\\)))`}),W||"")}var x={css:{pattern:/\{[^{}]+\}/,inside:{rest:p.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},T=p.languages.textile=p.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:b("^[a-z]\\w*(?:<MOD>|<PAR>|[<>=])*\\."),inside:{modifier:{pattern:b("(^[a-z]\\w*)(?:<MOD>|<PAR>|[<>=])+(?=\\.)"),lookbehind:!0,inside:x},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:b("^[*#]+<MOD>*\\s+\\S.*","m"),inside:{modifier:{pattern:b("(^[*#]+)<MOD>+"),lookbehind:!0,inside:x},punctuation:/^[*#]+/}},table:{pattern:b("^(?:(?:<MOD>|<PAR>|[<>=^~])+\\.\\s*)?(?:\\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+\\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+\\.))[^|]*)+\\|","m"),inside:{modifier:{pattern:b(`(^|\\|(?:\r?
|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\\\/]\\d+)+(?=\\.)`),lookbehind:!0,inside:x},punctuation:/\||^\./}},inline:{pattern:b("(^|[^a-zA-Z\\d])(\\*\\*|__|\\?\\?|[*_%@+\\-^~])<MOD>*.+?\\2(?![a-zA-Z\\d])"),lookbehind:!0,inside:{bold:{pattern:b("(^(\\*\\*?)<MOD>*).+?(?=\\2)"),lookbehind:!0},italic:{pattern:b("(^(__?)<MOD>*).+?(?=\\2)"),lookbehind:!0},cite:{pattern:b("(^\\?\\?<MOD>*).+?(?=\\?\\?)"),lookbehind:!0,alias:"string"},code:{pattern:b("(^@<MOD>*).+?(?=@)"),lookbehind:!0,alias:"keyword"},inserted:{pattern:b("(^\\+<MOD>*).+?(?=\\+)"),lookbehind:!0},deleted:{pattern:b("(^-<MOD>*).+?(?=-)"),lookbehind:!0},span:{pattern:b("(^%<MOD>*).+?(?=%)"),lookbehind:!0},modifier:{pattern:b("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])<MOD>+"),lookbehind:!0,inside:x},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:b('"<MOD>*[^"]+":.+?(?=[^\\w/]?(?:\\s|$))'),inside:{text:{pattern:b('(^"<MOD>*)[^"]+(?=")'),lookbehind:!0},modifier:{pattern:b('(^")<MOD>+'),lookbehind:!0,inside:x},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:b("!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?=[^\\w/]?(?:\\s|$)))?"),inside:{source:{pattern:b("(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\\s()]+(?:\\([^)]+\\))?(?=!)"),lookbehind:!0,alias:"url"},modifier:{pattern:b("(^!)(?:<MOD>|<PAR>|[<>=])+"),lookbehind:!0,inside:x},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),I=T.phrase.inside,B={inline:I.inline,link:I.link,image:I.image,footnote:I.footnote,acronym:I.acronym,mark:I.mark};T.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var P=I.inline.inside;P.bold.inside=B,P.italic.inside=B,P.inserted.inside=B,P.deleted.inside=B,P.span.inside=B;var F=I.table.inside;F.inline=B.inline,F.link=B.link,F.image=B.image,F.footnote=B.footnote,F.acronym=B.acronym,F.mark=B.mark})(D);(function(p){function b(x){return x.replace(/__/g,function(){return`(?:[\\w-]+|'[^'
\r]*'|"(?:\\\\.|[^\\\\"\r
])*")`})}p.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(b("(^[	 ]*\\[\\s*(?:\\[\\s*)?)__(?:\\s*\\.\\s*__)*(?=\\s*\\])"),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(b("(^[	 ]*|[{,]\\s*)__(?:\\s*\\.\\s*__)*(?=\\s*=)"),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(D);(function(p){p.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var b=`#\\{(?:[^"{}]|\\{[^{}]*\\}|"(?:[^"\\\\\r
]|\\\\(?:\r
|[^]))*")*\\}`;p.languages.tremor["interpolated-string"]={pattern:RegExp('(^|[^\\\\])(?:"""(?:[^"\\\\#]|\\\\[^]|"(?!"")|#(?!\\{)|'+b+`)*"""|"(?:[^"\\\\\r
#]|\\\\(?:\r
|[^])|#(?!\\{)|`+b+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(b),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:p.languages.tremor}}},string:/[\s\S]+/}},p.languages.troy=p.languages.tremor,p.languages.trickle=p.languages.tremor})(D);D.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},D.hooks.add("before-tokenize",function(p){p.language==="twig"&&D.languages["markup-templating"].buildPlaceholders(p,"twig",/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g)}),D.hooks.add("after-tokenize",function(p){D.languages["markup-templating"].tokenizePlaceholders(p,"twig")});(function(p){var b=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;p.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:b}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:b,number:/^\d+$/,punctuation:/[,|:]/}},keyword:b,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},p.languages.tsconfig=p.languages.typoscript})(D);D.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},D.languages.uc=D.languages.uscript=D.languages.unrealscript;D.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/};D.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp("^//(?:[\\w\\-.~!$&'()*+,;=%:]*@)?(?:\\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\\.[\\w\\-.~!$&'()*+,;=]+)\\]|[\\w\\-.~!$&'()*+,;=%]*)(?::\\d*)?","m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},D.languages.url=D.languages.uri;(function(p){var b={pattern:/[\s\S]+/,inside:null};p.languages.v=p.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":b}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),b.inside=p.languages.v,p.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),p.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),p.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:p.languages.v.generic.inside}}}})})(D);D.languages.vala=D.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),D.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:D.languages.vala}},string:/[\s\S]+/}}}),D.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:D.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}});(function(p){p.languages.velocity=p.languages.extend("markup",{});var b={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};b.variable.inside={string:b.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:b.number,boolean:b.boolean,punctuation:b.punctuation},p.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:b}},variable:b.variable}),p.languages.velocity.tag.inside["attr-value"].inside.rest=p.languages.velocity})(D);D.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/};D.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|private|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|view|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/};D.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/};D.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},D.languages.vb=D.languages["visual-basic"],D.languages.vba=D.languages["visual-basic"];D.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/};D.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};(function(p){var b="(?:\\B-|\\b_|\\b)[A-Za-z][\\w-]*(?![\\w-])",x="(?:\\b(?:unsigned\\s+)?long\\s+long(?![\\w-])|\\b(?:unrestricted|unsigned)\\s+[a-z]+(?![\\w-])|(?!(?:unrestricted|unsigned)\\b)"+b+"(?:\\s*<(?:[^<>]|<[^<>]*>)*>)?)(?:\\s*\\?)?",T={};for(var I in p.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp("(\\bnamespace\\s+)"+b),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:T},{pattern:RegExp("(\\b(?:attribute|const|deleter|getter|optional|setter)\\s+)"+x),lookbehind:!0,inside:T},{pattern:RegExp("(\\bcallback\\s+"+b+"\\s*=\\s*)"+x),lookbehind:!0,inside:T},{pattern:RegExp("(\\btypedef\\b\\s*)"+x),lookbehind:!0,inside:T},{pattern:RegExp("(\\b(?:callback|dictionary|enum|interface(?:\\s+mixin)?)\\s+)(?!(?:interface|mixin)\\b)"+b),lookbehind:!0},{pattern:RegExp("(:\\s*)"+b),lookbehind:!0},RegExp(b+"(?=\\s+(?:implements|includes)\\b)"),{pattern:RegExp("(\\b(?:implements|includes)\\s+)"+b),lookbehind:!0},{pattern:RegExp(x+"(?=\\s*(?:\\.{3}\\s*)?"+b+"\\s*[(),;=])"),inside:T}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/},p.languages["web-idl"])I!=="class-name"&&(T[I]=p.languages["web-idl"][I]);p.languages.webidl=p.languages["web-idl"]})(D);D.languages.wgsl={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"builtin-attribute":{pattern:/(@)builtin\(.*?\)/,lookbehind:!0,inside:{attribute:{pattern:/^builtin/,alias:"attr-name"},punctuation:/[(),]/,"built-in-values":{pattern:/\b(?:frag_depth|front_facing|global_invocation_id|instance_index|local_invocation_id|local_invocation_index|num_workgroups|position|sample_index|sample_mask|vertex_index|workgroup_id)\b/,alias:"attr-value"}}},attributes:{pattern:/(@)(?:align|binding|compute|const|fragment|group|id|interpolate|invariant|location|size|vertex|workgroup_size)/i,lookbehind:!0,alias:"attr-name"},functions:{pattern:/\b(fn\s+)[_a-zA-Z]\w*(?=[(<])/,lookbehind:!0,alias:"function"},keyword:/\b(?:bitcast|break|case|const|continue|continuing|default|discard|else|enable|fallthrough|fn|for|function|if|let|loop|private|return|storage|struct|switch|type|uniform|var|while|workgroup)\b/,builtin:/\b(?:abs|acos|acosh|all|any|array|asin|asinh|atan|atan2|atanh|atomic|atomicAdd|atomicAnd|atomicCompareExchangeWeak|atomicExchange|atomicLoad|atomicMax|atomicMin|atomicOr|atomicStore|atomicSub|atomicXor|bool|ceil|clamp|cos|cosh|countLeadingZeros|countOneBits|countTrailingZeros|cross|degrees|determinant|distance|dot|dpdx|dpdxCoarse|dpdxFine|dpdy|dpdyCoarse|dpdyFine|exp|exp2|extractBits|f32|f64|faceForward|firstLeadingBit|floor|fma|fract|frexp|fwidth|fwidthCoarse|fwidthFine|i32|i64|insertBits|inverseSqrt|ldexp|length|log|log2|mat[2-4]x[2-4]|max|min|mix|modf|normalize|override|pack2x16float|pack2x16snorm|pack2x16unorm|pack4x8snorm|pack4x8unorm|pow|ptr|quantizeToF16|radians|reflect|refract|reverseBits|round|sampler|sampler_comparison|select|shiftLeft|shiftRight|sign|sin|sinh|smoothstep|sqrt|staticAssert|step|storageBarrier|tan|tanh|textureDimensions|textureGather|textureGatherCompare|textureLoad|textureNumLayers|textureNumLevels|textureNumSamples|textureSample|textureSampleBias|textureSampleCompare|textureSampleCompareLevel|textureSampleGrad|textureSampleLevel|textureStore|texture_1d|texture_2d|texture_2d_array|texture_3d|texture_cube|texture_cube_array|texture_depth_2d|texture_depth_2d_array|texture_depth_cube|texture_depth_cube_array|texture_depth_multisampled_2d|texture_multisampled_2d|texture_storage_1d|texture_storage_2d|texture_storage_2d_array|texture_storage_3d|transpose|trunc|u32|u64|unpack2x16float|unpack2x16snorm|unpack2x16unorm|unpack4x8snorm|unpack4x8unorm|vec[2-4]|workgroupBarrier)\b/,"function-calls":{pattern:/\b[_a-z]\w*(?=\()/i,alias:"function"},"class-name":/\b(?:[A-Z][A-Za-z0-9]*)\b/,"bool-literal":{pattern:/\b(?:false|true)\b/,alias:"boolean"},"hex-int-literal":{pattern:/\b0[xX][0-9a-fA-F]+[iu]?\b(?![.pP])/,alias:"number"},"hex-float-literal":{pattern:/\b0[xX][0-9a-fA-F]*(?:\.[0-9a-fA-F]*)?(?:[pP][+-]?\d+[fh]?)?/,alias:"number"},"decimal-float-literal":[{pattern:/\d*\.\d+(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+\.\d*(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+[eE](?:\+|-)?\d+[fh]?/,alias:"number"},{pattern:/\b\d+[fh]\b/,alias:"number"}],"int-literal":{pattern:/\b\d+[iu]?\b/,alias:"number"},operator:[{pattern:/(?:\^|~|\|(?!\|)|\|\||&&|<<|>>|!)(?!=)/},{pattern:/&(?![&=])/},{pattern:/(?:\+=|-=|\*=|\/=|%=|\^=|&=|\|=|<<=|>>=)/},{pattern:/(^|[^<>=!])=(?![=>])/,lookbehind:!0},{pattern:/(?:==|!=|<=|\+\+|--|(^|[^=])>=)/,lookbehind:!0},{pattern:/(?:(?:[+%]|(?:\*(?!\w)))(?!=))|(?:-(?!>))|(?:\/(?!\/))/},{pattern:/->/}],punctuation:/[@(){}[\],;<>:.]/};D.languages.wiki=D.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:D.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),D.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:D.languages.markup.tag.inside}}}});D.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},D.languages.mathematica=D.languages.wolfram,D.languages.wl=D.languages.wolfram,D.languages.nb=D.languages.wolfram;D.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},D.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:D.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}};(function(p){p.languages.xeora=p.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),p.languages.insertBefore("inside","punctuation",{variable:p.languages.xeora["function-inline"].inside.variable},p.languages.xeora["function-block"]),p.languages.xeoracube=p.languages.xeora})(D);(function(p){function b(B,P){p.languages[B]&&p.languages.insertBefore(B,"comment",{"doc-comment":P})}var x=p.languages.markup.tag,T={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:x}},I={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:x}};b("csharp",T),b("fsharp",T),b("vbnet",I)})(D);D.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/};(function(p){p.languages.xquery=p.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),p.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,p.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,p.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,p.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:p.languages.xquery,alias:"language-xquery"};var b=function(T){return typeof T=="string"?T:typeof T.content=="string"?T.content:T.content.map(b).join("")},x=function(T){for(var I=[],B=0;B<T.length;B++){var P=T[B],F=!1;if(typeof P!="string"&&(P.type==="tag"&&P.content[0]&&P.content[0].type==="tag"?P.content[0].content[0].content==="</"?I.length>0&&I[I.length-1].tagName===b(P.content[0].content[1])&&I.pop():P.content[P.content.length-1].content==="/>"||I.push({tagName:b(P.content[0].content[1]),openedBraces:0}):!(I.length>0&&P.type==="punctuation"&&P.content==="{")||T[B+1]&&T[B+1].type==="punctuation"&&T[B+1].content==="{"||T[B-1]&&T[B-1].type==="plain-text"&&T[B-1].content==="{"?I.length>0&&I[I.length-1].openedBraces>0&&P.type==="punctuation"&&P.content==="}"?I[I.length-1].openedBraces--:P.type!=="comment"&&(F=!0):I[I.length-1].openedBraces++),(F||typeof P=="string")&&I.length>0&&I[I.length-1].openedBraces===0){var j=b(P);B<T.length-1&&(typeof T[B+1]=="string"||T[B+1].type==="plain-text")&&(j+=b(T[B+1]),T.splice(B+1,1)),B>0&&(typeof T[B-1]=="string"||T[B-1].type==="plain-text")&&(j=b(T[B-1])+j,T.splice(B-1,1),B--),/^\s+$/.test(j)?T[B]=j:T[B]=new p.Token("plain-text",j,null,j)}P.content&&typeof P.content!="string"&&x(P.content)}};p.hooks.add("after-tokenize",function(T){T.language==="xquery"&&x(T.tokens)})})(D);D.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/};(function(p){function b(P){return function(){return P}}var x=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,T="\\b(?!"+x.source+")(?!\\d)\\w+\\b",I="align\\s*\\((?:[^()]|\\([^()]*\\))*\\)",B="(?!\\s)(?:!?\\s*(?:"+"(?:\\?|\\bpromise->|(?:\\[[^[\\]]*\\]|\\*(?!\\*)|\\*\\*)(?:\\s*<ALIGN>|\\s*const\\b|\\s*volatile\\b|\\s*allowzero\\b)*)".replace(/<ALIGN>/g,b(I))+"\\s*)*"+"(?:\\bpromise\\b|(?:\\berror\\.)?<ID>(?:\\.<ID>)*(?!\\s+<ID>))".replace(/<ID>/g,b(T))+")+";p.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp("(:\\s*)<TYPE>(?=\\s*(?:<ALIGN>\\s*)?[=;,)])|<TYPE>(?=\\s*(?:<ALIGN>\\s*)?\\{)".replace(/<TYPE>/g,b(B)).replace(/<ALIGN>/g,b(I))),lookbehind:!0,inside:null},{pattern:RegExp("(\\)\\s*)<TYPE>(?=\\s*(?:<ALIGN>\\s*)?;)".replace(/<TYPE>/g,b(B)).replace(/<ALIGN>/g,b(I))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:x,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},p.languages.zig["class-name"].forEach(function(P){P.inside===null&&(P.inside=p.languages.zig)})})(D)});import JU from"uslug";var Vo=class{constructor(){this.table={}}generateId(b){let x=(I,B)=>{let P=B.replace(/[!"#$%&'()*+,./:;<=>?@[\\]^`{|}~]/g,"").replace(/^\s/,"").replace(/\s$/,"").replace(/`/g,"~");return(B.match(/^\s+$/)?"~":P)+(I.endsWith(" ")&&!P.endsWith("~")?"~":"")};b=b.trim().replace(/~|。/g,"").replace(/``(.+?)``\s?/g,x).replace(/`(.*?)`\s?/g,x).replace(/\s__([^_]+?)__\s/g,"-$1-").replace(/\s_([^_]+?)_\s/g,"-$1-");let T=JU(b.replace(/\s/g,"~")).replace(/~/g,"-");return this.table[T]>=0?(this.table[T]=this.table[T]+1,T+="-"+this.table[T]):this.table[T]=0,T}};import r3 from"@ungap/structured-clone";import*as ih from"child_process";import*as fD from"path";import i3 from"sval";import*as Cw from"temp";import*as oh from"vm";import*as pD from"yaml";import*as Td from"fs";import*as cD from"path";import*as VS from"request";var QU=process.env.IMGUR_API_URL||"https://api.imgur.com/3/",e3=process.env.IMGUR_CLIENT_ID||"f0ea04148a54268";async function dD(p,b,x){let T;p.lastIndexOf(".")?T=p.slice(0,p.lastIndexOf(".")):T=p;let I=`![${T}](${b})`;if(!x)return;let B;try{B=Td.readFileSync(x,{encoding:"utf-8"})}catch{B=""}B=`
${I}

\`${I}\`

${new Date().toString()}

---

`+B,Td.writeFileSync(x,B,{encoding:"utf-8"})}function t3(p){return new Promise((b,x)=>{let T={Authorization:`Client-ID ${e3}`};VS.post({url:`${QU}image`,encoding:"utf8",formData:{image:Td.createReadStream(p)},json:!0,headers:T},(I,B,P)=>{if(I)return x(I);if(P.success){let F=P.data.link;return dD(p,F),b(F)}else return b(P.data.error.message)})})}function n3(p){return new Promise((b,x)=>{let T={authority:"sm.ms","user-agent":"crossnote",referer:""};VS.post({url:"https://sm.ms/api/v2/upload",formData:{smfile:Td.createReadStream(p)},headers:T},(I,B,P)=>{try{if(P=JSON.parse(P),I)return x("Failed to upload image");if(P.code==="error")return x(P.msg);{let F=P.data.url;return dD(p,F),b(F)}}catch{return x("Failed to connect to sm.ms host")}})})}function a3(p,b,x,T,I){return new Promise((B,P)=>{if(!b)return P("Error: Qiniu AccessKey is missing");if(!x)return P("Error: Qiniu SecretKey is missing");if(!T)return P("Error: Qiniu Bucket is missing");if(!I)return P("Error: Qiniu Domain is missing");import("qiniu").then(F=>{let j=new F.auth.digest.Mac(b,x),V=new F.rs.PutPolicy({scope:T}).uploadToken(j),Q=new F.conf.Config,ae=cD.basename(p),pe=new F.form_up.FormUploader(Q),Z=new F.form_up.PutExtra;return pe.putFile(V,ae,p,Z,(te,ue,he)=>{if(te)return P(te.message);if(he.statusCode===200){let Re=new F.rs.BucketManager(j,Q).publicDownloadUrl(I,ae);return B(Re)}else return P(he.error)})}).catch(F=>P(F))})}function YS(p,{method:b="imgur",qiniu:x={AccessKey:"",SecretKey:"",Bucket:"",Domain:""}}){return b==="imgur"?t3(p):b==="qiniu"?a3(p,x.AccessKey,x.SecretKey,x.Bucket,x.Domain):n3(p)}"structuredClone"in globalThis||(globalThis.structuredClone=r3);Cw.track();function Yo(p){return new Promise((b,x)=>{Cw.open(p,(T,I)=>T?x(T.toString()):b(I))})}function Cd(p){if(process.platform==="win32")return p.match(/^[a-zA-Z]:\\/)&&(p="file:///"+p),p.startsWith("file:///")?ih.execFile("explorer.exe",[p]):ih.exec(`start ${p}`);process.platform==="darwin"?ih.execFile("open",[p]):ih.execFile("xdg-open",[p])}function Rw(p=""){p.startsWith("---")&&(p=p.trim().replace(/^---\r?\n/,"").replace(/\r?\n---$/,""));try{return pD.parse(p)}catch(b){return{error:b.toString()}}}var hD=(()=>typeof __dirname<"u"?fD.resolve(__dirname,"../"):"")();function mD(p){hD=p}function Et(){return hD}var KS=null;function gD(p){KS=p}function vn(p,b){return KS&&b?KS(p,b):(p.startsWith("file://")||(p="file:///"+p),p=p.replace(/^file:\/+/,"file:///"),p)}function Ms(p){let b=/^(?:(?:file|(vscode)-(?:webview-)?resource|vscode--resource):\/+)(.*)/m;return p.replace(b,(x,T,I)=>(T&&(I=I.replace(/^file\/+/,"")),process.platform!=="win32"&&!I.startsWith("/")?"/"+I:I))}function bD(p){let b=globalThis.eval;try{return globalThis.eval=x=>oh.runInThisContext(x),p()}finally{globalThis.eval=b}}function yD(p){let b=globalThis.Function;try{return globalThis.Function=XS,p()}finally{globalThis.Function=b}}async function vD(p){let b=globalThis.Function,x=globalThis.eval;try{return globalThis.Function=XS,globalThis.eval=T=>oh.runInThisContext(T),await p()}finally{globalThis.eval=x,globalThis.Function=b}}var n0=p=>p.attributes.cmd===!0?p.language:p.attributes.cmd;function XS(...p){let b="",x=[];if(p.length){b=p[p.length-1];for(let I=0;I<p.length-1;I++)x.push(p[I])}let T=[];for(let I=0,B=x.length;I<B;I++){let P=x[I];typeof P=="string"&&(P=P.split(/\s*,\s*/)),T.push.apply(T,P)}return oh.runInThisContext(`
    (function(${T.join(", ")}) {
      ${b}
    })
  `)}XS.prototype=globalThis.Function.prototype;function ZS(){return process.env.IS_VSCODE_WEB_EXTENSION==="true"}function a0(p){if(p=p.trim().replace(/[;,]+$/,""),ZS()){let b=new i3({sandBox:!0,ecmaVer:2019});return b.run(`exports.result = (${p})`),b.exports.result}else{let b={};return oh.runInNewContext(`result = (${p})`,b),b.result}}function sh(p,b={}){return p.replace(/\${([^}]+)}/g,(x,T)=>T.startsWith("env:")?process.env[T.replace(/^env:/,"").trim()]??"":b[T]??x)}import*as Dl from"cheerio";import{execFile as Gz}from"child_process";import{copy as BM}from"copy-anything";import UM from"crypto-js";import*as Xn from"fs";import{escape as Ol}from"html-escaper";import*as qe from"path";import jz from"request";import*as GM from"yaml";import{execFile as o3}from"child_process";import{mkdirp as s3}from"mkdirp";import*as Iw from"path";function l3(p={},b){let x=p.title||"No Title";b.push("--title",x),p.authors&&b.push("--authors",p.authors),p.cover&&b.push("--cover",p.cover),p.comment&&b.push("--comments",p.comments),p.publisher&&b.push("--publisher",p.publisher),p["book-producer"]&&b.push("--book-producer",p["book-producer"]),p.pubdate&&b.push("--pubdate",p.pubdate),p.language&&b.push("--language",p.language),p.isbn&&b.push("--isbn",p.isbn),p.tags&&b.push("--tags",p.tags),p.series&&b.push("--series",p.series),p.rating&&b.push("--rating",p.rating)}function u3(p={},b){p.asciiize&&b.push("--asciiize"),p["base-font-size"]&&b.push("--base-font-size="+p["base-font-size"]),p["disable-font-rescaling"]&&b.push("--disable-font-rescaling"),p["line-height"]&&b.push("--line-height="+p["line-height"]);let x=72,T=72,I=72,B=72;if(p.margin){let P=p.margin;P instanceof Array?P.length===1?(x=P[0],I=P[0],B=P[0],T=P[0]):P.length===2?(x=P[0],I=P[0],B=P[1],T=P[1]):P.length===4&&(x=P[0],T=P[1],I=P[2],B=P[3]):typeof P=="number"&&(x=P,I=P,B=P,T=P)}else p["margin-top"]&&(x=p["margin-top"]),p["margin-right"]&&(T=p["margin-right"]),p["margin-bottom"]&&(I=p["margin-bottom"]),p["margin-left"]&&(B=p["margin-left"]);b.push("--margin-top="+x),b.push("--margin-bottom="+I),b.push("--margin-left="+B),b.push("--margin-right="+T)}function c3(p={},b){p["no-default-epub-cover"]&&b.push("--no-default-epub-cover"),p["no-svg-cover"]&&b.push("--no-svg-cover"),p["pretty-print"]&&b.push("--pretty-print")}function d3(p={},b){p["paper-size"]&&b.push("--paper-size",p["paper-size"]),p["default-font-size"]&&b.push("--pdf-default-font-size="+p["default-font-size"]),p["header-template"]&&b.push("--pdf-header-template",p["header-template"]),p["footer-template"]&&b.push("--pdf-footer-template",p["footer-template"]),p["page-numbers"]&&b.push("--pdf-page-numbers"),p["pretty-print"]&&b.push("--pretty-print")}function ED(p,b,x={}){return new Promise((T,I)=>{let B=[p,b,"--level1-toc","//*[@ebook-toc-level-1]/@heading","--level2-toc","//*[@ebook-toc-level-2]/@heading","--level3-toc","//*[@ebook-toc-level-3]/@heading","--no-chapters-in-toc"];l3(x,B),u3(x,B);let P=Iw.extname(b).slice(1);P==="epub"?c3(x.epub,B):P==="pdf"&&d3(x.pdf,B),(x.args||[]).forEach(j=>{B.push(j)}),s3(Iw.dirname(b)).then(()=>{o3("ebook-convert",B,j=>j?I(j.toString()):T())}).catch(j=>{if(j)return I(j)})})}import*as sM from"fs";import{escape as oM}from"html-escaper";import{mkdirp as G3}from"mkdirp";import*as Ls from"path";import f3 from"md5";var p3=p=>f3(p).toString(),La=p3;function h3(p,b){let x="";for(let T=0;T<b;T++)x+=p;return x}function wD(p){let b="",x=0,T=/!?\[([^\]]*)\]\(([^)]*)\)|<([^>]*)>([^<]*)<\/([^>]*)>|\[\^([^\]]*)\]/g,I=null;for(;I=T.exec(p);)b+=p.slice(x,I.index),x=I.index+I[0].length,I[0][0]==="<"?b+=I[4]:I[0][0]==="["&&I[0][1]==="^"?b+="":I[0][0]!=="!"?b+=I[1]:b+=I[0];return b+=p.slice(x,p.length),b}function lh(p,b){let x=new Vo;if(!p)return{content:"",array:[]};let T=b.ordered,I=b.depthFrom||1,B=b.depthTo||6,P=b.tab||"  ",F=b.ignoreLink||!1;if(T&&(P="    "),p=p.filter(Q=>Q.level>=I&&Q.level<=B),!p.length)return{content:"",array:[]};let j=[],W=p[0].level;for(let Q of p)Q.level<W&&(W=Q.level);let V=[];for(let Q of p){let ae=Q.content.trim(),pe=Q.level,Z=Q.id||x.generateId(ae),te=pe-W,ue="1";T&&(te>=V.length?V.push(1):te===V.length-1?V[V.length-1]++:(V=V.slice(0,te+1),V.length&&V[V.length-1]++),ue=V[V.length-1].toString());let he=`${h3(P,te)}${T?`${ue}.`:"-"} ${F?wD(ae):`[${wD(ae)}](#${Z})`}`;j.push(he)}return{content:j.join(`
`),array:j}}function _D(p,b,x){if(!p.length)return"";let T=new Vo,I=x.depthFrom||1,B=x.depthTo||6;p=p.filter(V=>V.level>=I&&V.level<=B),p=p.map((V,Q)=>(V.offset=Q,V));let P="",F=p[0].level;for(let V=0;V<p.length;V++)p[V].level<F&&(F=p[V].level);let j=(V,Q,ae)=>{let pe=[];for(let Z=ae;Z<V.length;Z++){let te=V[Z];if(te.level===Q)pe.push(te);else{if(te.level<Q)break;continue}}return pe},W=(V,Q)=>{let Z="";for(let te=0;te<Q.length;te++){let ue=Q[te];if(ue.offset===void 0)continue;let he=j(V,ue.level+1,ue.offset+1),me=`padding-left:${ue.level===F?0:24}px;`,Re="padding:0;",Ne=b.render(ue.content),Le=ue.id||T.generateId(ue.content);he.length?Z+=`<details style="${Re};${me}" open>
        <summary class="md-toc-link-wrapper">
          <a href="#${Le}" class="md-toc-link">${Ne}</a>
          </summary>
        <div>
          ${W(V,he)}
        </div>
      </details>
    `:Z+=`<div class="md-toc-link-wrapper" style="${Re};display:list-item;list-style:square;margin-left:${ue.level===F?18:24+18}px">
          <a
            href="#${Le}"
            class="md-toc-link"
          >
            ${Ne}
          </a></div>`}return Z};return P=`
<div class="md-toc">
${W(p,j(p,F,0))}
</div>
`,P}import*as MD from"fs/promises";import{escape as DD}from"html-escaper";import*as LD from"less";import*as FD from"papaparse";import*as Tr from"path";import PD from"request";import*as $D from"temp";import{snakeCase as m3}from"case-anything";var kD=p=>{if(typeof p!="object")return{};let b=!1,x={...p};for(let T in p)if(Object.prototype.hasOwnProperty.call(p,T)){if(T.startsWith("data-")||T.startsWith("aria-"))continue;let I=m3(T);I!==T&&(x[I]=x[T],delete x[T],b=!0)}return b?x:p};var xD=p=>p.toLowerCase()==="true"?!0:p.toLowerCase()==="false"?!1:isNaN(p)?p:parseFloat(p),SD=(p,b)=>{if(p[b]!=="(")return;let x=1,T=b+1;for(;T<p.length&&(p[T]==="("?x+=1:p[T]===")"&&(x-=1),T+=1,x!==0););return[p.substring(b,T),T,"stringWithBrackets"]},AD=(p,b)=>{let x=p[b];if(!"'\"\u201C`".includes(x))return;let T=x==="\u201C"?"\u201D":x,I=b+1,B=[];for(;I<p.length;){if(p[I]==="\\"){I+1<p.length&&B.push(p[I+1]),I+=2;continue}if(p[I]===T){I+=1;break}B.push(p[I]),I+=1}return[B.join(""),I,"stringInQuotes"]},g3=/^[^,;=\s]$/,TD=(p,b)=>{let x=b,T=0;for(;x<p.length;){let I=p[x];if(!g3.test(I)||(I==="["?T+=1:I==="]"&&(T-=1),T<0))break;x+=1}if(x!==b)return[p.substring(b,x),x,"word"]},CD=(p,b)=>{if(p[b]!=="[")return;let x=[],T=b+1;for(;T<p.length;){if(p[T]==="]"){T+=1;break}let B=CD(p,T)||SD(p,T)||AD(p,T)||TD(p,T);if(B){let[P,F,j]=B,W=j==="word"?xD(P):P;T=F,x.push(W)}else T+=1}return[x,T,"array"]},Vr=p=>{let b=(p||"").trim();b[0]==="{"&&b[b.length-1]==="}"&&(b=b.slice(1,-1));let x={},T,I=0;for(;I<b.length;){let B=CD(b,I)||SD(b,I)||AD(b,I)||TD(b,I);if(B){let P=typeof T=="string",[F,j,W]=B,V=W==="word"&&P?xD(F):F;if(I=j,P)x[T]=V,T=void 0;else if(b[I]==="=")T=V;else{let Q=V[0],ae;switch(Q){case".":ae="class";break;case"#":ae="id";break}if(ae){let pe=V.substring(1);if(pe.length){let Z=x[ae];x[ae]=typeof Z>"u"?pe:`${Z} ${pe}`}}else typeof V=="string"&&(x[V]=!0)}}else I+=1}return x};var RD=p=>{let b=["["];return p.forEach((x,T)=>{x instanceof Array?b.push(RD(x)):b.push(JSON.stringify(x)),T+1!==p.length&&b.push(", ")}),b.push("]"),b.join("")},hn=(p={},b=!1)=>{let x=[];for(let T in p)if(Object.prototype.hasOwnProperty.call(p,T)){x.push(" "),x.push(`${T}=`);let I=p[T];I instanceof Array?x.push(RD(I)):x.push(JSON.stringify(I))}return x.shift(),b&&(x.unshift("{"),x.push("}")),x.join("")};import{spawn as b3}from"child_process";import*as ND from"fs";import*as r0 from"path";import*as ID from"temp";var JS;function Ow(p,{svgDirectoryPath:b,markdownDirectoryPath:x,svgZoom:T,svgWidth:I,svgHeight:B}){return new Promise((P,F)=>{b||(JS||(JS=ID.mkdirSync("crossnote_pdf")),b=JS);let j=La(p)+"_",W=b3("pdf2svg",[`"${p}"`,`"${r0.resolve(b??"/tmp/crossnote_pdf",j+"%d.svg")}"`,"all"],{shell:!0}),V=[];W.stdout.on("data",ae=>{V.push(ae)});let Q=[];W.stderr.on("data",ae=>{Q.push(ae)}),W.on("error",ae=>{Q.push(Buffer.from(ae.toString(),"utf-8"))}),W.on("close",()=>{if(Q.length)return F(Buffer.concat(Q).toString());ND.readdir(b??"",(ae,pe)=>{if(ae)return F(ae.toString());pe=pe.sort((ue,he)=>{let me=parseInt((ue.match(/_(\d+)\.svg$/)??[])[1],10),Re=parseInt((he.match(/_(\d+)\.svg$/)??[])[1],10);return me-Re});let Z="",te=Math.random();return pe.forEach(ue=>{if(ue.match(new RegExp(`^${j}(\\d+).svg`))){let me=r0.relative(x,r0.resolve(b??"",ue));me=me.replace(/\.\.\\/g,"../").replace(/\\/g,"/"),T||I||B?Z+=`<img src="${me}" ${I?`width="${I}"`:""} ${B?`height="${B}"`:""} ${T?`style="zoom:${T};"`:""}>`:Z+=`![](${me}?${te})
`}}),P(Z)})})})}var QS=(P=>(P[P.pagebreak=0]="pagebreak",P[P.newpage=1]="newpage",P[P.toc=2]="toc",P[P.tocstop=3]="tocstop",P[P.slide=4]="slide",P[P[".slide"]=5]=".slide",P[P[".slide:"]=6]=".slide:",P[P.ebook=7]="ebook",P[P["toc-bracket"]=8]="toc-bracket",P))(QS||{});var eA={vhd:"vhdl",erl:"erlang",dot:"dot",gv:"dot",viz:"dot"};function y3(p){let b=`  
`;return p.forEach((x,T)=>{let I=0;for(b+="|";I<x.length;)b+=x[I]+"|",I+=1;if(b+=`  
`,T===0){for(b+="|",I=0;I<x.length;)b+="---|",I+=1;b+=`  
`}}),b+="  ",b}function v3(p,{extraClass:b="",tag:x="p",prefix:T=""}={}){let I=T.trimEnd();return`
${I}
${T}<${x} data-source-line="${p+1}" class="${b}" style="margin:0;"></${x}>
${I}
${I}`}var tA=null;function E3(p){return new Promise((b,x)=>{if(!p.match(/^https?:\/\//))return b(p);tA||(tA=$D.mkdirSync("crossnote_downloads")),PD.get({url:p,encoding:"binary"},async(T,I,B)=>{if(T)return x(T);{let P=Tr.resolve(tA??"/tmp/crossnote_downloads",La(p))+Tr.extname(p);return await MD.writeFile(P,B,"binary"),P}})})}async function w3(p,{fileDirectoryPath:b,imageDirectoryPath:x,notebook:T},I={}){if(I[p])return I[p];if(p.endsWith(".less")){let B=await T.fs.readFile(p);return await new Promise((P,F)=>{LD.render(B,{paths:[Tr.dirname(p)]},(j,W)=>j?F(j):P(W?.css||""))})}else if(p.endsWith(".pdf")){let B=await E3(p);return await Ow(B,{markdownDirectoryPath:b,svgDirectoryPath:x})}else return p.match(/^https?:\/\//)?(p.startsWith("https://github.com/")&&(p=p.replace("https://github.com/","https://raw.githubusercontent.com/").replace("/blob/","/")),await new Promise((B,P)=>{PD(p,(F,j,W)=>{F?P(F):B(W.toString())})})):await T.fs.readFile(p)}async function Rd(p,{fileDirectoryPath:b="",projectDirectoryPath:x="",filesCache:T={},useRelativeFilePath:I=!1,forPreview:B=!1,forMarkdownExport:P=!1,usePandocParser:F=!1,protocolsWhiteListRegExp:j=null,notSourceFile:W=!1,imageDirectoryPath:V="",headingIdGenerator:Q=new Vo,notebook:ae,forJest:pe=!1,fileHash:Z,timestamp:te}){p=p.replace(/\r\n/g,`
`);let ue=null,he=0,me=[],Re=[],Ne=[],Le=!1,ze="";async function Ee(be,Se=0){let ke="";function We(De){let lt=p.indexOf(`
`,De);lt<0&&(lt=p.length);let gt=p.substring(De,lt),kt="",an=gt.match(/^\s*(>+)\s?/);return an?(kt=an[0],gt=gt.replace(an[0],"")):kt="",{line:gt,blockquotePrefix:kt,end:lt}}let Pe=()=>B&&!W;for(;be<p.length;){let{line:De,blockquotePrefix:lt,end:gt}=We(be);ke+=lt;let kt=!!ue,an=(De.match(/^\s*[`]{3,}/)||[])[0];if(an&&!De.substring(an.length).trim().match(/[`]{3,}/)){if(!kt&&Pe()){let Xt=De.indexOf("{"),yt=De.lastIndexOf("}");if(Xt>0&&yt>0){let Zt=De.substring(Xt+1,yt);De=De.substring(0,Xt)+` {${Zt} data-source-line="${Se+1}"}`}else De=De.trimEnd()+` {data-source-line="${Se+1}"}`}let Ze=!!De.match(/"?cmd"?\s*[:=\s}]/);!kt&&!W&&Ze&&(De=De.replace("{",`{code_chunk_offset=${he}, `),he++),kt?ue!==null&&an.trim().length===ue.trim().length&&(ue=null):ue=an,be=gt+1,Se=Se+1,ke=ke+De+`
`;continue}if(kt){be=gt+1,Se=Se+1,ke=ke+De+`
`;continue}let cn,Gt;if(De.match(/^<!--/)){let Ve=p.indexOf("-->",be+4);if(Ve<0){be=p.length,Se=Se+1,ke=ke+`
`;continue}else Ve+=3;let Ze=De.match(/^<!--\s+([^\s]+)/);if(Ze){let Xt=Ze[1];if(Xt==="@import"){let yt=De.lastIndexOf("-->");yt>0&&(De=De.slice(4,yt).trim())}else if(Xt in QS){let yt=p.slice(be+4,Ve-3),Zt=yt.match(/\n/g),Dt=Zt?Zt.length:0,At=yt.trim().match(/^([^\s]+?)\s([\s\S]+)$/),ft={};if(At&&At[2]&&(ft=Vr(At[2])),ft.lineNo=Se+1,Xt==="pagebreak"||Xt==="newpage"){be=Ve,Se=Se+Dt,ke=ke+'<div class="pagebreak"> </div>'+`
`.repeat(Dt);continue}else if(Xt.match(/^\.?slide:?$/))if(me.push(ft),P){be=Ve,Se=Se+Dt,ke=ke+`<!-- ${yt} -->
`;continue}else{be=Ve,Se=Se+Dt,ke=ke+(F?`<p${Pe()?` data-source-line="${Se-Dt+1}"`:""}><span>[CROSSNOTESLIDE]</span></p>  `:"<span>[CROSSNOTESLIDE]</span>  ")+`
`.repeat(Dt);continue}}else{let Zt=p.slice(be+4,Ve-3).match(/\n/g),Dt=Zt?Zt.length:0;be=Ve,Se=Se+Dt,ke=ke+`
`.repeat(Dt);continue}}else{let yt=p.slice(be+4,Ve-3).match(/\n/g),Zt=yt?yt.length:0;be=Ve,Se=Se+Zt,ke=ke+`
`.repeat(Zt);continue}}else if(cn=De.match(/^(#{1,7}).*/)){let Ve=De.replace(cn[1],"").trim(),Ze=cn[1],Xt=Ze.length,yt=Ve.match(/{[^{]+\}\s*$/),Zt="",Dt="",At=!1,ft={};if(yt){Ve=Ve.replace(yt[0],"").trim();try{ft=Vr(yt[0]),Zt=ft.class??"",Dt=ft.id??"",At=ft.ignore,delete ft.class,delete ft.id,delete ft.ignore}catch{Ve="OptionsError: "+yt[1],At=!0}}if(Dt||(Dt=Q.generateId(Ve),ae.config.usePandocParser&&(Dt=Dt.replace(/^[\d-]+/,""),Dt||(Dt="section"))),At||Ne.push({content:Ve,level:Xt,id:Dt,lineNo:Se+1}),P){be=gt+1,Se=Se+1,ke=ke+De+`
`;continue}else{let Ce="{";if(Dt&&(Ce+=`#${Dt} `),Zt&&(Ce+="."+Zt.replace(/\s+/g," .")+" "),ft)for(let Ye in ft)typeof ft[Ye]=="number"?Ce+=" "+Ye+"="+ft[Ye]:Ce+=" "+Ye+'="'+ft[Ye]+'"';Pe()&&(Ce+=` data-source-line="${Se+1}"`),Ce+="}",Ce==="{}"&&(Ce=""),be=gt+1,Se=Se+1,ke=ke+`${Ze} ${Ve} ${Ce}
`;continue}}else if(De.match(/^\s*\[toc\]\s*$/i)){Le=!0,be=gt+1,Se=Se+1,ke=ke+(F?`<p${Pe()?` data-source-line="${Se}"`:""}><span>[CROSSNOTETOC]</span></p>  
`:`<span>[CROSSNOTETOC]</span>  
`);continue}else if(Gt=De.match(/^\s*(?:[*\-+]|\d+\.)\s+(\[[xX\s]\])\s/)){let Ve=Gt[1]!=="[ ]";P||(De=De.replace(Gt[1],`<input type="checkbox" class="task-list-item-checkbox" ${Pe()?`data-source-line="${Se+1}"`:""}${Ve?" checked":""}>`)),be=gt+1,Se=Se+1,ke=ke+De+`
`;continue}let _t=De.match(/^(\s*)@import(\s+)"([^"]+)";?/),St=De.match(/^(\s*)!\[([^\]]*)\]\(([^)]+)\)(?:{([^}]*)})?(\s*)$/),Kt=De.match(/^(\s*)!\[\[(.+?)\]\](?:{([^}]*)})?\s*$/);if(_t||St||Kt){let Ve="";if(_t)ke+=_t[1],Ve=_t[3].trim();else if(St)ke+=St[1],Ve=St[3].trim().replace(/\s"[^"]*"\s*$/,"");else if(Kt){ke+=Kt[1];let{link:Ce}=ae.processWikilink(Kt[2]);Ve=Ce}let Ze={},Xt="";if(St&&St[4])Xt=St[4];else if(Kt&&Kt[3])Xt=Kt[3];else if(_t){let Ce=De.indexOf("{");if(Ce>0){let Ye=De.lastIndexOf("}");Ye>0&&(Xt=De.substring(Ce+1,Ye))}}if(Xt.length>0)try{Ze=Vr(Xt)}catch{}Pe()&&(Ze["data-source-line"]=Se+1);let yt;j&&Ve.match(j)?yt=Ve:Ve.startsWith("/")?yt=Tr.resolve(x,"."+Ve):yt=Tr.resolve(b,Ve);let Zt="",Dt=yt.lastIndexOf("#");Dt>0&&(Zt=yt.substring(Dt),yt=yt.substring(0,Dt));let At=Tr.extname(yt).toLocaleLowerCase(),ft="";if(Ve==="[TOC]"){Ze.cmd="toc",Ze.hide=!0,Ze.run_on_save=!0,Ze.modify_source=!0,W||(Ze.code_chunk_offset=he,he++);let Ce=`\`\`\`text ${hn(Ze)}  
\`\`\`  `;be=gt+1,Se=Se+1,ke=ke+Ce;continue}else if(At.match(/^\.(apng|avif|gif|jpeg|jpg|png|svg|bmp|webp|emf)/)||At===""){if(_t||Kt){let Ce=T[Ve];Ce||(j&&Ve.match(j)?Ce=Ve:I?Ce=Tr.relative(b,yt)+"?"+(te??Math.random()):Ce="/"+Tr.relative(x,yt)+"?"+(te??Math.random()),Ce=Ce.replace(/ /g,"%20").replace(/\\/g,"/"),T[Ve]=Ce),ft="![",Ze.alt&&(ft+=Ze.alt,delete Ze.alt),ft+=`](${Ce}`,Ze.title&&(ft+=` "${Ze.title}"`,delete Ze.title),ft+=")";let Ye=hn(Ze);Ye?ft+=`{${Ye}}  `:ft+="  "}else if(St){let Ce=hn(Ze);ft=`![${St[2]??""}](${St[3]??""})${Ce?`{${Ce}}`:""}${St[5]}`}be=gt+1,Se=Se+1,ke=ke+ft+`
`;continue}else try{let Ce=await w3(yt,{fileDirectoryPath:b,imageDirectoryPath:V,notebook:ae},T);if(T[yt]=Ce,Ze.line_begin||Ze.line_end){let Ye=Ce.split(/\n/);Ce=Ye.slice(parseInt(Ze.line_begin,10)||0,parseInt(Ze.line_end,10)||Ye.length).join(`
`)}if(Ze.code_block){let Ye=At.slice(1,At.length);ft=`\`\`\`${Ze.as||eA[Ye]||Ye} ${hn(Ze)}  
${Ce}
\`\`\`  `}else if(Ze.cmd){Ze.id||(Ze.id=La(yt)),W||(Ze.code_chunk_offset=he,he++);let Ye=At.slice(1,At.length);ft=`\`\`\`${Ze.as||eA[Ye]||Ye} ${hn(Ze)}  
${Ce}
\`\`\`  `}else if(ae.config.markdownFileExtensions.includes(At)){ae.config.parserConfig.onWillParseMarkdown&&(Ce=await ae.config.parserConfig.onWillParseMarkdown(Ce));let{outputString:Ye,headings:Je}=await Rd(Ce,{fileDirectoryPath:Tr.dirname(yt),projectDirectoryPath:x,filesCache:T,useRelativeFilePath:!1,forPreview:!1,usePandocParser:F,forMarkdownExport:P,protocolsWhiteListRegExp:j,notSourceFile:!0,imageDirectoryPath:V,notebook:ae,headingIdGenerator:Q,fileHash:Zt});ft=`
`+Ye+"  ",Ne=Ne.concat(Je)}else if(At===".html")ft="<div>"+Ce+"</div>  ";else if(At===".csv"){let Ye=FD.parse(Ce.trim());Ye.errors.length?ft=`<pre class="language-text"><code>${DD(Ye.errors[0].toString())}</code></pre>  `:ft=y3(Ye.data)}else if(At===".css"||At===".js"){if(B)ft="";else{let Ye;j&&Ve.match(j)?Ye=Ve:I?Ye=Tr.relative(b,yt):Ye="file:///"+yt,At===".js"?ft=`<script type="text/javascript" src="${Ye}"></script>`:ft=`<link rel="stylesheet" href="${Ye}">`}Re.push(Ve)}else if(At===".less")ft=`<style>${Ce}</style>`;else if(At===".pdf")if(Ze.page_no){let Ye=Ce.split(`
`),Je=parseInt(Ze.page_no,10)-1;Je<0&&(Je=0),ft=Ye[Je]||""}else if(Ze&&(Ze.page_begin||Ze.page_end)){let Ye=Ce.split(`
`),Je=parseInt(Ze.page_begin,10)-1||0,Yr=Ze.page_end||Ye.length-1;Je<0&&(Je=0),ft=Ye.slice(Je,Yr).join(`
`)||""}else ft=Ce;else if(At===".dot"||At===".gv"||At===".viz"||At===".graphviz")ft=`\`\`\`dot ${hn(Ze,!0)}
${Ce}
\`\`\`  `;else if(At===".mermaid")ft=`\`\`\`mermaid ${hn(Ze,!0)}
${Ce}
\`\`\`  `;else if(At===".plantuml"||At===".puml")ft=`\`\`\`puml ${hn(Ze,!0)}
' @crossnote_file_directory_path:${Tr.dirname(yt)}
${Ce}
\`\`\`  `;else{let Ye=Ze.as??null;if(Ze.code_block===!1)ft=Ce;else{let Je=At.slice(1,At.length);ft=`\`\`\`${Ye||eA[Je]||Je} ${Ze?hn(Ze):""}  
${Ce}
\`\`\`  `}}be=gt+1,Se=Se+1,F?ke=ke+ft+`
`:ke=ke+`![@embedding](${encodeURIComponent(Ve)}){${hn({...Ze,embedding:btoa(encodeURIComponent(ft))})}}
`;continue}catch(Ce){ft=`<pre class="language-text"><code>${DD(Ce.toString())}</code></pre>  `,be=gt+1,Se=Se+1,F?ke=ke+ft+`
`:ke=ke+`![@embedding](${encodeURIComponent(Ve)}){${hn({...Ze,error:btoa(encodeURIComponent(ft))})}}
`;continue}}else{be=gt+1,Se=Se+1,ke=ke+De+`
`;continue}}if(Pe()&&!pe&&(ke+=`${v3(Se,{extraClass:"empty-line final-line end-of-document",prefix:""})}`),ze){let De=(ze.match(/\n/g)??[]).length;ke=`
`.repeat(De+1)+ke}if(Z){let De=Z.slice(1);if(De){let lt=Ne.findIndex(gt=>gt.id===De);if(lt>=0){let gt=Ne[lt],kt=lt,{level:an}=gt,cn=kt+1,Gt=null;for(;cn<Ne.length;){let St=Ne[cn];if(St.level<=an){Gt=St;break}cn++}let _t=gt.lineNo;if(Gt){Ne=Ne.slice(kt,cn);let St=Gt.lineNo;ke=ke.split(`
`).slice(_t-1,St-1).join(`
`)}else Ne=Ne.slice(kt),ke=ke.split(`
`).slice(_t-1).join(`
`)}}}return{outputString:ke,slideConfigs:me,tocBracketEnabled:Le,JSAndCssFiles:Re,headings:Ne,frontMatterString:ze}}let ye=0;if(p.startsWith("---")&&(ye=p.indexOf(`
---`))>0){ze=p.slice(0,ye+4);let be=ze.length,Se=(ze.match(/\n/g)??[]).length,ke=p.indexOf(`
`,be);return ke>0&&(be=ke+1,Se++),await Ee(be,Se)}else return await Ee(0,0)}import*as iM from"cheerio";import*as Wu from"path";import{spawn as x3}from"child_process";import*as aA from"fs/promises";import{unlink as nA}from"fs/promises";import*as rA from"path";import*as Lw from"vm";import{spawn as _3}from"child_process";import*as Mw from"fs";import*as Il from"path";function Dw(p){let b=Il.dirname(p),x=Il.extname(p),T=Il.basename(p).replace(new RegExp(x+"$"),"");Mw.readdir(b,(I,B)=>{I||B.forEach(P=>{P.startsWith(T)&&!P.match(/\.(la)?tex/)&&Mw.unlink(Il.resolve(b,P),()=>{})})})}function BD(p,{latexEngine:b="pdflatex",svgDirectoryPath:x,markdownDirectoryPath:T,svgZoom:I,svgWidth:B,svgHeight:P}){return new Promise((F,j)=>{let W=_3(b,[`"${p}"`],{cwd:Il.dirname(p),shell:!0}),V=[];W.stdout.on("data",ae=>{V.push(ae)});let Q=[];W.stderr.on("data",ae=>{Q.push(ae)}),W.on("error",ae=>{Q.push(Buffer.from(ae.toString(),"utf-8"))}),W.on("close",()=>{if(Q.length)return Dw(p),j(Buffer.concat(Q).toString());{let ae=Buffer.concat(V).toString();if(ae.indexOf("LaTeX Error")>=0)return Dw(p),j(ae);let pe=p.replace(/\.(la)?tex$/,".pdf");Ow(pe,{svgDirectoryPath:x,markdownDirectoryPath:T,svgZoom:I,svgWidth:B,svgHeight:P}).then(Z=>(Dw(p),F(Z))).catch(Z=>(Dw(p),j(Z)))}}),W.stdin.end()})}async function iA(p,b,x){let T=x.latex_engine||"pdflatex",I=x.latex_svg_dir,B=x.latex_zoom,P=x.latex_width,F=x.latex_height,j=rA.resolve(b,Math.random().toString(36).substr(2,9)+"_code_chunk.tex");await aA.writeFile(j,p);try{let W=await BD(j,{latexEngine:T,markdownDirectoryPath:b,svgDirectoryPath:I,svgZoom:B,svgWidth:P,svgHeight:F});return await nA(j),W}catch(W){throw await nA(j),W}}async function S3(p,b){let x=new Lw.Script(`((${p})())`),T=Lw.createContext(b.context||{});return x.runInContext(T)}async function UD(p,b,x,T,I="pdflatex"){let B=T.args||[];typeof B=="string"&&(B=[B]);let P=T3(x),F=rA.resolve(b,Math.random().toString(36).substr(2,9)+"_code_chunk"+P);if(p=p.replace(/\u00A0/g," "),x.match(/(la)?tex/)||x==="pdflatex"){let W={...T,latex_engine:T.latex_engine||I};return iA(p,b,W)}if(x==="node.vm")return S3(p,T);(T.matplotlib||T.mpl)&&(p=`
# -*- coding: utf-8 -*-
# modify default matplotlib pyplot show function
try:
    import matplotlib
    matplotlib.use('Agg') # use Agg backend
    import matplotlib.pyplot as plt
    import sys
    def new_plt_show():
        plt.savefig(sys.stdout, format="svg")
    plt.show = new_plt_show # override old one
except Exception:
    pass
# modify default mpld3 behavior
try:
    import matplotlib.pyplot as plt, mpld3
    import sys
    def new_mpld3_show():
        fig = plt.gcf() # get current figure
        sys.stdout.write(mpld3.fig_to_html(fig))
    mpld3.show = new_mpld3_show # override old one
    mpld3.display = new_mpld3_show
except Exception:
    pass
`+p),await aA.writeFile(F,p);let j=!1;return B=B.map(W=>W==="$input_file"?(j=!0,F):W),!j&&!T.stdin&&B.push(F),await new Promise(W=>{let V=x3(x,B,{cwd:b});T.stdin&&V.stdin.write(p),V.stdin.end();let Q=[];V.stdout.on("data",ae=>{Q.push(ae)}),V.stderr.on("data",ae=>{Q.push(ae)}),V.on("error",ae=>{Q.push(Buffer.from(ae.toString(),"utf-8"))}),V.on("close",async()=>{await nA(F);let ae=Buffer.concat(Q).toString();W(ae)})})}var A3={go:".go",javascript:".js",python:".py",typescript:".ts",node:".js","ts-node":".ts"};function T3(p){return A3[p]||`.${p}`}import{spawn as R3}from"child_process";import{existsSync as N3}from"fs";import*as HD from"path";import zD from"cross-fetch";import C3 from"plantuml-encoder";var i0=class{constructor(b){this.serverURL=b}generateSVG(b){if(this.serverURL.match(/^https?:\/\/(www\.)?plantuml\.com\/plantuml/)){let x=C3.encode(b);return zD(`http://www.plantuml.com/plantuml/svg/${x}`).then(T=>T.text())}else return zD(this.serverURL,{method:"POST",body:b,headers:{"Content-Type":"text/plain; charset=utf-8"}}).then(x=>x.text())}};var o0={},GD={},jD={},oA=class{constructor(b,x){this.plantumlJarPath=b,this.fileDirectoryPath=x,this.chunks=GD[this.fileDirectoryPath]||"",this.callbacks=jD[this.fileDirectoryPath]||[],this.task=null,this.startTask()}generateSVG(b){return new Promise(x=>{this.callbacks.push(x),this.task?.stdin.write(b+`
`)})}startTask(){this.task=R3("java",["-Djava.awt.headless=true","-Dfile.encoding=UTF-8","-Dplantuml.include.path="+[this.fileDirectoryPath].join(HD.delimiter),"-jar",this.plantumlJarPath,"-pipe","-tsvg","-charset","UTF-8"]),this.task.stdout.on("data",b=>{let x=b.toString();this.chunks+=x,this.chunks.trimRight().endsWith("</svg>")&&(this.chunks.match(/<svg/g)??[]).length===(this.chunks.match(/<\/svg>/g)??[]).length&&(x=this.chunks,this.chunks="",x.split("<?xml ").forEach(I=>{if(I.length){let B=this.callbacks.shift();B&&B(I.startsWith("<")?I:"<?xml "+I)}}))}),this.task.on("error",b=>{this.callbacks.forEach(x=>x(JSON.stringify(b))),this.closeSelf()}),this.task.on("exit",()=>this.closeSelf())}closeSelf(){o0[this.fileDirectoryPath]=null,GD[this.fileDirectoryPath]=this.chunks,jD[this.fileDirectoryPath]=this.callbacks}};async function Fw({content:p,fileDirectoryPath:b,serverURL:x,plantumlJarPath:T}){p=p.trim();let I=p.match(/^'\s@crossnote_file_directory_path:(.+)$/m);I&&(b=I[1]);let B=p.match(/^@start(.+?)\s+/m);if(B?p.match(new RegExp(`^\\@end${B[1]}`,"m"))||(p=`@startuml
@enduml`):p=`@startuml
${p}
@enduml`,!o0[b])if(x)o0[b]=new i0(x);else{if(!N3(T))throw new Error(`plantuml.jar file not found: "${T}"

Please download plantuml.jar from https://plantuml.com/download.  
${T?`Then please put it at "${T}"`:""}

If you are using VSCode or coc.nvim, then please set the setting "markdown-preview-enhanced.plantumlJarPath" to the absolute path of plantuml.jar file.

If you don't want to use plantuml.jar, then you can use the online plantuml server 
by setting the setting "markdown-preview-enhanced.plantumlServer" to the URL of the online plantuml server, for example: https://kroki.io/plantuml/svg/
`);o0[b]=new oA(T,b)}return await o0[b]?.generateSVG(p)??""}import{loader as O3}from"vega-loader";import*as VD from"yaml";var WD=sA();async function D3(p,b){let x=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`;b&&b[b.length-1]!=="/"&&(b+="/");async function T(){let I=new WD.View(WD.parse(p),{loader:O3({baseURL:b}),renderer:"none"}).initialize();return x+await I.toSVG()}return await vD(T)}async function uh(p="",b=""){p=p.trim();let x;return p[0]!=="{"?x=VD.parse(p):x=JSON.parse(p),D3(x,b)}var JD=uD(XD());import*as ZD from"yaml";async function Bw(p="",b=""){p=p.trim();let x;return p[0]!=="{"?x=ZD.parse(p):x=JSON.parse(p),bD(()=>yD(()=>uh(JSON.stringify(JD.compile(x).spec),b)))}import{instance as L3}from"@viz-js/viz";var Uw=null;async function zw(p,b){try{return Uw||(Uw=await L3()),await Uw.renderString(p,{format:"svg",...b})}catch(x){throw Uw=null,x}}import{execFileSync as F3}from"child_process";import*as QD from"fs";import P3 from"imagemagick-cli";async function eM(p,b,x=""){let T=await Yo({prefix:"crossnote-svg",suffix:".svg"});QD.writeFileSync(T.fd,p);let I=[T.path,b];try{x&&x.length?await F3(x,I):await P3.exec(`convert ${I.join(" ")}`)}catch(B){throw new Error(`imagemagick-cli failure
`+B.toString()+`

Please make sure you have ImageMagick installed.`)}return b}import{execFileSync as $3}from"child_process";import*as tM from"fs";async function nM(p,b,x,T){let I=await Yo({prefix:"crossnote-mermaid",suffix:".mmd"});tM.writeFileSync(I.fd,p),T||(T="null");try{return $3("npx",["-p","@mermaid-js/mermaid-cli","mmdc","--theme",T,"--input",I.path,"--output",b],{shell:!0,cwd:x}),b}catch(B){throw new Error(`mermaid CLI is required to be installed.
Check https://github.com/mermaid-js/mermaid-cli for more information.

`+B.toString())}}import{execFileSync as U3}from"child_process";import*as aM from"fs";async function rM(p,b){let x=await Yo({prefix:"crossnote-wavedrom",suffix:".js"});await aM.writeFileSync(x.fd,p);try{return(await U3("npx",["wavedrom-cli","-i",x.path],{shell:!0,cwd:b})).toString("utf-8")}catch(T){throw new Error(`wavedrom CLI is required to be installed.
Check http://github.com/wavedrom/cli for more information.

`+T.toString())}}async function Gw(p,{fileDirectoryPath:b,projectDirectoryPath:x,imageDirectoryPath:T,imageFilePrefix:I,useRelativeFilePath:B,codeChunksData:P,graphsCache:F,addOptionsStr:j,notebook:W}){let V=p.split(`
`),Q=[],ae=0;for(;ae<V.length;){let Ne=V[ae],Le=Ne.trim();if(Le.match(/^```(.+)"?cmd"?[:=]/)||Le.match(/^```(puml|plantuml|dot|viz|mermaid|vega|vega-lite|wavedrom)/)){let ze=(Ne.match(/^\s*/)??[]).length,Ee=ae+1,ye="";for(;Ee<V.length;){if(V[Ee].trim()==="```"&&(V[Ee].match(/^\s*/)??[]).length===ze){let be={},Se="",ke=Le.match(/\{(.+)\}$/);if(ke)try{be=Vr(ke[0]),Se=ke[1]}catch{be={}}Q.push({start:ae,end:Ee,content:ye,options:be,optionsStr:Se}),ae=Ee;break}ye+=V[Ee]+`
`,Ee+=1}}else if(Le.match(/^```\S/)){let ze=Ne.indexOf(" ",Ne.indexOf("```"));ze>0&&(V[ae]=Ne.slice(0,ze))}else Le||(V[ae]="  ");ae+=1}I||(I=Math.random().toString(36).substr(2,9)+"_"),I=I.replace(/[/&]/g,"_ss_"),I=encodeURIComponent(I);let pe=0,Z=[],te=[],ue=null;for(let Ne in P)if(!P[Ne].prev){ue=P[Ne];break}function he(Ne,Le,ze){let Ee=Le;for(;Ee<=ze;)Ne[Ee]="",Ee+=1}async function me(Ne="",Le,ze,Ee,ye,be,Se,ke){Ne||(Ne=I+pe+".png");let We=Wu.resolve(T,Ne);await eM(Le,We,W.config.imageMagickPath);let Pe;if(B?Pe=Wu.relative(b,We)+"?"+Math.random():Pe="/"+Wu.relative(x,We)+"?"+Math.random(),Pe=Pe.replace(/\\/g,"/"),pe++,be){he(ze,Ee,ye);let De=Se;De==null&&(De="");let lt="";j&&(lt=`{${ke}}`),ze[ye]+=`
![${De}](${Pe})${lt}  `}return te.push(We),Pe}for(let Ne of Q){let{start:Le,end:ze,content:Ee,options:ye,optionsStr:be}=Ne,Se=V[Le].trim().slice(3).trim();if(!ye.code_block){if(Se.match(/^(puml|plantuml)/))try{let ke=La(be+Ee),We=F[ke];We||(We=await Fw({content:Ee,fileDirectoryPath:b,plantumlJarPath:W.config.plantumlJarPath,serverURL:W.config.plantumlServer})),await me(ye.filename,We,V,Le,ze,!0,ye.alt,be)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(Se.match(/^(viz|dot)/))try{let ke=La(be+Ee),We=F[ke];if(!We){let Pe=ye.engine||"dot";We=await zw(Ee,{engine:Pe})}await me(ye.filename,We,V,Le,ze,!0,ye.alt,be)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(Se.match(/^vega-lite/))try{let ke=La(be+Ee),We=F[ke];We||(We=await Bw(Ee,b)),await me(ye.filename,We,V,Le,ze,!0,ye.alt,be)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(Se.match(/^vega/))try{let ke=La(be+Ee),We=F[ke];We||(We=await uh(Ee,b)),await me(ye.filename,We,V,Le,ze,!0,ye.alt,be)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(Se.match(/^mermaid/))try{let ke=ye.filename;ke||(ke=I+pe+".png");let We=Wu.resolve(T,ke);pe++,await nM(Ee,We,x,W.config.mermaidTheme);let Pe;B?Pe=Wu.relative(b,We)+"?"+Math.random():Pe="/"+Wu.relative(x,We)+"?"+Math.random(),he(V,Le,ze);let De=ye.alt;De==null&&(De="");let lt="";j&&(lt=`{${be}}`),V[ze]+=`
![${De}](${Pe.replace(/\\/g,"/")})${lt}  `,te.push(We)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(Se.match(/^wavedrom/))try{let ke=La(be+Ee),We=F[ke];We||(We=await rM(Ee,x)),await me(ye.filename,We,V,Le,ze,!0,ye.alt,be)}catch(ke){he(V,Le,ze),V[ze]+=`
\`\`\`
${ke}
\`\`\`  
`}else if(ue){if(ue.normalizedInfo.attributes.hide)he(V,Le,ze);else{let ke=V[Le],We=ke.indexOf(" ",ke.indexOf("```"));V[Le]=ke.slice(0,We)}if(ue.result){let ke=ue.result,We=ue.normalizedInfo.attributes;if(We.output==="html"||We.matplotlib){let Pe=iM.load(ue.result);Pe("svg").length===1&&(ke=`![](${(await me(We.filename,Pe.html("svg"),V,Le,ze,!1,ye.alt,be)).replace(/\\/g,"/")})  
`)}else(n0(ue.normalizedInfo)||"").match(/^(la)?tex$/)?ke=await iA(Ee,b,Object.assign({},We,{latex_svg_dir:T})):ue.normalizedInfo.attributes.output==="markdown"?ke=ue.plainResult:(!We.output||We.output==="text")&&(ke=`
\`\`\`
${ue.plainResult}\`\`\`
`);V[ze]+=`
`+ke}ue.next?ue=P[ue.next]:ue=null}}}return await Promise.all(Z),{outputString:V.filter(Ne=>Ne).join(`
`),imagePaths:te}}function j3(p,{mathInlineDelimiters:b,mathBlockDelimiters:x,mathRenderingOnlineService:T}){let I=p.replace(/\\\$/g,"#slash_dollarsign#"),B=b,P=x,F="(?:"+B.map(Q=>Q[0]).join("|").replace(/\\/g,"\\\\").replace(/([()[\]$])/g,"\\$1")+")",j="(?:"+B.map(Q=>Q[1]).join("|").replace(/\\/g,"\\\\").replace(/([()[\]$])/g,"\\$1")+")",W="(?:"+P.map(Q=>Q[0]).join("|").replace(/\\/g,"\\\\").replace(/([()[\]$])/g,"\\$1")+")",V="(?:"+P.map(Q=>Q[1]).join("|").replace(/\\/g,"\\\\").replace(/([()[\]$])/g,"\\$1")+")";return I=I.replace(new RegExp(`(\`\`\`(?:[\\s\\S]+?)\`\`\`\\s*(?:\\n|$))|(?:${W}([\\s\\S]+?)${V})`,"g"),(Q,ae,pe)=>{if(ae)return ae;let Z=pe;return Z=Z.replace(/\n/g,"").replace(/#slash_dollarsign#/g,"\\$"),Z=oM(Z),`<p align="center"><img src="${T}?${Z.trim().replace(/ /g,"%20")}"/></p>  
`}),I=I.replace(new RegExp(`(\`\`\`(?:[\\s\\S]+?)\`\`\`\\s*(?:\\n|$))|(?:${F}([\\s\\S]+?)${j})`,"g"),(Q,ae,pe)=>{if(ae)return ae;let Z=pe;return Z=Z.replace(/\n/g,"").replace(/#slash_dollarsign#/g,"\\$"),Z=oM(Z),`<img src="${T}?${Z.trim().replace(/ /g,"%20")}"/>`}),I=I.replace(/#slash_dollarsign#/g,"\\$"),I}function H3(p,b,x,T,I){function B(j){return j.match(I)||(T?j.startsWith("/")&&(j=Ls.relative(b,Ls.resolve(x,"."+j))):j.startsWith("/")||(j="/"+Ls.relative(x,Ls.resolve(b,j)))),j.replace(/\\/g,"/")}let P=!1,F=p.split(`
`);return F=F.map(j=>{if(j.match(/^\s*```/))return P=!P,j;if(P)return j;{let W=/(!?\[.*?]\()([^)|^'|^"]*)(.*?\))/gi;return j=j.replace(W,(V,Q,ae,pe)=>ae[0]==="<"?(ae=ae.slice(1,ae.length-1),Q+"<"+B(ae.trim())+"> "+pe):Q+B(ae.trim())+" "+pe),W=/(<[img|a|iframe].*?[src|href]=['"])(.+?)(['"].*?>)/gi,j=j.replace(W,(V,Q,ae,pe)=>Q+B(ae)+pe),j}}),F.join(`
`)}async function lM(p,{projectDirectoryPath:b,fileDirectoryPath:x,protocolsWhiteListRegExp:T,filesCache:I,codeChunksData:B,graphsCache:P,notebook:F},j){if(!j.path)throw new Error("{path} has to be specified");if(!j.image_dir)throw new Error("{image_dir} has to be specified");let W;j.path[0]==="/"?W=Ls.resolve(b,"."+j.path):W=Ls.resolve(x,j.path);for(let Z in I)Z.endsWith(".pdf")&&delete I[Z];let V;j.image_dir[0]==="/"?V=Ls.resolve(b,"."+j.image_dir):V=Ls.resolve(x,j.image_dir);let Q=!j.absolute_image_path;F.config.parserConfig.onWillParseMarkdown&&(p=await F.config.parserConfig.onWillParseMarkdown(p));let ae=await Rd(p,{fileDirectoryPath:x,projectDirectoryPath:b,useRelativeFilePath:Q,filesCache:I,forPreview:!1,usePandocParser:!0,forMarkdownExport:!0,protocolsWhiteListRegExp:T,imageDirectoryPath:V,notebook:F});if(p=ae.outputString,ae.tocBracketEnabled){let Z=ae.headings,{content:te}=lh(Z,{ordered:!1,depthFrom:1,depthTo:6,tab:"  "});p=p.replace(/^\s*(?:<p[^>]*>)?<span>\[CROSSNOTETOC\]<\/span>(?:<\/p>)?\s*/gm,`

`+te+`

`)}return p=H3(p,x,b,Q,T),p=F.config.mathRenderingOption!=="None"?j3(p,{mathInlineDelimiters:F.config.mathInlineDelimiters,mathBlockDelimiters:F.config.mathBlockDelimiters,mathRenderingOnlineService:F.config.mathRenderingOnlineService}):p,await new Promise((Z,te)=>{G3(V).then(()=>{Gw(p,{fileDirectoryPath:x,projectDirectoryPath:b,imageDirectoryPath:V,imageFilePrefix:La(W),useRelativeFilePath:Q,codeChunksData:B,graphsCache:P,addOptionsStr:!1,notebook:F}).then(({outputString:ue})=>{ue=ae.frontMatterString+ue,sM.writeFile(W,ue,{encoding:"utf-8"},he=>he?te(he.toString()):Z(W))})}).catch(ue=>{if(ue)return te(ue.toString())})})}import{execFile as q3}from"child_process";import*as cM from"fs";import*as lA from"mkdirp";import*as Cr from"path";import*as dM from"yaml";function uM(p){return p==="pdf_document"||p==="beamer_presentation"?"pdf":p==="word_document"?"docx":p==="rtf_document"?"rtf":p==="custom_document"?"*":null}function W3(p,b,x="pdflatex"){if(p.toc&&b.push("--toc"),p.toc_depth&&b.push("--toc-depth="+p.toc_depth),p.highlight&&(p.highlight==="default"&&(p.highlight="pygments"),b.push("--highlight-style="+p.highlight)),p.reference_docx&&b.push("--reference-docx="+p.reference_docx),p.reference_doc&&b.push("--reference-doc="+p.reference_doc),p.highlight===null&&b.push("--no-highlight"),p.citation_package&&(p.citation_package==="natbib"?b.push("--natbib"):p.citation_package==="biblatex"&&b.push("--biblatex")),p.number_sections&&b.push("--number-sections"),p.incremental&&b.push("--incremental"),p.slide_level&&b.push("--slide-level="+p.slide_level),p.theme&&b.push("-V","theme:"+p.theme),p.colortheme&&b.push("-V","colortheme:"+p.colortheme),p.fonttheme&&b.push("-V","fonttheme:"+p.fonttheme),p.latex_engine?b.push("--pdf-engine="+p.latex_engine):p.pdf_engine?b.push("--pdf-engine="+p.pdf_engine):b.push("--pdf-engine="+x),p.includes&&typeof p.includes=="object"){let T=p.includes,I=(B,P)=>{typeof P=="string"?b.push(B+P):P.constructor===Array?P.forEach(F=>b.push(B+F)):b.push(B+P)};T.in_header&&I("--include-in-header=",T.in_header),T.before_body&&I("--include-before-body=",T.before_body),T.after_body&&I("--include-after-body=",T.after_body)}p.template&&b.push("--template="+p.template),p.pandoc_args&&p.pandoc_args.forEach(T=>b.push(T))}function V3(p,b){let x=Cr.resolve(p,"_output.yaml"),T="";try{T=cM.readFileSync(x,{encoding:"utf-8"})}catch{return Object.assign({},b)}let I={};if(T&&(I=Rw(T)),b.output)if(typeof b.output=="string"&&I[b.output]){let B=b.output;b.output={},b.output[B]=I[B]}else{let B=Object.keys(b.output)[0];I[B]&&(b.output[B]=Object.assign({},I[B],b.output[B]))}return Object.assign({},I,b)}function Y3(p,b,x){function T(P){return P.startsWith("/")?Cr.relative(b,Cr.resolve(x,"."+P)):P}let I=!1,B=p.split(`
`);return B=B.map(P=>{if(P.match(/^\s*```/))return I=!I,P;if(I)return P;{let F=/(!?\[.*?]\()([^)|^'|^"]*)(.*?\))/gi;return P=P.replace(F,(j,W,V,Q)=>V[0]==="<"?(V=V.slice(1,V.length-1),W+"<"+T(V.trim())+"> "+Q):W+T(V.trim())+" "+Q),F=/(<[img|a|iframe].*?[src|href]=['"])(.+?)(['"].*?>)/gi,P=P.replace(F,(j,W,V,Q)=>W+T(V)+Q),P}}),B.join(`
`)}async function fM(p,{fileDirectoryPath:b,projectDirectoryPath:x,sourceFilePath:T,filesCache:I,protocolsWhiteListRegExp:B,codeChunksData:P,graphsCache:F,notebook:j},W={}){W=V3(b,W);let V=["-f",j.config.pandocMarkdownFlavor.replace(/-raw_tex/,"")],Q=null,ae=null,pe=null;if(W.output)typeof W.output=="string"?(pe=W.output,Q=uM(pe)):(pe=Object.keys(W.output)[0],Q=uM(pe),ae=W.output[pe]);else throw new Error("Output format needs to be specified.");if(Q===null)throw new Error("Invalid document type.");if(pe==="custom_document"&&(!ae||!ae.path))throw new Error("custom_document requires path to be defined.");pe==="beamer_presentation"&&V.push("-t","beamer");let Z;if(ae&&ae.path){if(Z=ae.path,Z.startsWith("/")?Z=Cr.resolve(x,"."+Z):Z=Cr.resolve(b,Z),pe!=="custom_document"&&Cr.extname(Z)!=="."+Q)throw new Error("Invalid extension for "+pe+". Extension ."+Q+" is required, but "+Cr.extname(Z)+" was provided.");V.push("-o",Z)}else Z=T,Z=Z.slice(0,Z.length-Cr.extname(Z).length)+"."+Q,V.push("-o",Z);W3(ae||{},V,j.config.latexEngine),j.config.parserConfig.onWillParseMarkdown&&(p=await j.config.parserConfig.onWillParseMarkdown(p));let te=await Rd(p,{fileDirectoryPath:b,projectDirectoryPath:x,useRelativeFilePath:!0,filesCache:I,protocolsWhiteListRegExp:B,forPreview:!1,usePandocParser:!0,notebook:j});if(p=te.outputString,p=`---
`+dM.stringify(W)+`---
`+p,te.tocBracketEnabled){let Ne=te.headings,{content:Le}=lh(Ne,{ordered:!1,depthFrom:1,depthTo:6,tab:"  "});p=p.replace(/^\s*(?:<p[^>]*>)?<span>\[CROSSNOTETOC\]<\/span>(?:<\/p>)?\s*/gm,`

`+Le+`

`)}p=Y3(p,b,x),V.find(Ne=>Ne.includes("pandoc-citeproc")||Ne.includes("--defaults"))===void 0&&(W.bibliography||W.references)&&V.push("--citeproc");let me=j.config.imageFolderPath;me[0]==="/"?me=Cr.resolve(x,"."+me):me=Cr.resolve(b,me),await lA.sync(me);let{outputString:Re}=await Gw(p,{fileDirectoryPath:b,projectDirectoryPath:x,imageDirectoryPath:me,imageFilePrefix:La(Z),useRelativeFilePath:!0,codeChunksData:P,graphsCache:F,addOptionsStr:!0,notebook:j});return await lA.sync(Cr.dirname(Z)),await new Promise((Ne,Le)=>{q3(j.config.pandocPath,V,{cwd:b},Ee=>Ee?Le(Ee.toString()):Ne(Z)).stdin?.end(Re)})}import{execFile as K3}from"child_process";function pM(p,b){return new Promise((x,T)=>{K3("prince",[p,"--javascript","-o",b],I=>{if(I){let B=I.toString();return I.message.indexOf("spawn prince ENOENT")>=0&&(B='"princexml" is required to be installed.'),T(B)}return x()})})}var X3=p=>typeof p=="string"?p.trim().toLowerCase():"",jw=p=>{let b=kD(p.attributes),x=X3(p.language);return b!==p.attributes||x!==p.language?{language:x,attributes:b}:p};var Hw=(p="")=>{let b,x,T,I=p.trim(),B=I.indexOf("{")!==-1?I.match(/^([^\s{]*)\s*\{(.*?)\}/):I.match(/^([^\s]+)\s+(.+?)$/);if(B?(B[1].length&&(b=B[1]),x=B[2]):(b=I,x=""),x)try{T=Vr(x)}catch{T={}}else T={};let P=T.class?T.class.split(/\s+/):[];return b||(b=P[0]||"text"),P.includes(b)||(T.class=[b,...P].join(" ")),{language:b,attributes:T}};import{Mutex as fz}from"async-mutex";import*as NM from"case-anything";import pz from"markdown-it";import hz from"markdown-it-abbr";import mz from"markdown-it-deflist";import gz from"markdown-it-footnote";import bz from"markdown-it-mark";import yz from"markdown-it-sub";import vz from"markdown-it-sup";import*as en from"path";import{URI as Ez,Utils as wz}from"vscode-uri";var hM=p=>{let T=["note","summary","abstract","tldr","info","todo","tip","hint","success","check","done","question","help","faq","warning","attention","caution","failure","fail","missing","danger","error","bug","example","snippet","quote","cite"];function I(){p.block.ruler.after("fence","admonition",P,{alt:[]}),p.renderer.rules.admonition_open=B,p.renderer.rules.admonition_title_open=B,p.renderer.rules.admonition_title_close=B,p.renderer.rules.admonition_close=B}function B(F,j,W,V,Q){let ae=F[j];return ae.type==="admonition_open"?F[j].attrPush(["class","admonition "+ae.info]):ae.type==="admonition_title_open"&&F[j].attrPush(["class","admonition-title"]),Q.renderToken(F,j,W)}function P(F,j,W,V){if(F.tShift[j]-F.blkIndent>=4)return!1;let Q=F.bMarks[j]+F.tShift[j],ae=F.eMarks[j],pe=F.src.charCodeAt(Q);if(pe!==33)return!1;let Z=Q;if(Q=F.skipChars(Q,pe),Q-Z<3)return!1;let ue=F.src.slice(Z,Q),he="",me="",Re=F.src.slice(Q,ae).trim().split(" ");if(he=(Re.shift()??"").toLowerCase(),me=Re.join(" "),T.indexOf(he)<0&&(he="note"),me||(me=he.substr(0,1).toUpperCase()+he.substr(1,he.length-1)),V)return!0;let Ne=F.parentType,Le=F.lineMax,ze=F.blkIndent;F.blkIndent+=4;let Ee=j;for(;Ee++,!(Ee>=W||(Q=Z=F.bMarks[Ee]+F.tShift[Ee],ae=F.eMarks[Ee],Q<ae&&F.sCount[Ee]<F.blkIndent)););F.parentType="admonition",F.lineMax=Ee;let ye=F.push("admonition_open","div",1);return ye.markup=ue,ye.block=!0,ye.info=he,ye.map=[j,j+1],me!=='""'&&(ye=F.push("admonition_title_open","p",1),ye.markup=ue+" "+he,ye.map=[j,j+1],ye=F.push("inline","",0),ye.content=me,ye.map=[j,j+1],ye.children=[],ye=F.push("admonition_title_close","p",-1),ye.markup=ue+" "+he),F.md.block.tokenize(F,j+1,Ee),ye=F.push("admonition_close","div",-1),ye.markup=ue,ye.map=[j,Ee],ye.block=!0,F.parentType=Ne,F.lineMax=Le,F.line=Ee,F.blkIndent=ze,!0}I()};import{escape as qw}from"html-escaper";var mM=p=>{p.renderer.rules.fence=(b,x)=>{let T=b[x],I=T.info.trim(),B=Hw(I),P=jw(B),F=qw(T.content),j=x<b.length&&b[x].type==="list_item_close"?`
`:"";return`<pre data-role="codeBlock" data-info="${qw(I)}" data-parsed-info="${qw(JSON.stringify(B))}" data-normalized-info="${qw(JSON.stringify(P))}" ${"data-source-line"in B.attributes?`data-source-line="${B.attributes["data-source-line"]}"`:""}>${F}</pre>${j}`}};var gM=(p,b)=>{p.inline.ruler.before("strikethrough","critic-markup",(x,T)=>{if(!b.config.enableCriticMarkupSyntax)return!1;let{src:B,pos:P}=x;if(B[P]==="{"&&(B[P+1]==="-"&&B[P+2]==="-"||B[P+1]==="+"&&B[P+2]==="+"||B[P+1]==="~"&&B[P+2]==="~"||B[P+1]==="="&&B[P+2]==="="||B[P+1]===">"&&B[P+2]===">")){let F=B.slice(P+1,P+3),j=F[0]===">"?"<<}":`${F}}`,W=P+3,V=-1,Q=null;for(;W<B.length;){if(B.startsWith(j,W)){V=W;break}W+=1}if(V>=0)Q=B.slice(P+3,V);else return!1;if(Q&&!T){let ae=x.push("critic-markup","",0);return ae.content=Q,ae.tag=F,x.pos=V+j.length,!0}else return!1}else return!1}),p.renderer.rules["critic-markup"]=(x,T)=>{let I=x[T],B=I.tag,P=I.content;if(B==="--")return`<del>${P}</del>`;if(B==="++")return`<ins>${P}</ins>`;if(B==="==")return`<mark>${P}</mark>`;if(B===">>")return`<span style="display:none">${P}</span>`;{let F=P.split("~>");return F.length===2?`<del>${F[0]}</del><ins>${F[1]}</ins>`:"<code>Error: ~> not found.</code>"}}};var bM=p=>{p.core.ruler.push("curly_bracket_attributes",x=>{let T=x.tokens;for(let I=0;I<T.length;I++)if(T[I].type==="heading_open"){let B=T[I+1];if(B.type==="inline"){if(b(B),!B.children||B.children.length===0)continue;let P=B.children[B.children.length-1];if(P.type==="text"){let F=P.content.match(/{([^}]+)}\s*$/);if(F){let j=Vr(F[1]);P.content=P.content.replace(F[0],"");for(let W in j)T[I].attrJoin(W,j[W])}}}}else T[I].type==="inline"&&b(T[I])});function b(x){let T=x.children;if(!(!T||T.length===0))for(let I=0;I<T.length;I++){let B=T[I];if(B.type==="image"&&T[I+1]?.type==="text"){let P=T[I+1].content.match(/^{([^}]+)}/);if(P){let F=Vr(P[1]);T[I+1].content=T[I+1].content.replace(P[0],"");for(let j in F)B.attrJoin(j,F[j])}}else if(B.type==="link_open"){let P=I+1;for(;P<T.length&&T[P].type!=="link_close";)P++;if(I=P,P<T.length-1&&T[P+1].type==="text"){let F=T[P+1].content.match(/^{([^}]+)}/);if(F){let j=Vr(F[1]);T[P+1].content=T[P+1].content.replace(F[0],"");for(let W in j)B.attrJoin(W,j[W])}}}}}};import Q3 from"markdown-it-emoji";import ez from"markdown-it-emoji/lib/data/full.json";var Z3=["fa-accessible-icon","fa-american-sign-language-interpreting","fa-assistive-listening-systems","fa-audio-description","fa-blind","fa-braille","fa-closed-captioning","fa-deaf","fa-low-vision","fa-phone-volume","fa-question-circle","fa-sign-language","fa-tty","fa-universal-access","fa-wheelchair","fa-bell","fa-bell-slash","fa-exclamation","fa-exclamation-circle","fa-exclamation-triangle","fa-radiation","fa-radiation-alt","fa-skull-crossbones","fa-cat","fa-crow","fa-dog","fa-dove","fa-dragon","fa-feather","fa-feather-alt","fa-fish","fa-frog","fa-hippo","fa-horse","fa-horse-head","fa-kiwi-bird","fa-otter","fa-paw","fa-spider","fa-angle-double-down","fa-angle-double-left","fa-angle-double-right","fa-angle-double-up","fa-angle-down","fa-angle-left","fa-angle-right","fa-angle-up","fa-arrow-alt-circle-down","fa-arrow-alt-circle-left","fa-arrow-alt-circle-right","fa-arrow-alt-circle-up","fa-arrow-circle-down","fa-arrow-circle-left","fa-arrow-circle-right","fa-arrow-circle-up","fa-arrow-down","fa-arrow-left","fa-arrow-right","fa-arrow-up","fa-arrows-alt","fa-arrows-alt-h","fa-arrows-alt-v","fa-caret-down","fa-caret-left","fa-caret-right","fa-caret-square-down","fa-caret-square-left","fa-caret-square-right","fa-caret-square-up","fa-caret-up","fa-cart-arrow-down","fa-chart-line","fa-chevron-circle-down","fa-chevron-circle-left","fa-chevron-circle-right","fa-chevron-circle-up","fa-chevron-down","fa-chevron-left","fa-chevron-right","fa-chevron-up","fa-cloud-download-alt","fa-cloud-upload-alt","fa-compress-alt","fa-compress-arrows-alt","fa-download","fa-exchange-alt","fa-expand-alt","fa-expand-arrows-alt","fa-external-link-alt","fa-external-link-square-alt","fa-hand-point-down","fa-hand-point-left","fa-hand-point-right","fa-hand-point-up","fa-hand-pointer","fa-history","fa-level-down-alt","fa-level-up-alt","fa-location-arrow","fa-long-arrow-alt-down","fa-long-arrow-alt-left","fa-long-arrow-alt-right","fa-long-arrow-alt-up","fa-mouse-pointer","fa-play","fa-random","fa-recycle","fa-redo","fa-redo-alt","fa-reply","fa-reply-all","fa-retweet","fa-share","fa-share-square","fa-sign-in-alt","fa-sign-out-alt","fa-sort","fa-sort-alpha-down","fa-sort-alpha-down-alt","fa-sort-alpha-up","fa-sort-alpha-up-alt","fa-sort-amount-down","fa-sort-amount-down-alt","fa-sort-amount-up","fa-sort-amount-up-alt","fa-sort-down","fa-sort-numeric-down","fa-sort-numeric-down-alt","fa-sort-numeric-up","fa-sort-numeric-up-alt","fa-sort-up","fa-sync","fa-sync-alt","fa-text-height","fa-text-width","fa-undo","fa-undo-alt","fa-upload","fa-audio-description","fa-backward","fa-broadcast-tower","fa-circle","fa-closed-captioning","fa-compress","fa-compress-alt","fa-compress-arrows-alt","fa-eject","fa-expand","fa-expand-alt","fa-expand-arrows-alt","fa-fast-backward","fa-fast-forward","fa-file-audio","fa-file-video","fa-film","fa-forward","fa-headphones","fa-microphone","fa-microphone-alt","fa-microphone-alt-slash","fa-microphone-slash","fa-music","fa-pause","fa-pause-circle","fa-phone-volume","fa-photo-video","fa-play","fa-play-circle","fa-podcast","fa-random","fa-redo","fa-redo-alt","fa-rss","fa-rss-square","fa-step-backward","fa-step-forward","fa-stop","fa-stop-circle","fa-sync","fa-sync-alt","fa-tv","fa-undo","fa-undo-alt","fa-video","fa-volume-down","fa-volume-mute","fa-volume-off","fa-volume-up","fa-youtube","fa-air-freshener","fa-ambulance","fa-bus","fa-bus-alt","fa-car","fa-car-alt","fa-car-battery","fa-car-crash","fa-car-side","fa-caravan","fa-charging-station","fa-gas-pump","fa-motorcycle","fa-oil-can","fa-shuttle-van","fa-tachometer-alt","fa-taxi","fa-trailer","fa-truck","fa-truck-monster","fa-truck-pickup","fa-apple-alt","fa-campground","fa-cloud-sun","fa-drumstick-bite","fa-football-ball","fa-hiking","fa-mountain","fa-tractor","fa-tree","fa-wind","fa-wine-bottle","fa-beer","fa-blender","fa-cocktail","fa-coffee","fa-flask","fa-glass-cheers","fa-glass-martini","fa-glass-martini-alt","fa-glass-whiskey","fa-mug-hot","fa-wine-bottle","fa-wine-glass","fa-wine-glass-alt","fa-archway","fa-building","fa-campground","fa-church","fa-city","fa-clinic-medical","fa-dungeon","fa-gopuram","fa-home","fa-hospital","fa-hospital-alt","fa-hospital-user","fa-hotel","fa-house-damage","fa-igloo","fa-industry","fa-kaaba","fa-landmark","fa-monument","fa-mosque","fa-place-of-worship","fa-school","fa-store","fa-store-alt","fa-synagogue","fa-torii-gate","fa-university","fa-vihara","fa-warehouse","fa-address-book","fa-address-card","fa-archive","fa-balance-scale","fa-balance-scale-left","fa-balance-scale-right","fa-birthday-cake","fa-book","fa-briefcase","fa-building","fa-bullhorn","fa-bullseye","fa-business-time","fa-calculator","fa-calendar","fa-calendar-alt","fa-certificate","fa-chart-area","fa-chart-bar","fa-chart-line","fa-chart-pie","fa-city","fa-clipboard","fa-coffee","fa-columns","fa-compass","fa-copy","fa-copyright","fa-cut","fa-edit","fa-envelope","fa-envelope-open","fa-envelope-square","fa-eraser","fa-fax","fa-file","fa-file-alt","fa-folder","fa-folder-minus","fa-folder-open","fa-folder-plus","fa-glasses","fa-globe","fa-highlighter","fa-industry","fa-landmark","fa-laptop-house","fa-marker","fa-paperclip","fa-paste","fa-pen","fa-pen-alt","fa-pen-fancy","fa-pen-nib","fa-pen-square","fa-pencil-alt","fa-percent","fa-phone","fa-phone-alt","fa-phone-slash","fa-phone-square","fa-phone-square-alt","fa-phone-volume","fa-print","fa-project-diagram","fa-registered","fa-save","fa-sitemap","fa-socks","fa-sticky-note","fa-stream","fa-table","fa-tag","fa-tags","fa-tasks","fa-thumbtack","fa-trademark","fa-wallet","fa-binoculars","fa-campground","fa-caravan","fa-compass","fa-faucet","fa-fire","fa-fire-alt","fa-first-aid","fa-frog","fa-hiking","fa-map","fa-map-marked","fa-map-marked-alt","fa-map-signs","fa-mountain","fa-route","fa-toilet-paper","fa-trailer","fa-tree","fa-dollar-sign","fa-donate","fa-dove","fa-gift","fa-globe","fa-hand-holding-heart","fa-hand-holding-usd","fa-hand-holding-water","fa-hands-helping","fa-handshake","fa-heart","fa-leaf","fa-parachute-box","fa-piggy-bank","fa-ribbon","fa-seedling","fa-comment","fa-comment-alt","fa-comment-dots","fa-comment-medical","fa-comment-slash","fa-comments","fa-frown","fa-icons","fa-meh","fa-phone","fa-phone-alt","fa-phone-slash","fa-poo","fa-quote-left","fa-quote-right","fa-smile","fa-sms","fa-video","fa-video-slash","fa-chess","fa-chess-bishop","fa-chess-board","fa-chess-king","fa-chess-knight","fa-chess-pawn","fa-chess-queen","fa-chess-rook","fa-square-full","fa-apple-alt","fa-baby","fa-baby-carriage","fa-bath","fa-biking","fa-birthday-cake","fa-cookie","fa-cookie-bite","fa-gamepad","fa-ice-cream","fa-mitten","fa-robot","fa-school","fa-shapes","fa-snowman","fa-graduation-cap","fa-hat-cowboy","fa-hat-cowboy-side","fa-hat-wizard","fa-mitten","fa-shoe-prints","fa-socks","fa-tshirt","fa-user-tie","fa-archive","fa-barcode","fa-bath","fa-bug","fa-code","fa-code-branch","fa-coffee","fa-file","fa-file-alt","fa-file-code","fa-filter","fa-fire-extinguisher","fa-folder","fa-folder-open","fa-keyboard","fa-laptop-code","fa-microchip","fa-project-diagram","fa-qrcode","fa-shield-alt","fa-sitemap","fa-stream","fa-terminal","fa-user-secret","fa-window-close","fa-window-maximize","fa-window-minimize","fa-window-restore","fa-address-book","fa-address-card","fa-american-sign-language-interpreting","fa-assistive-listening-systems","fa-at","fa-bell","fa-bell-slash","fa-bluetooth","fa-bluetooth-b","fa-broadcast-tower","fa-bullhorn","fa-chalkboard","fa-comment","fa-comment-alt","fa-comments","fa-envelope","fa-envelope-open","fa-envelope-square","fa-fax","fa-inbox","fa-language","fa-microphone","fa-microphone-alt","fa-microphone-alt-slash","fa-microphone-slash","fa-mobile","fa-mobile-alt","fa-paper-plane","fa-phone","fa-phone-alt","fa-phone-slash","fa-phone-square","fa-phone-square-alt","fa-phone-volume","fa-rss","fa-rss-square","fa-tty","fa-voicemail","fa-wifi","fa-compact-disc","fa-database","fa-desktop","fa-download","fa-ethernet","fa-hdd","fa-headphones","fa-keyboard","fa-laptop","fa-laptop-house","fa-memory","fa-microchip","fa-mobile","fa-mobile-alt","fa-mouse","fa-plug","fa-power-off","fa-print","fa-satellite","fa-satellite-dish","fa-save","fa-sd-card","fa-server","fa-sim-card","fa-stream","fa-tablet","fa-tablet-alt","fa-tv","fa-upload","fa-brush","fa-drafting-compass","fa-dumpster","fa-hammer","fa-hard-hat","fa-paint-roller","fa-pencil-alt","fa-pencil-ruler","fa-ruler","fa-ruler-combined","fa-ruler-horizontal","fa-ruler-vertical","fa-screwdriver","fa-toolbox","fa-tools","fa-truck-pickup","fa-wrench","fa-bitcoin","fa-btc","fa-dollar-sign","fa-ethereum","fa-euro-sign","fa-gg","fa-gg-circle","fa-hryvnia","fa-lira-sign","fa-money-bill","fa-money-bill-alt","fa-money-bill-wave","fa-money-bill-wave-alt","fa-money-check","fa-money-check-alt","fa-pound-sign","fa-ruble-sign","fa-rupee-sign","fa-shekel-sign","fa-tenge","fa-won-sign","fa-yen-sign","fa-bell","fa-bell-slash","fa-calendar","fa-calendar-alt","fa-calendar-check","fa-calendar-minus","fa-calendar-plus","fa-calendar-times","fa-clock","fa-hourglass","fa-hourglass-end","fa-hourglass-half","fa-hourglass-start","fa-stopwatch","fa-adjust","fa-bezier-curve","fa-brush","fa-clone","fa-copy","fa-crop","fa-crop-alt","fa-crosshairs","fa-cut","fa-drafting-compass","fa-draw-polygon","fa-edit","fa-eraser","fa-eye","fa-eye-dropper","fa-eye-slash","fa-fill","fa-fill-drip","fa-highlighter","fa-icons","fa-layer-group","fa-magic","fa-marker","fa-object-group","fa-object-ungroup","fa-paint-brush","fa-paint-roller","fa-palette","fa-paste","fa-pen","fa-pen-alt","fa-pen-fancy","fa-pen-nib","fa-pencil-alt","fa-pencil-ruler","fa-ruler-combined","fa-ruler-horizontal","fa-ruler-vertical","fa-save","fa-splotch","fa-spray-can","fa-stamp","fa-swatchbook","fa-tint","fa-tint-slash","fa-vector-square","fa-align-center","fa-align-justify","fa-align-left","fa-align-right","fa-bold","fa-border-all","fa-border-none","fa-border-style","fa-clipboard","fa-clone","fa-columns","fa-copy","fa-cut","fa-edit","fa-eraser","fa-file","fa-file-alt","fa-font","fa-glasses","fa-heading","fa-highlighter","fa-i-cursor","fa-icons","fa-indent","fa-italic","fa-link","fa-list","fa-list-alt","fa-list-ol","fa-list-ul","fa-marker","fa-outdent","fa-paper-plane","fa-paperclip","fa-paragraph","fa-paste","fa-pen","fa-pen-alt","fa-pen-fancy","fa-pen-nib","fa-pencil-alt","fa-print","fa-quote-left","fa-quote-right","fa-redo","fa-redo-alt","fa-remove-format","fa-reply","fa-reply-all","fa-screwdriver","fa-share","fa-spell-check","fa-strikethrough","fa-subscript","fa-superscript","fa-sync","fa-sync-alt","fa-table","fa-tasks","fa-text-height","fa-text-width","fa-th","fa-th-large","fa-th-list","fa-tools","fa-trash","fa-trash-alt","fa-trash-restore","fa-trash-restore-alt","fa-underline","fa-undo","fa-undo-alt","fa-unlink","fa-wrench","fa-apple-alt","fa-atom","fa-award","fa-bell","fa-bell-slash","fa-book-open","fa-book-reader","fa-chalkboard","fa-chalkboard-teacher","fa-graduation-cap","fa-laptop-code","fa-microscope","fa-music","fa-school","fa-shapes","fa-theater-masks","fa-user-graduate","fa-angry","fa-dizzy","fa-flushed","fa-frown","fa-frown-open","fa-grimace","fa-grin","fa-grin-alt","fa-grin-beam","fa-grin-beam-sweat","fa-grin-hearts","fa-grin-squint","fa-grin-squint-tears","fa-grin-stars","fa-grin-tears","fa-grin-tongue","fa-grin-tongue-squint","fa-grin-tongue-wink","fa-grin-wink","fa-kiss","fa-kiss-beam","fa-kiss-wink-heart","fa-laugh","fa-laugh-beam","fa-laugh-squint","fa-laugh-wink","fa-meh","fa-meh-blank","fa-meh-rolling-eyes","fa-sad-cry","fa-sad-tear","fa-smile","fa-smile-beam","fa-smile-wink","fa-surprise","fa-tired","fa-atom","fa-battery-empty","fa-battery-full","fa-battery-half","fa-battery-quarter","fa-battery-three-quarters","fa-broadcast-tower","fa-burn","fa-charging-station","fa-fan","fa-fire","fa-fire-alt","fa-gas-pump","fa-industry","fa-leaf","fa-lightbulb","fa-plug","fa-poop","fa-power-off","fa-radiation","fa-radiation-alt","fa-seedling","fa-solar-panel","fa-sun","fa-water","fa-wind","fa-archive","fa-clone","fa-copy","fa-cut","fa-file","fa-file-alt","fa-file-archive","fa-file-audio","fa-file-code","fa-file-excel","fa-file-image","fa-file-pdf","fa-file-powerpoint","fa-file-video","fa-file-word","fa-folder","fa-folder-open","fa-paste","fa-photo-video","fa-save","fa-sticky-note","fa-balance-scale","fa-balance-scale-left","fa-balance-scale-right","fa-book","fa-cash-register","fa-chart-line","fa-chart-pie","fa-coins","fa-comment-dollar","fa-comments-dollar","fa-credit-card","fa-donate","fa-file-invoice","fa-file-invoice-dollar","fa-hand-holding-usd","fa-landmark","fa-money-bill","fa-money-bill-alt","fa-money-bill-wave","fa-money-bill-wave-alt","fa-money-check","fa-money-check-alt","fa-percentage","fa-piggy-bank","fa-receipt","fa-stamp","fa-wallet","fa-bicycle","fa-biking","fa-burn","fa-fire-alt","fa-heart","fa-heartbeat","fa-hiking","fa-running","fa-shoe-prints","fa-skating","fa-skiing","fa-skiing-nordic","fa-snowboarding","fa-spa","fa-swimmer","fa-walking","fa-apple-alt","fa-bacon","fa-bone","fa-bread-slice","fa-candy-cane","fa-carrot","fa-cheese","fa-cloud-meatball","fa-cookie","fa-drumstick-bite","fa-egg","fa-fish","fa-hamburger","fa-hotdog","fa-ice-cream","fa-lemon","fa-pepper-hot","fa-pizza-slice","fa-seedling","fa-stroopwafel","fa-apple-alt","fa-carrot","fa-leaf","fa-lemon","fa-pepper-hot","fa-seedling","fa-chess","fa-chess-bishop","fa-chess-board","fa-chess-king","fa-chess-knight","fa-chess-pawn","fa-chess-queen","fa-chess-rook","fa-dice","fa-dice-d20","fa-dice-d6","fa-dice-five","fa-dice-four","fa-dice-one","fa-dice-six","fa-dice-three","fa-dice-two","fa-gamepad","fa-ghost","fa-headset","fa-heart","fa-playstation","fa-puzzle-piece","fa-steam","fa-steam-square","fa-steam-symbol","fa-twitch","fa-xbox","fa-acquisitions-incorporated","fa-book-dead","fa-critical-role","fa-d-and-d","fa-d-and-d-beyond","fa-dice-d20","fa-dice-d6","fa-dragon","fa-dungeon","fa-fantasy-flight-games","fa-fist-raised","fa-hat-wizard","fa-penny-arcade","fa-ring","fa-scroll","fa-skull-crossbones","fa-wizards-of-the-coast","fa-genderless","fa-mars","fa-mars-double","fa-mars-stroke","fa-mars-stroke-h","fa-mars-stroke-v","fa-mercury","fa-neuter","fa-transgender","fa-transgender-alt","fa-venus","fa-venus-double","fa-venus-mars","fa-book-dead","fa-broom","fa-cat","fa-cloud-moon","fa-crow","fa-ghost","fa-hat-wizard","fa-mask","fa-skull-crossbones","fa-spider","fa-toilet-paper","fa-allergies","fa-fist-raised","fa-hand-holding","fa-hand-holding-heart","fa-hand-holding-medical","fa-hand-holding-usd","fa-hand-holding-water","fa-hand-lizard","fa-hand-middle-finger","fa-hand-paper","fa-hand-peace","fa-hand-point-down","fa-hand-point-left","fa-hand-point-right","fa-hand-point-up","fa-hand-pointer","fa-hand-rock","fa-hand-scissors","fa-hand-sparkles","fa-hand-spock","fa-hands","fa-hands-helping","fa-hands-wash","fa-handshake","fa-handshake-alt-slash","fa-handshake-slash","fa-praying-hands","fa-thumbs-down","fa-thumbs-up","fa-accessible-icon","fa-ambulance","fa-h-square","fa-heart","fa-heartbeat","fa-hospital","fa-medkit","fa-plus-square","fa-prescription","fa-stethoscope","fa-user-md","fa-wheelchair","fa-candy-cane","fa-carrot","fa-cookie-bite","fa-gift","fa-gifts","fa-glass-cheers","fa-holly-berry","fa-mug-hot","fa-sleigh","fa-snowman","fa-baby-carriage","fa-bath","fa-bed","fa-briefcase","fa-car","fa-cocktail","fa-coffee","fa-concierge-bell","fa-dice","fa-dice-five","fa-door-closed","fa-door-open","fa-dumbbell","fa-glass-martini","fa-glass-martini-alt","fa-hot-tub","fa-hotel","fa-infinity","fa-key","fa-luggage-cart","fa-shower","fa-shuttle-van","fa-smoking","fa-smoking-ban","fa-snowflake","fa-spa","fa-suitcase","fa-suitcase-rolling","fa-swimmer","fa-swimming-pool","fa-tv","fa-umbrella-beach","fa-utensils","fa-wheelchair","fa-wifi","fa-bath","fa-bed","fa-bell","fa-blender","fa-box-tissue","fa-chair","fa-coffee","fa-couch","fa-door-closed","fa-door-open","fa-dungeon","fa-fan","fa-faucet","fa-house-user","fa-laptop-house","fa-lightbulb","fa-plug","fa-pump-soap","fa-shower","fa-sink","fa-snowflake","fa-soap","fa-toilet-paper","fa-toilet-paper-slash","fa-tv","fa-adjust","fa-bolt","fa-camera","fa-camera-retro","fa-chalkboard","fa-clone","fa-compress","fa-compress-arrows-alt","fa-expand","fa-eye","fa-eye-dropper","fa-eye-slash","fa-file-image","fa-film","fa-id-badge","fa-id-card","fa-image","fa-images","fa-photo-video","fa-portrait","fa-sliders-h","fa-tint","fa-unsplash","fa-award","fa-ban","fa-barcode","fa-bars","fa-beer","fa-bell","fa-bell-slash","fa-blog","fa-bug","fa-bullhorn","fa-bullseye","fa-calculator","fa-calendar","fa-calendar-alt","fa-calendar-check","fa-calendar-minus","fa-calendar-plus","fa-calendar-times","fa-certificate","fa-check","fa-check-circle","fa-check-double","fa-check-square","fa-circle","fa-clipboard","fa-clone","fa-cloud","fa-cloud-download-alt","fa-cloud-upload-alt","fa-coffee","fa-cog","fa-cogs","fa-copy","fa-cut","fa-database","fa-dot-circle","fa-download","fa-edit","fa-ellipsis-h","fa-ellipsis-v","fa-envelope","fa-envelope-open","fa-eraser","fa-exclamation","fa-exclamation-circle","fa-exclamation-triangle","fa-external-link-alt","fa-external-link-square-alt","fa-eye","fa-eye-slash","fa-file","fa-file-alt","fa-file-download","fa-file-export","fa-file-import","fa-file-upload","fa-filter","fa-fingerprint","fa-flag","fa-flag-checkered","fa-folder","fa-folder-open","fa-frown","fa-glasses","fa-grip-horizontal","fa-grip-lines","fa-grip-lines-vertical","fa-grip-vertical","fa-hashtag","fa-heart","fa-history","fa-home","fa-i-cursor","fa-info","fa-info-circle","fa-language","fa-magic","fa-marker","fa-medal","fa-meh","fa-microphone","fa-microphone-alt","fa-microphone-slash","fa-minus","fa-minus-circle","fa-minus-square","fa-paste","fa-pen","fa-pen-alt","fa-pen-fancy","fa-pencil-alt","fa-plus","fa-plus-circle","fa-plus-square","fa-poo","fa-qrcode","fa-question","fa-question-circle","fa-quote-left","fa-quote-right","fa-redo","fa-redo-alt","fa-reply","fa-reply-all","fa-rss","fa-rss-square","fa-save","fa-screwdriver","fa-search","fa-search-minus","fa-search-plus","fa-share","fa-share-alt","fa-share-alt-square","fa-share-square","fa-shield-alt","fa-sign-in-alt","fa-sign-out-alt","fa-signal","fa-sitemap","fa-sliders-h","fa-smile","fa-sort","fa-sort-alpha-down","fa-sort-alpha-down-alt","fa-sort-alpha-up","fa-sort-alpha-up-alt","fa-sort-amount-down","fa-sort-amount-down-alt","fa-sort-amount-up","fa-sort-amount-up-alt","fa-sort-down","fa-sort-numeric-down","fa-sort-numeric-down-alt","fa-sort-numeric-up","fa-sort-numeric-up-alt","fa-sort-up","fa-star","fa-star-half","fa-sync","fa-sync-alt","fa-thumbs-down","fa-thumbs-up","fa-times","fa-times-circle","fa-toggle-off","fa-toggle-on","fa-tools","fa-trash","fa-trash-alt","fa-trash-restore","fa-trash-restore-alt","fa-trophy","fa-undo","fa-undo-alt","fa-upload","fa-user","fa-user-alt","fa-user-circle","fa-volume-down","fa-volume-mute","fa-volume-off","fa-volume-up","fa-wifi","fa-wrench","fa-box","fa-boxes","fa-clipboard-check","fa-clipboard-list","fa-dolly","fa-dolly-flatbed","fa-hard-hat","fa-pallet","fa-shipping-fast","fa-truck","fa-warehouse","fa-ambulance","fa-anchor","fa-balance-scale","fa-balance-scale-left","fa-balance-scale-right","fa-bath","fa-bed","fa-beer","fa-bell","fa-bell-slash","fa-bicycle","fa-binoculars","fa-birthday-cake","fa-blind","fa-bomb","fa-book","fa-bookmark","fa-briefcase","fa-building","fa-car","fa-coffee","fa-crosshairs","fa-directions","fa-dollar-sign","fa-draw-polygon","fa-eye","fa-eye-slash","fa-fighter-jet","fa-fire","fa-fire-alt","fa-fire-extinguisher","fa-flag","fa-flag-checkered","fa-flask","fa-gamepad","fa-gavel","fa-gift","fa-glass-martini","fa-globe","fa-graduation-cap","fa-h-square","fa-heart","fa-heartbeat","fa-helicopter","fa-home","fa-hospital","fa-image","fa-images","fa-industry","fa-info","fa-info-circle","fa-key","fa-landmark","fa-layer-group","fa-leaf","fa-lemon","fa-life-ring","fa-lightbulb","fa-location-arrow","fa-low-vision","fa-magnet","fa-male","fa-map","fa-map-marker","fa-map-marker-alt","fa-map-pin","fa-map-signs","fa-medkit","fa-money-bill","fa-money-bill-alt","fa-motorcycle","fa-music","fa-newspaper","fa-parking","fa-paw","fa-phone","fa-phone-alt","fa-phone-square","fa-phone-square-alt","fa-phone-volume","fa-plane","fa-plug","fa-plus","fa-plus-square","fa-print","fa-recycle","fa-restroom","fa-road","fa-rocket","fa-route","fa-search","fa-search-minus","fa-search-plus","fa-ship","fa-shoe-prints","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-shower","fa-snowplow","fa-street-view","fa-subway","fa-suitcase","fa-tag","fa-tags","fa-taxi","fa-thumbtack","fa-ticket-alt","fa-tint","fa-traffic-light","fa-train","fa-tram","fa-tree","fa-trophy","fa-truck","fa-tty","fa-umbrella","fa-university","fa-utensil-spoon","fa-utensils","fa-vest","fa-vest-patches","fa-wheelchair","fa-wifi","fa-wine-glass","fa-wrench","fa-anchor","fa-binoculars","fa-compass","fa-dharmachakra","fa-frog","fa-ship","fa-skull-crossbones","fa-swimmer","fa-water","fa-wind","fa-ad","fa-bullhorn","fa-bullseye","fa-comment-dollar","fa-comments-dollar","fa-envelope-open-text","fa-funnel-dollar","fa-lightbulb","fa-mail-bulk","fa-poll","fa-poll-h","fa-search-dollar","fa-search-location","fa-calculator","fa-divide","fa-equals","fa-greater-than","fa-greater-than-equal","fa-infinity","fa-less-than","fa-less-than-equal","fa-minus","fa-not-equal","fa-percentage","fa-plus","fa-square-root-alt","fa-subscript","fa-superscript","fa-times","fa-wave-square","fa-allergies","fa-ambulance","fa-bacteria","fa-bacterium","fa-band-aid","fa-biohazard","fa-bone","fa-bong","fa-book-medical","fa-brain","fa-briefcase-medical","fa-burn","fa-cannabis","fa-capsules","fa-clinic-medical","fa-comment-medical","fa-crutch","fa-diagnoses","fa-disease","fa-dna","fa-file-medical","fa-file-medical-alt","fa-file-prescription","fa-first-aid","fa-hand-holding-medical","fa-head-side-cough","fa-head-side-cough-slash","fa-head-side-mask","fa-head-side-virus","fa-heart","fa-heartbeat","fa-hospital","fa-hospital-alt","fa-hospital-symbol","fa-hospital-user","fa-id-card-alt","fa-joint","fa-laptop-medical","fa-lungs","fa-lungs-virus","fa-microscope","fa-mortar-pestle","fa-notes-medical","fa-pager","fa-pills","fa-plus","fa-poop","fa-prescription","fa-prescription-bottle","fa-prescription-bottle-alt","fa-procedures","fa-pump-medical","fa-radiation","fa-radiation-alt","fa-shield-virus","fa-smoking","fa-smoking-ban","fa-star-of-life","fa-stethoscope","fa-syringe","fa-tablets","fa-teeth","fa-teeth-open","fa-thermometer","fa-tooth","fa-user-md","fa-user-nurse","fa-vial","fa-vials","fa-virus","fa-virus-slash","fa-viruses","fa-weight","fa-x-ray","fa-archive","fa-box-open","fa-caravan","fa-couch","fa-dolly","fa-people-carry","fa-route","fa-sign","fa-suitcase","fa-tape","fa-trailer","fa-truck-loading","fa-truck-moving","fa-wine-glass","fa-compact-disc","fa-drum","fa-drum-steelpan","fa-file-audio","fa-guitar","fa-headphones","fa-headphones-alt","fa-microphone","fa-microphone-alt","fa-microphone-alt-slash","fa-microphone-slash","fa-music","fa-napster","fa-play","fa-record-vinyl","fa-sliders-h","fa-soundcloud","fa-spotify","fa-volume-down","fa-volume-mute","fa-volume-off","fa-volume-up","fa-ambulance","fa-anchor","fa-archive","fa-award","fa-baby-carriage","fa-balance-scale","fa-balance-scale-left","fa-balance-scale-right","fa-bath","fa-bed","fa-beer","fa-bell","fa-bicycle","fa-binoculars","fa-birthday-cake","fa-blender","fa-bomb","fa-book","fa-book-dead","fa-bookmark","fa-briefcase","fa-broadcast-tower","fa-bug","fa-building","fa-bullhorn","fa-bullseye","fa-bus","fa-calculator","fa-calendar","fa-calendar-alt","fa-camera","fa-camera-retro","fa-candy-cane","fa-car","fa-carrot","fa-church","fa-clipboard","fa-cloud","fa-coffee","fa-cog","fa-cogs","fa-compass","fa-cookie","fa-cookie-bite","fa-copy","fa-cube","fa-cubes","fa-cut","fa-dice","fa-dice-d20","fa-dice-d6","fa-dice-five","fa-dice-four","fa-dice-one","fa-dice-six","fa-dice-three","fa-dice-two","fa-digital-tachograph","fa-door-closed","fa-door-open","fa-drum","fa-drum-steelpan","fa-envelope","fa-envelope-open","fa-eraser","fa-eye","fa-eye-dropper","fa-fax","fa-feather","fa-feather-alt","fa-fighter-jet","fa-file","fa-file-alt","fa-file-prescription","fa-film","fa-fire","fa-fire-alt","fa-fire-extinguisher","fa-flag","fa-flag-checkered","fa-flask","fa-futbol","fa-gamepad","fa-gavel","fa-gem","fa-gift","fa-gifts","fa-glass-cheers","fa-glass-martini","fa-glass-whiskey","fa-glasses","fa-globe","fa-graduation-cap","fa-guitar","fa-hat-wizard","fa-hdd","fa-headphones","fa-headphones-alt","fa-headset","fa-heart","fa-heart-broken","fa-helicopter","fa-highlighter","fa-holly-berry","fa-home","fa-hospital","fa-hourglass","fa-igloo","fa-image","fa-images","fa-industry","fa-key","fa-keyboard","fa-laptop","fa-leaf","fa-lemon","fa-life-ring","fa-lightbulb","fa-lock","fa-lock-open","fa-magic","fa-magnet","fa-map","fa-map-marker","fa-map-marker-alt","fa-map-pin","fa-map-signs","fa-marker","fa-medal","fa-medkit","fa-memory","fa-microchip","fa-microphone","fa-microphone-alt","fa-mitten","fa-mobile","fa-mobile-alt","fa-money-bill","fa-money-bill-alt","fa-money-check","fa-money-check-alt","fa-moon","fa-motorcycle","fa-mug-hot","fa-newspaper","fa-paint-brush","fa-paper-plane","fa-paperclip","fa-paste","fa-paw","fa-pen","fa-pen-alt","fa-pen-fancy","fa-pen-nib","fa-pencil-alt","fa-phone","fa-phone-alt","fa-plane","fa-plug","fa-print","fa-puzzle-piece","fa-ring","fa-road","fa-rocket","fa-ruler-combined","fa-ruler-horizontal","fa-ruler-vertical","fa-satellite","fa-satellite-dish","fa-save","fa-school","fa-screwdriver","fa-scroll","fa-sd-card","fa-search","fa-shield-alt","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-shower","fa-sim-card","fa-skull-crossbones","fa-sleigh","fa-snowflake","fa-snowplow","fa-space-shuttle","fa-star","fa-sticky-note","fa-stopwatch","fa-stroopwafel","fa-subway","fa-suitcase","fa-sun","fa-tablet","fa-tablet-alt","fa-tachometer-alt","fa-tag","fa-tags","fa-taxi","fa-thumbtack","fa-ticket-alt","fa-toilet","fa-toolbox","fa-tools","fa-train","fa-tram","fa-trash","fa-trash-alt","fa-tree","fa-trophy","fa-truck","fa-tv","fa-umbrella","fa-university","fa-unlock","fa-unlock-alt","fa-utensil-spoon","fa-utensils","fa-wallet","fa-weight","fa-wheelchair","fa-wine-glass","fa-wrench","fa-alipay","fa-amazon-pay","fa-apple-pay","fa-bell","fa-bitcoin","fa-bookmark","fa-btc","fa-bullhorn","fa-camera","fa-camera-retro","fa-cart-arrow-down","fa-cart-plus","fa-cc-amazon-pay","fa-cc-amex","fa-cc-apple-pay","fa-cc-diners-club","fa-cc-discover","fa-cc-jcb","fa-cc-mastercard","fa-cc-paypal","fa-cc-stripe","fa-cc-visa","fa-certificate","fa-credit-card","fa-ethereum","fa-gem","fa-gift","fa-google-pay","fa-google-wallet","fa-handshake","fa-heart","fa-key","fa-money-check","fa-money-check-alt","fa-paypal","fa-receipt","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-star","fa-stripe","fa-stripe-s","fa-tag","fa-tags","fa-thumbs-down","fa-thumbs-up","fa-trophy","fa-band-aid","fa-book-medical","fa-cannabis","fa-capsules","fa-clinic-medical","fa-disease","fa-eye-dropper","fa-file-medical","fa-file-prescription","fa-first-aid","fa-flask","fa-history","fa-joint","fa-laptop-medical","fa-mortar-pestle","fa-notes-medical","fa-pills","fa-prescription","fa-prescription-bottle","fa-prescription-bottle-alt","fa-receipt","fa-skull-crossbones","fa-syringe","fa-tablets","fa-thermometer","fa-vial","fa-vials","fa-award","fa-balance-scale","fa-balance-scale-left","fa-balance-scale-right","fa-bullhorn","fa-check-double","fa-democrat","fa-donate","fa-dove","fa-fist-raised","fa-flag-usa","fa-handshake","fa-person-booth","fa-piggy-bank","fa-republican","fa-vote-yea","fa-ankh","fa-atom","fa-bahai","fa-bible","fa-church","fa-cross","fa-dharmachakra","fa-dove","fa-gopuram","fa-hamsa","fa-hanukiah","fa-jedi","fa-journal-whills","fa-kaaba","fa-khanda","fa-menorah","fa-mosque","fa-om","fa-pastafarianism","fa-peace","fa-place-of-worship","fa-pray","fa-praying-hands","fa-quran","fa-star-and-crescent","fa-star-of-david","fa-synagogue","fa-torah","fa-torii-gate","fa-vihara","fa-yin-yang","fa-atom","fa-biohazard","fa-brain","fa-burn","fa-capsules","fa-clipboard-check","fa-disease","fa-dna","fa-eye-dropper","fa-filter","fa-fire","fa-fire-alt","fa-flask","fa-frog","fa-magnet","fa-microscope","fa-mortar-pestle","fa-pills","fa-prescription-bottle","fa-radiation","fa-radiation-alt","fa-seedling","fa-skull-crossbones","fa-syringe","fa-tablets","fa-temperature-high","fa-temperature-low","fa-vial","fa-vials","fa-atom","fa-galactic-republic","fa-galactic-senate","fa-globe","fa-hand-spock","fa-jedi","fa-jedi-order","fa-journal-whills","fa-meteor","fa-moon","fa-old-republic","fa-robot","fa-rocket","fa-satellite","fa-satellite-dish","fa-space-shuttle","fa-user-astronaut","fa-ban","fa-bug","fa-door-closed","fa-door-open","fa-dungeon","fa-eye","fa-eye-slash","fa-file-contract","fa-file-signature","fa-fingerprint","fa-id-badge","fa-id-card","fa-id-card-alt","fa-key","fa-lock","fa-lock-open","fa-mask","fa-passport","fa-shield-alt","fa-unlock","fa-unlock-alt","fa-user-lock","fa-user-secret","fa-user-shield","fa-bookmark","fa-calendar","fa-certificate","fa-circle","fa-cloud","fa-comment","fa-file","fa-folder","fa-heart","fa-heart-broken","fa-map-marker","fa-play","fa-shapes","fa-square","fa-star","fa-barcode","fa-cart-arrow-down","fa-cart-plus","fa-cash-register","fa-gift","fa-gifts","fa-person-booth","fa-receipt","fa-shipping-fast","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-store","fa-store-alt","fa-store-alt-slash","fa-store-slash","fa-truck","fa-tshirt","fa-bell","fa-birthday-cake","fa-camera","fa-comment","fa-comment-alt","fa-envelope","fa-hashtag","fa-heart","fa-icons","fa-image","fa-images","fa-map-marker","fa-map-marker-alt","fa-photo-video","fa-poll","fa-poll-h","fa-retweet","fa-share","fa-share-alt","fa-share-square","fa-star","fa-thumbs-down","fa-thumbs-up","fa-thumbtack","fa-user","fa-user-circle","fa-user-friends","fa-user-plus","fa-users","fa-video","fa-asterisk","fa-atom","fa-bahai","fa-certificate","fa-circle-notch","fa-cog","fa-compact-disc","fa-compass","fa-crosshairs","fa-dharmachakra","fa-fan","fa-life-ring","fa-palette","fa-ring","fa-slash","fa-snowflake","fa-spinner","fa-stroopwafel","fa-sun","fa-sync","fa-sync-alt","fa-yin-yang","fa-baseball-ball","fa-basketball-ball","fa-biking","fa-bowling-ball","fa-dumbbell","fa-football-ball","fa-futbol","fa-golf-ball","fa-hockey-puck","fa-quidditch","fa-running","fa-skating","fa-skiing","fa-skiing-nordic","fa-snowboarding","fa-swimmer","fa-table-tennis","fa-volleyball-ball","fa-allergies","fa-broom","fa-cloud-sun","fa-cloud-sun-rain","fa-frog","fa-rainbow","fa-seedling","fa-umbrella","fa-ban","fa-battery-empty","fa-battery-full","fa-battery-half","fa-battery-quarter","fa-battery-three-quarters","fa-bell","fa-bell-slash","fa-calendar","fa-calendar-alt","fa-calendar-check","fa-calendar-day","fa-calendar-minus","fa-calendar-plus","fa-calendar-times","fa-calendar-week","fa-cart-arrow-down","fa-cart-plus","fa-comment","fa-comment-alt","fa-comment-slash","fa-compass","fa-door-closed","fa-door-open","fa-exclamation","fa-exclamation-circle","fa-exclamation-triangle","fa-eye","fa-eye-slash","fa-file","fa-file-alt","fa-folder","fa-folder-open","fa-gas-pump","fa-info","fa-info-circle","fa-lightbulb","fa-lock","fa-lock-open","fa-map-marker","fa-map-marker-alt","fa-microphone","fa-microphone-alt","fa-microphone-alt-slash","fa-microphone-slash","fa-minus","fa-minus-circle","fa-minus-square","fa-parking","fa-phone","fa-phone-alt","fa-phone-slash","fa-plus","fa-plus-circle","fa-plus-square","fa-print","fa-question","fa-question-circle","fa-shield-alt","fa-shopping-cart","fa-sign-in-alt","fa-sign-out-alt","fa-signal","fa-smoking-ban","fa-star","fa-star-half","fa-star-half-alt","fa-stream","fa-thermometer-empty","fa-thermometer-full","fa-thermometer-half","fa-thermometer-quarter","fa-thermometer-three-quarters","fa-thumbs-down","fa-thumbs-up","fa-tint","fa-tint-slash","fa-toggle-off","fa-toggle-on","fa-unlock","fa-unlock-alt","fa-user","fa-user-alt","fa-user-alt-slash","fa-user-slash","fa-video","fa-video-slash","fa-volume-down","fa-volume-mute","fa-volume-off","fa-volume-up","fa-wifi","fa-anchor","fa-biking","fa-fish","fa-hotdog","fa-ice-cream","fa-lemon","fa-sun","fa-swimmer","fa-swimming-pool","fa-umbrella-beach","fa-volleyball-ball","fa-water","fa-bullseye","fa-check-circle","fa-circle","fa-dot-circle","fa-microphone","fa-microphone-slash","fa-star","fa-star-half","fa-star-half-alt","fa-toggle-off","fa-toggle-on","fa-wifi","fa-archway","fa-atlas","fa-bed","fa-bus","fa-bus-alt","fa-caravan","fa-cocktail","fa-concierge-bell","fa-dumbbell","fa-glass-martini","fa-glass-martini-alt","fa-globe-africa","fa-globe-americas","fa-globe-asia","fa-globe-europe","fa-hot-tub","fa-hotel","fa-luggage-cart","fa-map","fa-map-marked","fa-map-marked-alt","fa-monument","fa-passport","fa-plane","fa-plane-arrival","fa-plane-departure","fa-shuttle-van","fa-spa","fa-suitcase","fa-suitcase-rolling","fa-swimmer","fa-swimming-pool","fa-taxi","fa-tram","fa-tv","fa-umbrella-beach","fa-wine-glass","fa-wine-glass-alt","fa-accessible-icon","fa-address-book","fa-address-card","fa-baby","fa-bed","fa-biking","fa-blind","fa-chalkboard-teacher","fa-child","fa-female","fa-frown","fa-hiking","fa-id-badge","fa-id-card","fa-id-card-alt","fa-male","fa-meh","fa-people-arrows","fa-people-carry","fa-person-booth","fa-poo","fa-portrait","fa-power-off","fa-pray","fa-restroom","fa-running","fa-skating","fa-skiing","fa-skiing-nordic","fa-smile","fa-snowboarding","fa-street-view","fa-swimmer","fa-user","fa-user-alt","fa-user-alt-slash","fa-user-astronaut","fa-user-check","fa-user-circle","fa-user-clock","fa-user-cog","fa-user-edit","fa-user-friends","fa-user-graduate","fa-user-injured","fa-user-lock","fa-user-md","fa-user-minus","fa-user-ninja","fa-user-nurse","fa-user-plus","fa-user-secret","fa-user-shield","fa-user-slash","fa-user-tag","fa-user-tie","fa-user-times","fa-users","fa-users-cog","fa-users-slash","fa-walking","fa-wheelchair","fa-accessible-icon","fa-ambulance","fa-baby-carriage","fa-bicycle","fa-bus","fa-bus-alt","fa-car","fa-car-alt","fa-car-crash","fa-car-side","fa-fighter-jet","fa-helicopter","fa-horse","fa-motorcycle","fa-paper-plane","fa-plane","fa-rocket","fa-ship","fa-shopping-cart","fa-shuttle-van","fa-sleigh","fa-snowplow","fa-space-shuttle","fa-subway","fa-taxi","fa-tractor","fa-train","fa-tram","fa-truck","fa-truck-monster","fa-truck-pickup","fa-wheelchair","fa-bolt","fa-cloud","fa-cloud-meatball","fa-cloud-moon","fa-cloud-moon-rain","fa-cloud-rain","fa-cloud-showers-heavy","fa-cloud-sun","fa-cloud-sun-rain","fa-meteor","fa-moon","fa-poo-storm","fa-rainbow","fa-smog","fa-snowflake","fa-sun","fa-temperature-high","fa-temperature-low","fa-umbrella","fa-water","fa-wind","fa-glass-whiskey","fa-icicles","fa-igloo","fa-mitten","fa-skating","fa-skiing","fa-skiing-nordic","fa-snowboarding","fa-snowplow","fa-tram","fa-archive","fa-blog","fa-book","fa-bookmark","fa-edit","fa-envelope","fa-envelope-open","fa-eraser","fa-file","fa-file-alt","fa-folder","fa-folder-open","fa-keyboard","fa-newspaper","fa-paper-plane","fa-paperclip","fa-paragraph","fa-pen","fa-pen-alt","fa-pen-square","fa-pencil-alt","fa-quote-left","fa-quote-right","fa-sticky-note","fa-thumbtack"],J3=["fa-500px","fa-accusoft","fa-adn","fa-adversal","fa-affiliatetheme","fa-airbnb","fa-algolia","fa-amazon","fa-amilia","fa-android","fa-angellist","fa-angrycreative","fa-angular","fa-app-store","fa-app-store-ios","fa-apper","fa-apple","fa-artstation","fa-asymmetrik","fa-atlassian","fa-audible","fa-autoprefixer","fa-avianex","fa-aviato","fa-aws","fa-backspace","fa-bandcamp","fa-battle-net","fa-behance","fa-behance-square","fa-bimobject","fa-bitbucket","fa-bity","fa-black-tie","fa-blackberry","fa-blender-phone","fa-blogger","fa-blogger-b","fa-bootstrap","fa-buffer","fa-buromobelexperte","fa-buy-n-large","fa-buysellads","fa-canadian-maple-leaf","fa-centercode","fa-centos","fa-chrome","fa-chromecast","fa-cloudflare","fa-cloudscale","fa-cloudsmith","fa-cloudversify","fa-codepen","fa-codiepie","fa-confluence","fa-connectdevelop","fa-contao","fa-cotton-bureau","fa-cpanel","fa-creative-commons","fa-creative-commons-by","fa-creative-commons-nc","fa-creative-commons-nc-eu","fa-creative-commons-nc-jp","fa-creative-commons-nd","fa-creative-commons-pd","fa-creative-commons-pd-alt","fa-creative-commons-remix","fa-creative-commons-sa","fa-creative-commons-sampling","fa-creative-commons-sampling-plus","fa-creative-commons-share","fa-creative-commons-zero","fa-crown","fa-css3","fa-css3-alt","fa-cuttlefish","fa-dailymotion","fa-dashcube","fa-deezer","fa-delicious","fa-deploydog","fa-deskpro","fa-dev","fa-deviantart","fa-dhl","fa-diaspora","fa-digg","fa-digital-ocean","fa-discord","fa-discourse","fa-dochub","fa-docker","fa-draft2digital","fa-dribbble","fa-dribbble-square","fa-dropbox","fa-drupal","fa-dumpster-fire","fa-dyalog","fa-earlybirds","fa-ebay","fa-edge","fa-edge-legacy","fa-elementor","fa-ello","fa-ember","fa-empire","fa-envira","fa-erlang","fa-etsy","fa-evernote","fa-expeditedssl","fa-facebook","fa-facebook-f","fa-facebook-messenger","fa-facebook-square","fa-fedex","fa-fedora","fa-figma","fa-file-csv","fa-firefox","fa-firefox-browser","fa-first-order","fa-first-order-alt","fa-firstdraft","fa-flickr","fa-flipboard","fa-fly","fa-font-awesome","fa-font-awesome-alt","fa-font-awesome-flag","fa-font-awesome-logo-full","fa-fonticons","fa-fonticons-fi","fa-fort-awesome","fa-fort-awesome-alt","fa-forumbee","fa-foursquare","fa-free-code-camp","fa-freebsd","fa-fulcrum","fa-get-pocket","fa-git","fa-git-alt","fa-git-square","fa-github","fa-github-alt","fa-github-square","fa-gitkraken","fa-gitlab","fa-gitter","fa-glide","fa-glide-g","fa-gofore","fa-goodreads","fa-goodreads-g","fa-google","fa-google-drive","fa-google-play","fa-google-plus","fa-google-plus-g","fa-google-plus-square","fa-gratipay","fa-grav","fa-gripfire","fa-grunt","fa-guilded","fa-gulp","fa-hacker-news","fa-hacker-news-square","fa-hackerrank","fa-hips","fa-hire-a-helper","fa-hive","fa-hooli","fa-hornbill","fa-hotjar","fa-houzz","fa-html5","fa-hubspot","fa-ideal","fa-imdb","fa-innosoft","fa-instagram","fa-instagram-square","fa-instalod","fa-intercom","fa-internet-explorer","fa-invision","fa-ioxhost","fa-itch-io","fa-itunes","fa-itunes-note","fa-java","fa-jenkins","fa-jira","fa-joget","fa-joomla","fa-js","fa-js-square","fa-jsfiddle","fa-kaggle","fa-keybase","fa-keycdn","fa-kickstarter","fa-kickstarter-k","fa-korvue","fa-laravel","fa-lastfm","fa-lastfm-square","fa-leanpub","fa-less","fa-line","fa-linkedin","fa-linkedin-in","fa-linode","fa-linux","fa-lyft","fa-magento","fa-mailchimp","fa-mandalorian","fa-markdown","fa-mastodon","fa-maxcdn","fa-mdb","fa-medapps","fa-medium","fa-medium-m","fa-medrt","fa-meetup","fa-megaport","fa-mendeley","fa-microblog","fa-microsoft","fa-mix","fa-mixcloud","fa-mixer","fa-mizuni","fa-modx","fa-monero","fa-neos","fa-network-wired","fa-nimblr","fa-node","fa-node-js","fa-npm","fa-ns8","fa-nutritionix","fa-octopus-deploy","fa-odnoklassniki","fa-odnoklassniki-square","fa-opencart","fa-openid","fa-opera","fa-optin-monster","fa-orcid","fa-osi","fa-page4","fa-pagelines","fa-palfed","fa-patreon","fa-perbyte","fa-periscope","fa-phabricator","fa-phoenix-framework","fa-phoenix-squadron","fa-php","fa-pied-piper","fa-pied-piper-alt","fa-pied-piper-hat","fa-pied-piper-pp","fa-pied-piper-square","fa-pinterest","fa-pinterest-p","fa-pinterest-square","fa-plane-slash","fa-product-hunt","fa-pushed","fa-python","fa-qq","fa-quinscape","fa-quora","fa-r-project","fa-raspberry-pi","fa-ravelry","fa-react","fa-reacteurope","fa-readme","fa-rebel","fa-red-river","fa-reddit","fa-reddit-alien","fa-reddit-square","fa-redhat","fa-renren","fa-replyd","fa-researchgate","fa-resolving","fa-rev","fa-rocketchat","fa-rockrms","fa-rust","fa-safari","fa-salesforce","fa-sass","fa-schlix","fa-scribd","fa-searchengin","fa-sellcast","fa-sellsy","fa-servicestack","fa-shirtsinbulk","fa-shopify","fa-shopware","fa-signature","fa-simplybuilt","fa-sistrix","fa-sith","fa-sketch","fa-skull","fa-skyatlas","fa-skype","fa-slack","fa-slack-hash","fa-slideshare","fa-snapchat","fa-snapchat-ghost","fa-snapchat-square","fa-sourcetree","fa-speakap","fa-speaker-deck","fa-squarespace","fa-stack-exchange","fa-stack-overflow","fa-stackpath","fa-staylinked","fa-sticker-mule","fa-stopwatch-20","fa-strava","fa-studiovinari","fa-stumbleupon","fa-stumbleupon-circle","fa-superpowers","fa-supple","fa-suse","fa-swift","fa-symfony","fa-teamspeak","fa-telegram","fa-telegram-plane","fa-tencent-weibo","fa-the-red-yeti","fa-themeco","fa-themeisle","fa-think-peaks","fa-tiktok","fa-trade-federation","fa-trello","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-typo3","fa-uber","fa-ubuntu","fa-uikit","fa-umbraco","fa-uncharted","fa-uniregistry","fa-unity","fa-untappd","fa-ups","fa-usb","fa-usps","fa-ussunnah","fa-vaadin","fa-viacoin","fa-viadeo","fa-viadeo-square","fa-viber","fa-vimeo","fa-vimeo-square","fa-vimeo-v","fa-vine","fa-vk","fa-vnv","fa-vr-cardboard","fa-vuejs","fa-watchman-monitoring","fa-waze","fa-weebly","fa-weibo","fa-weight-hanging","fa-weixin","fa-whatsapp","fa-whatsapp-square","fa-whmcs","fa-wikipedia-w","fa-windows","fa-wix","fa-wodu","fa-wolf-pack-battalion","fa-wordpress","fa-wordpress-simple","fa-wpbeginner","fa-wpexplorer","fa-wpforms","fa-wpressr","fa-xing","fa-xing-square","fa-y-combinator","fa-yahoo","fa-yammer","fa-yandex","fa-yandex-international","fa-yarn","fa-yelp","fa-yoast","fa-youtube-square","fa-zhihu"],Ww={},yM={};J3.forEach(p=>{yM[p]="",Ww[p]=""});Z3.forEach(p=>{Ww[p]=p});var vM=p=>p in yM;var EM=(p,b)=>{p.use(Q3,{defs:{...ez,...Ww}}),p.renderer.rules.emoji=(x,T)=>{let I=x[T];if(b.config.enableEmojiSyntax){let B=I.markup;return B.match("fa-")?`<i class="${vM(B)?"fa-brands":"fa-solid"} ${B}" aria-hidden="true"></i>`:I.content}else return`:${I.markup}:`}};import tz from"markdown-it-html5-embed";var nz=p=>({html5embed:{useImageSyntax:p.config.HTML5EmbedUseImageSyntax,useLinkSyntax:p.config.HTML5EmbedUseLinkSyntax,isAllowedHttp:p.config.HTML5EmbedIsAllowedHttp,attributes:{audio:p.config.HTML5EmbedAudioAttributes,video:p.config.HTML5EmbedVideoAttributes}}}),wM=(p,b)=>{b.config.enableHTML5Embed&&p.use(tz,nz(b))};import{escape as az}from"html-escaper";import rz from"katex";import"katex/contrib/mhchem";var Vw=({content:p,openTag:b,closeTag:x,displayMode:T=!1,renderingOption:I,katexConfig:B})=>{if(!p)return"";if(I==="KaTeX")try{return rz.renderToString(p,Object.assign({},structuredClone(B),{displayMode:T}))}catch(P){return`<span style="color: #ee7f49; font-weight: 500;">${P.toString()}</span>`}else if(I==="MathJax"){let P=(b+p+x).replace(/\n/g," "),F=T?"div":"span";return`<${F} class="mathjax-exps">${az(P)}</${F}>`}else return""};var _M=(p,b)=>{p.inline.ruler.before("escape","math",(x,T)=>{if(b.config.mathRenderingOption==="None")return!1;let I=null,B=null,P=!0,{mathBlockDelimiters:F,mathInlineDelimiters:j}=b.config;for(let ae of F)if(x.src.startsWith(ae[0],x.pos)){[I,B]=ae;break}if(!I){for(let ae of j)if(x.src.startsWith(ae[0],x.pos)){[I,B]=ae,P=!1;break}}if(!I||!B)return!1;let W=null,V=-1,Q=x.pos+I.length;for(;Q<x.src.length;){if(B&&x.src.startsWith(B,Q)){V=Q;break}else x.src[Q]==="\\"&&(Q+=1);Q+=1}if(V>=0)W=x.src.slice(x.pos+I.length,V);else return!1;if(W&&!T){let ae=x.push("math","",0);return ae.content=W.trim(),ae.meta=ae.meta||{},ae.meta.openTag=I,ae.meta.closeTag=B,ae.meta.displayMode=P,x.pos+=W.length+I.length+B.length,!0}else return!1}),p.renderer.rules.math=(x,T)=>{let I=x[T].content??"";return Vw({content:I,openTag:x[T].meta.openTag,closeTag:x[T].meta.closeTag,renderingOption:b.config.mathRenderingOption,displayMode:x[T].meta.displayMode,katexConfig:b.config.katexConfig})}};var kM=p=>{let b=p.renderer.renderToken.bind(p.renderer);p.renderer.renderToken=function(x,T,I){if(!I.sourceMap)return b(x,T,I);let B=x[T];return B.type.endsWith("_open")&&B.map!==null&&B.map[0]!==void 0&&B.attrSet("data-source-line",`${B.map[0]+1}`),b(x,T,I)}};var xM=(p,b)=>{let x=p.renderer.rules.image.bind(p.renderer);p.renderer.rules.image=(T,I,B,P,F)=>{let j=T[I];if(j.children&&j.children[0]?.content==="@embedding"){let W=j.attrGet("error")??"";if(W)return decodeURIComponent(atob(W));{let V=j.attrGet("embedding")??"",Q=decodeURIComponent(atob(V));return b.initMarkdownIt({...p.options,sourceMap:!1}).render(Q)}}return x(T,I,B,P,F)}};var SM=(p,b)=>{p.inline.ruler.before("autolink","wikilink",(x,T)=>{if(!b.config.enableWikiLinkSyntax||!x.src.startsWith("[[",x.pos))return!1;let I=null,B="]]",P=-1,F=x.pos+B.length;for(;F<x.src.length;){if(x.src[F]==="\\")F+=1;else if(x.src.startsWith(B,F)){P=F;break}F+=1}if(P>=0)I=x.src.slice(x.pos+B.length,P);else return!1;if(I&&!T){let j=x.push("wikilink","a",0);return j.content=I,x.pos+=I.length+2*B.length,!0}else return!1}),p.renderer.rules.wikilink=(x,T)=>{let{content:I}=x[T];if(!I)return"";let{text:B,link:P}=b.processWikilink(I);return`<a href="${P}">${B}</a>`}};import*as Yw from"fs";import*as TM from"less";import*as Nd from"path";var AM=typeof window>"u";function uA(){return{startOnLoad:!1}}function cA(){return{tex:{},options:{},loader:{}}}function dA(){return{macros:{}}}function fA(){return{onWillParseMarkdown:async function(p){return p},onDidParseMarkdown:async function(p){return p}}}function ch(){return{markdownFileExtensions:[".md",".markdown",".mdown",".mkdn",".mkd",".rmd",".qmd"],globalCss:"",includeInHeader:"",mermaidConfig:uA(),mathjaxConfig:cA(),katexConfig:dA(),parserConfig:fA(),enablePreviewZenMode:!1,usePandocParser:!1,breakOnSingleNewLine:!0,enableTypographer:!1,enableWikiLinkSyntax:!0,wikiLinkTargetFileExtension:".md",wikiLinkTargetFileNameChangeCase:"none",enableLinkify:!0,enableEmojiSyntax:!0,enableExtendedTableSyntax:!1,enableCriticMarkupSyntax:!1,useGitHubStylePipedLink:!1,protocolsWhiteList:"http://, https://, atom://, file://, mailto:, tel:",mathRenderingOption:"KaTeX",mathInlineDelimiters:[["$","$"]],mathBlockDelimiters:[["$$","$$"]],mathRenderingOnlineService:"https://latex.codecogs.com/gif.latex",mathjaxV3ScriptSrc:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",codeBlockTheme:"auto.css",previewTheme:"github-light.css",revealjsTheme:"white.css",mermaidTheme:"default",frontMatterRenderingOption:"none",imageFolderPath:"/assets",printBackground:!1,chromePath:"",imageMagickPath:"",pandocPath:"pandoc",pandocMarkdownFlavor:"markdown-raw_tex+tex_math_single_backslash",pandocArguments:[],latexEngine:"pdflatex",enableScriptExecution:!1,enableHTML5Embed:!1,HTML5EmbedUseImageSyntax:!0,HTML5EmbedUseLinkSyntax:!1,HTML5EmbedIsAllowedHttp:!1,HTML5EmbedAudioAttributes:'controls preload="metadata"',HTML5EmbedVideoAttributes:'controls preload="metadata"',puppeteerWaitForTimeout:0,puppeteerArgs:[],plantumlServer:"",plantumlJarPath:"",jsdelivrCdnHost:"cdn.jsdelivr.net",krokiServer:"https://kroki.io",isVSCode:!1,alwaysShowBacklinksInPreview:!1}}var iz=(T=>(T.SinglePreview="Single Preview",T.MultiplePreviews="Multiple Previews",T.PreviewsOnly="Previews Only",T))(iz||{});async function pA(p,b,x=!1){let T=ch(),I={globalCss:T.globalCss,includeInHeader:T.includeInHeader,mermaidConfig:T.mermaidConfig,mathjaxConfig:T.mathjaxConfig,katexConfig:T.katexConfig,parserConfig:T.parserConfig};return x&&await b.mkdir(p),await b.exists(p)&&(I.globalCss=await oz(p,b),I.parserConfig=await uz(p,b),I.includeInHeader=await sz(p,b),I={...I,...await lz(p,b)}),I}async function oz(p,b){let x=Nd.join(p,"./style.less"),T;try{T=await b.readFile(x)}catch{T=`
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

.markdown-preview.markdown-preview {
  // modify your style here
  // eg: background-color: blue;
}
`,await b.writeFile(x,T)}return await new Promise(I=>{let B=P=>`html body:before {
        content: "Failed to compile \`style.less\`. ${P}" !important;
        padding: 2em !important;
      }
      .crossnote.crossnote { display: none !important; }`;TM.render(T,{paths:[Nd.dirname(x)]},(P,F)=>I(P?B(P):F?.css||""))})}async function sz(p,b){let x=Nd.join(p,"./head.html"),T;try{T=await b.readFile(x)}catch{T=`<!-- The content below will be included at the end of the <head> element. -->
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script>`,await b.writeFile(x,T)}return T}async function lz(p,b){let x=Nd.join(p,"./config.js"),T=async()=>{let I=dA(),B=cA(),P=uA();return await b.writeFile(x,`({
  katexConfig: ${JSON.stringify(I,null,2)},
  
  mathjaxConfig: ${JSON.stringify(B,null,2)},
  
  mermaidConfig: ${JSON.stringify(P,null,2)},
})`),{katexConfig:I,mathjaxConfig:B,mermaidConfig:P}};if(await b.exists(x))try{let I=await b.readFile(x),B=a0(I);return Object.keys(B??{}).length===0?await T():B}catch(I){return console.error(I),{}}else return T()}async function uz(p,b){let x=fA(),T=Nd.join(p,"./parser.js");if(await b.exists(T))try{let I=await b.readFile(T),B=a0(I);return{...x,...B??{}}}catch(I){return console.error(I),x}else return await b.writeFile(T,`({
  // Please visit the URL below for more information:
  // https://shd101wyy.github.io/markdown-preview-enhanced/#/extend-parser

  onWillParseMarkdown: async function(markdown) {
    return markdown;
  },

  onDidParseMarkdown: async function(html) {
    return html;
  },
})`),x}function hA(){let p=Yw.promises;return{readFile:async(b,x="utf-8")=>(await p.readFile(b,x)).toString(),writeFile:async(b,x,T="utf8")=>await p.writeFile(b,x,T),mkdir:async b=>{await p.mkdir(b,{recursive:!0})},exists:async b=>Yw.existsSync(b),stat:async b=>await p.stat(b),readdir:async b=>await p.readdir(b),unlink:async b=>await p.unlink(b)}}import*as Kw from"yaml";function CM(p){let b=0,x={};if(p.startsWith("---")&&(b=p.indexOf(`
---`))>0){let T=p.slice(3,b);try{x=Kw.parse(T)}catch{x={}}p=p.slice(b+4).replace(/^[ \t]*\n/,"")}return{data:x,content:p}}function RM(p,b){b=b||{};let x=Kw.stringify(b).trim();return x==="{}"||!x?p:`---
${x}
---
${p}`}var s0=class{constructor(){this.map={}}addReference(b,x,T){if(b===x&&!T){b in this.map||(this.map[b]={[x]:[]});return}if(T)if(b in this.map){let I=this.map[b];x in I?I[x].push(T):I[x]=[T]}else this.map[b]={[x]:[T]}}deleteReferences(b,x){if(b===x){delete this.map[b];return}b in this.map&&x in this.map[b]&&(delete this.map[b][x],Object.keys(this.map[b]).length===0&&delete this.map[b])}hasRelation(b,x){return b in this.map&&x in this.map[b]||x in this.map&&b in this.map[x]||b===x}getReferences(b,x){return b in this.map&&x in this.map[b]?this.map[b][x]:[]}noteHasReferences(b){return b in this.map}getReferredByNotesCount(b){if(b in this.map){let x=Object.keys(this.map[b]).length;return b in this.map[b]&&(x-=1),x}else return 0}};import cz from"minisearch";function dz(p,b="-"){return p.replace(/[.\s!@#$%^&*()\-=_+~`[\]{}\\<>?/|（）【】:：，。]+/g,b)}var dh=class{constructor(){this.miniSearch=new cz({fields:["title","aliases","filePath"],storeFields:["title","aliases","filePath"],extractField:(b,x)=>x==="aliases"?b.aliases.join("|"):b[x],tokenize:b=>dz(b," ").match(/([^\x00-\x7F]|\w+)/g)??[]}),this._cache={}}add(b,x,T=[]){if(!(b in this._cache)){let I={id:b+"#"+x,filePath:b,title:x,aliases:T};this.miniSearch.add(I),this._cache[b]=I}}remove(b){if(b in this._cache){let x=this._cache[b];x&&this.miniSearch.remove(x),delete this._cache[b]}}search(b,x){return this.miniSearch.search(b,x)}addAlias(b,x){let T=this._cache[b];T&&(this.remove(b),this.add(b,T.title,T.aliases.concat(x)))}deleteAlias(b,x){let T=this._cache[b];T&&(this.remove(b),this.add(b,T.title,T.aliases.filter(I=>I!==x)))}};var _z={html:!0,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,sourceMap:!0},IM=class p{constructor(){this.notes={};this.hasLoadedNotes=!1;this.referenceMap=new s0;this.refreshNotesIfNotLoadedMutex=new fz;this.search=new dh;this.markdownEngines={}}async init({notebookPath:b,config:x={},fs:T}){let I=Ez.parse(b);if(!en.isAbsolute(I.fsPath)||I.path.startsWith("/./"))throw new Error(`\`notebookPath\`: "${b}" must be an absolute path`);this.notebookPath=I,this.initFs(T),await this.initConfig(x),this.md=this.initMarkdownIt(),this.updateConfig({})}static async init(b){let x=new p;return await x.init(b),x}async initConfig(b){let x=await pA(en.join(this.notebookPath.fsPath,"./.crossnote"),this.fs);this.config={...ch(),...x,...b}}initMarkdownIt(b){let x=new pz(b??_z);return x.use(gz),x.use(yz),x.use(vz),x.use(mz),x.use(hz),x.use(bz),mM(x),bM(x),gM(x,this),EM(x,this),wM(x,this),_M(x,this),SM(x,this),hM(x),kM(x),xM(x,this),x}initFs(b){if(b)this.fs=b;else if(AM)this.fs=hA();else throw new Error("`fs` is required")}updateConfig(b){this.config={...this.config,...b},this.interpolateConfig(),this.md.set({typographer:!!this.config.enableTypographer,breaks:!!this.config.breakOnSingleNewLine,linkify:!!this.config.enableLinkify})}interpolateConfig(){let b={projectDir:this.notebookPath.fsPath,workspaceFolder:this.notebookPath.fsPath};this.config.imageFolderPath=sh(this.config.imageFolderPath,b),this.config.imageMagickPath=sh(this.config.imageMagickPath,b),this.config.chromePath=sh(this.config.chromePath,b),this.config.pandocPath=sh(this.config.pandocPath,b),this.config.plantumlJarPath=sh(this.config.plantumlJarPath,b)}async getBacklinkedNotes(b){if(b=this.resolveNoteRelativePath(b),b in this.referenceMap.map){let x=this.referenceMap.map[b],T={};for(let I in x){if(I===b)continue;let B=await this.getNote(I);B&&(T[I]=B)}return T}else return{}}async getNoteBacklinks(b){let x=await this.getBacklinkedNotes(b),T=[],I=Object.keys(x);for(let B of I){let P=x[B],F=await this.getReferences(b,B);T.push({note:{notebookPath:P.notebookPath,filePath:P.filePath,title:P.title,config:P.config},references:F,referenceHtmls:F.map(j=>{let W=[j.parentToken??j.token];return this.md.renderer.render(W,this.md.options,{})})})}return T}async getReferences(b,x){return this.referenceMap.getReferences(this.resolveNoteRelativePath(b),this.resolveNoteRelativePath(x))}async processNoteMentionsAndMentionedBy(b){let x=await this.getNote(b);if(!x)return;let T=this.md.parse(x.markdown,{}),I=V=>(V.endsWith(".md")||(V=V+".md"),V.startsWith("/")?en.relative(this.notebookPath.fsPath,en.join(this.notebookPath.fsPath,"."+V)):en.relative(this.notebookPath.fsPath,en.join(en.dirname(en.join(this.notebookPath.fsPath,x.filePath)),V))),B=V=>wz.joinPath(this.notebookPath,V).toString(),P=(V,Q,ae,pe)=>{for(let Z=0;Z<V.length;Z++){let te=V[Z];if(te.type==="wikilink"){let ue=this.processWikilink(te.content),{text:he}=ue,{link:me}=ue;if(me.match(/https?:\/\//))continue;me=I(me),this.config.useGitHubStylePipedLink?te.content=`${he} | ${B(me)}`:te.content=`${B(me)} | ${he}`,ae.push({elementId:te.attrGet("id")||"",text:he,link:me,parentToken:Q,token:te})}else if(te.type==="tag"){let ue=te.content.trim(),he=te.content.trim();ae.push({elementId:te.attrGet("id")||"",text:ue,link:I(he),parentToken:Q,token:te})}else if(te.type==="link_open"&&V[Z+1]&&V[Z+1].type==="text"){if(te.attrs?.length&&te.attrs[0][0]==="href"){let ue=decodeURI(te.attrs[0][1]),he=V[Z+1].content.trim();if(ue.match(/https?:\/\//)||!he.length||!ue.endsWith(".md"))continue;ue=I(ue),te.attrs[0][1]=B(ue),ae.push({elementId:te.attrGet("id")||"",text:he,link:ue,parentToken:Q,token:te})}}else te.children&&te.children.length&&P(te.children,te,ae,pe+1)}return ae},F=P(T,null,[],0),j=new Set,W=x.mentions;for(let V in W)this.referenceMap.deleteReferences(V,x.filePath);for(let V=0;V<F.length;V++){let{link:Q}=F[V];j[Q]=!0,this.referenceMap.addReference(Q,x.filePath,F[V])}this.referenceMap.addReference(x.filePath,x.filePath,void 0),x.mentions=j}async getNote(b,x=!1){if(b=this.resolveNoteRelativePath(b),!x&&b in this.notes)return this.notes[b];let T=this.resolveNoteAbsolutePath(b),I;try{I=await this.fs.stat(T)}catch{return null}if(I.isFile()&&this.config.markdownFileExtensions.includes(en.extname(b))){let B=await this.fs.readFile(T),P={createdAt:new Date(I.ctimeMs),modifiedAt:new Date(I.mtimeMs),aliases:[]};try{let V=CM(B),Q=Object.assign({},V.data);if(V.data.created&&(P.createdAt=new Date(V.data.created),delete Q.created),V.data.modified&&(P.modifiedAt=new Date(V.data.modified),delete Q.modified),V.data.pinned&&(P.pinned=V.data.pinned,delete Q.pinned),V.data.favorited&&(P.favorited=V.data.favorited,delete Q.favorited),V.data.icon&&(P.icon=V.data.icon,delete Q.icon),V.data.aliases){let ae=V.data.aliases||[];typeof ae=="string"?P.aliases=ae.split(",").map(pe=>pe.trim()):P.aliases=ae,delete Q.aliases}B=RM(V.content,Q)}catch{B=`Please fix front-matter. (\u{1F448} Don't forget to delete this line)

`+B}let F=new Set,j=this.notes[b];j&&(F=j.mentions);let W={notebookPath:this.notebookPath,filePath:en.relative(this.notebookPath.fsPath,T),title:en.basename(T).replace(/\.md$/,""),markdown:B,config:P,mentions:F};return x&&(this.notes[W.filePath]=W,this.search.add(W.filePath,W.title,W.config.aliases),await this.processNoteMentionsAndMentionedBy(W.filePath)),W}else return null}async refreshNotesIfNotLoaded({dir:b="./",includeSubdirectories:x=!1}){return await this.refreshNotesIfNotLoadedMutex.runExclusive(async()=>{this.hasLoadedNotes||(await this.refreshNotes({dir:b,includeSubdirectories:x,refreshRelations:!0}),this.hasLoadedNotes=!0)}),this.notes}async refreshNotes({dir:b="./",includeSubdirectories:x=!1,refreshRelations:T=!0}){T&&(this.notes={},this.referenceMap=new s0,this.search=new dh);let I=[];try{I=await this.fs.readdir(en.resolve(this.notebookPath.fsPath,b))}catch(P){console.error(P),I=[]}let B=[];for(let P=0;P<I.length;P++){let F=I[P];if(F.match(/^(node_modules|\.git)$/))continue;let j=en.resolve(this.notebookPath.fsPath,b,F),W=await this.getNote(en.relative(this.notebookPath.fsPath,j));W&&(this.notes[W.filePath]=W,this.search.add(W.filePath,W.title,W.config.aliases));let V;try{V=await this.fs.stat(j)}catch(Q){console.error(Q)}V&&V.isDirectory()&&x&&B.push(this.refreshNotes({dir:en.relative(this.notebookPath.fsPath,j),includeSubdirectories:x,refreshRelations:!1}))}if(await Promise.all(B),T)for(let P in this.notes)await this.processNoteMentionsAndMentionedBy(P);return this.notes}async removeNoteRelations(b){let x=await this.getNote(b);if(!x)return;let T=x.mentions;for(let I in T)this.referenceMap.deleteReferences(I,x.filePath);delete this.notes[x.filePath]}async deleteNote(b,x=!1){let T=this.resolveNoteAbsolutePath(b);(x||await this.fs.exists(T))&&(await this.fs.unlink(T),await this.removeNoteRelations(b),this.search.remove(b))}resolveNoteAbsolutePath(b){return en.isAbsolute(b)?b:en.resolve(this.notebookPath.fsPath,b)}resolveNoteRelativePath(b){return en.isAbsolute(b)?en.relative(this.notebookPath.fsPath,b):b}getNoteMarkdownEngine(b){return b=this.resolveNoteRelativePath(b),b in this.markdownEngines||(this.markdownEngines[b]=new Xw({notebook:this,filePath:this.resolveNoteAbsolutePath(b)})),this.markdownEngines[b]}getNoteMarkdownEngines(){return this.markdownEngines}clearAllNoteMarkdownEngineCaches(){for(let b in this.markdownEngines)this.markdownEngines[b].clearCaches()}processWikilink(b){let x=b.split("|"),T,I;x.length===1?(I=x[0].trim(),T=I):this.config.useGitHubStylePipedLink?(I=x[0].trim(),T=x[1].trim()):(I=x[1].trim(),T=x[0].trim());let B=T.lastIndexOf("#"),P="";B>=0&&(P=T.slice(B),T=T.slice(0,B));let F=en.parse(T),j=F.name,W=F.ext;return W.match(/^\.\d+$/)&&(j+=W,W=""),this.config.wikiLinkTargetFileNameChangeCase!=="none"&&this.config.wikiLinkTargetFileNameChangeCase in NM&&(j=NM[this.config.wikiLinkTargetFileNameChangeCase](j)),W||(W=this.config.wikiLinkTargetFileExtension),T=en.join(F.dir,j+W),P&&(T+=P),{link:T,text:I}}};import{escape as Sz}from"html-escaper";var kz={sh:"bash",bash:"bash",c:"c","c++":"cpp",cpp:"cpp",coffee:"coffeescript",coffeescript:"coffeescript","coffee-script":"coffeescript",cs:"csharp",csharp:"csharp",css:"css",scss:"scss",sass:"sass",elm:"elm",elmlang:"elm","elm-lang":"elm",erlang:"erlang",go:"go",html:"html",java:"java",js:"javascript",javascript:"javascript",json:"json",less:"less",objc:"objectivec",objectivec:"objectivec","objective-c":"objectivec",php:"php",py:"python",python:"python",rb:"ruby",ruby:"ruby",text:"text",tex:"latex",xml:"xml",yaml:"yaml",yml:"yaml",yaml_table:"yaml",mermaid:"mermaid",plantuml:"plantuml",puml:"plantuml",wavedrom:"wavedrom",graphviz:"dot",viz:"dot",dot:"dot",erd:"erd",node:"javascript",md:"gfm",diff:"diff"};function OM(p){return p=p.toLowerCase(),kz[p]||p}function DM(p){p.languages.iele={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],variable:{pattern:/(@|%)([A-Za-z0-9\\_\\.\\-\\$])[a-zA-Z\\.\\_\\$][0-9a-zA-Z\\.\\_\\-\\$]*/,greedy:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/\b(?:load|store|sload|sstore|iszero|not|add|mul|sub|div|exp|mod|addmod|mulmod|expmod|byte|sext|twos|and|or|xor|shift|lt|le|gt|ge|eq|ne|cmp|sha3|br|call|staticcall|at|send|gaslimit|ret|void|revert|log|create|copycreate|selfdestruct|contract|external|define|public|log2|bswap|calladdress)\b/,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,boolean:/\b(?:true|false)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function MM(p){p.languages.k={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":/\b(?:strict|avoid|prefer|bracket|non-assoc|seqstrict|left|right|macro-rec|macro|token|notInRules|autoReject|structural|latex|binder|klabel|symbol|format)\b/,keyword:{pattern:/\b(?:syntax\s+(?:priority|priorities|left|right|non-assoc|lexical)|syntax|rule|Id|Int|Bool|String|Token|Lexer|Float|configuration|import|imports|require|requires|Kresult|context\s+alias|context|module|endmodule|claim)\b/,greedy:!0},boolean:/\b(?:true|false)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:{pattern:/[<>]=|=>|~>|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},punctuation:/[{}[\];(),.:]/,tag:{pattern:/<\/?(?!\d)[^\s>/=$<%]+(?:\s(?:\s*[^\s>/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>/]+/,inside:{namespace:/^[^\s>/:]+:/}}}}}}var fh=uD(LM());fh.default.hooks.add("wrap",p=>{p.type==="keyword"&&p.classes.push(`keyword-${p.content}`)});MM(fh.default);DM(fh.default);async function mA(p){p("pre>code").each((b,x)=>{let T=p(x),I=T.text(),B=T.parent();T.replaceWith(Sz(I)),B.addClass("language-text")}),p('[data-role="codeBlock"]').each((b,x)=>{let T=p(x);if(T.data("hiddenByEnhancer")||T.data("normalizedInfo").attributes.hide===!0){T.remove();return}let B=T.text(),P=T.data("normalizedInfo"),F=Az(OM(P.language),B);try{let j=fh.default.highlight(B,fh.default.languages[F],F);T.empty().append(p("<code></code>").html(j))}catch{T.empty().append(p("<code></code>").text(B))}T.addClass(`language-${F}`),P.attributes.class&&(T.addClass(P.attributes.class),Tz(T,B)),P.attributes.highlight&&Cz(T,B,P.attributes.highlight),T.removeAttr("data-parsed-info"),T.removeAttr("data-normalized-info")})}function Az(p,b){return p==="vega"||p==="vega-lite"?(b.match(/^\s*(.)/)??[])[1]==="{"?"json":"yaml":p}function Tz(p,b){if(p.hasClass("numberLines")&&(p.addClass("line-numbers"),p.removeClass("numberLines")),p.hasClass("line-numbers")){if(!b.trim().length)return;let x=b.match(/\n(?!$)/g),T=x?x.length+1:1,I="";for(let B=0;B<T;B++)I+="<span></span>";p.append(`<span aria-hidden="true" class="line-numbers-rows">${I}</span>`)}}function Cz(p,b,x){if(!b.trim().length)return;typeof x=="number"?x=[x.toString()]:typeof x=="string"&&(x=x.split(","));let T=b.match(/\n(?!$)/g),I=T?T.length+1:1,B=[];x.forEach(P=>{if(P=P.toString(),P.indexOf("-")>0){let[F,j]=P.split("-").map(Q=>parseInt(Q,10));if(isNaN(F)||isNaN(j)||F<0||j<0||(F>j&&([F,j]=[j,F]),j>I))return;let W="";for(let Q=F;Q<=j;Q++)W+=`
`;let V="";for(let Q=0;Q<F-1;Q++)V+=`
`;B.push(`<div class="line-highlight-wrapper">${V}<div aria-hidden="true" class="line-highlight" data-range="${F}-${j}" data-start="${F}" data-end="${j}">${W}</div></div>`)}else{let F="",j=parseInt(P,10);if(isNaN(j)||j<0||j>I)return;for(let W=0;W<j-1;W++)F+=`
`;B.push(`<div class="line-highlight-wrapper">${F}<div aria-hidden="true" class="line-highlight" data-range="${P}" data-start="${P}">
</div></div>`)}}),p.append(B.join("")),p.attr("data-line",x.join(","))}import{extname as Rz}from"path";async function Jw(p,b,x){let T=[];p("img").each((I,B)=>{let P=p(B),F=x(P.attr("src"),!1);if(F.match(/^(file|vscode-resource):\/\/+/)){F=Ms(F),F=F.replace(/\?(\.|\d)+$/,"");let W=Rz(F).slice(1);if(W==="svg")return;T.push(new Promise(V=>{b.fs.readFile(decodeURI(F),"base64").then(Q=>(P.attr("src",`data:image/${W};charset=utf-8;base64,${Q}`),V(Q))).catch(Q=>(console.error(Q),V(null)))}))}}),await Promise.all(T)}import{extname as Nz}from"path";async function gA(p,b,x){let T=[];p("img").each((I,B)=>{let P=p(B),F=x(P.attr("src"),!1);if(F.match(/^(file|vscode-resource):\/\/+/)){if(F=Ms(F),F=F.replace(/\?(\.|\d)+$/,""),Nz(F).slice(1)!=="svg")return;T.push(new Promise(V=>{b.fs.readFile(decodeURI(F),"base64").then(Q=>(P.attr("src",`data:image/svg+xml;charset=utf-8;base64,${Q}`),V(Q))).catch(()=>V(null))}))}}),await Promise.all(T)}async function bA(p){let b=[],x=[],T=[];p("table").each((I,B)=>{let P=p(B),F=null;P.children().each((j,W)=>{p(W).children().each((Q,ae)=>{let pe=p(ae);pe.children().each((Z,te)=>{let ue=p(te),he=ue.text();if(he.length){if(he.trim()==="^"&&F){let me=p(F.children()[Z]);me.length&&b.push([me,ue])}else if(he.trim()===">"){let me=ue.next();me.length&&x.push([ue,me])}}else{let me=ue.prev();me.length&&T.push([me,ue])}}),F=pe})})});for(let I=b.length-1;I>=0;I--){let[B,P]=b[I],F=(parseInt(B.attr("rowspan"),10)||1)+(parseInt(P.attr("rowspan"),10)||1);B.attr("rowspan",F.toString()),P.remove()}for(let I=0;I<x.length;I++){let[B,P]=x[I],F=(parseInt(B.attr("colspan"),10)||1)+(parseInt(P.attr("colspan"),10)||1);P.attr("colspan",F.toString()),B.remove()}for(let I=T.length-1;I>=0;I--){let[B,P]=T[I],F=(parseInt(B.attr("colspan"),10)||1)+(parseInt(P.attr("colspan"),10)||1);B.attr("colspan",F.toString()),P.remove()}}import{escape as FM}from"html-escaper";async function yA(p,b,x,T){let I=[],B=[];p('[data-role="codeBlock"]').each((P,F)=>{let j=p(F);if(j.data("executor"))return;let W=j.data("normalizedInfo");W.attributes.cmd&&(j.data("executor","fenced-code-chunks"),I.push(Iz(j,W,p,b,B,x,T)))}),await Promise.all(I)}async function Iz(p,b,x,T,I,B,P){let F=p.text(),j=b.attributes.id||"code-chunk-id-"+I.length,W=n0(b),V=["js","javascript"].indexOf(W)!==-1,Q=x('<div class="code-chunk"></div>');Q.attr("data-id",j),Q.attr("data-cmd",W),V&&Q.attr("data-code",F),p.replaceWith(Q);let ae=x('<div class="input-div"/>');ae.append(p),Q.append(ae);let pe=T[j],Z=I.length?I[I.length-1].id:"";pe?(pe.code=F,pe.normalizedInfo=b,pe.prev=Z):(pe={id:j,code:F,normalizedInfo:b,result:"",plainResult:"",running:!1,prev:Z,next:null},T[j]=pe),Z&&T[Z]&&(T[Z].next=j),I.push(pe),B.triggeredBySave&&b.attributes.run_on_save&&await Qw(j,T,P);let te=pe.result;!te&&pe.normalizedInfo.attributes.element&&(te=pe.normalizedInfo.attributes.element,pe.result=te),pe.running&&Q.addClass("running");let ue='<div class="status">running...</div>',he='<div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>\u25B6\uFE0E</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div>',me=`<div class="output-div">${te}</div>`;!B.isForPreview&&V&&(me+=`<script>${F}</script>`,te=pe.normalizedInfo.attributes.element||""),ae.append(he),ae.append(ue),b.attributes.output_first===!0?Q.prepend(me):Q.append(me)}async function Qw(p,b,x){let{headings:T,enableScriptExecution:I,filePath:B,fileDirectoryPath:P,latexEngine:F,modifySource:j,parseMD:W}=x,V=b[p];if(!V||V.running)return"";let Q=[V.code],ae=V;for(;ae.normalizedInfo.attributes.continue;){let me=ae.normalizedInfo.attributes.continue;if(me===!0&&(me=ae.prev),ae=b[me],!ae)break;Q.unshift(ae.code)}let pe=Q.join(`
`),Z=n0(V.normalizedInfo);V.running=!0;let te,ue="text",he=V.normalizedInfo.attributes.modify_source;try{let me=V.normalizedInfo.attributes;if(Z==="toc")te=lh(T,{ordered:me.ordered_list,depthFrom:me.depth_from,depthTo:me.depth_to,tab:me.tab||"  ",ignoreLink:me.ignore_link}).content,ue="markdown",he=!0;else{if(!I)return"";te=await UD(pe,P,Z,V.normalizedInfo.attributes,F)}if(V.plainResult=te,he&&"code_chunk_offset"in V.normalizedInfo.attributes)return V.result="",j(V,te,B);if(Z.match(/(la)?tex/)||Z==="pdflatex"||me.matplotlib||me.mpl?ue="markdown":V.normalizedInfo.attributes.output&&(ue=V.normalizedInfo.attributes.output),!te)te="";else if(ue!=="html")if(ue==="png")te=`<img src="data:image/png;charset=utf-8;base64,${new Buffer(te).toString("base64")}">`;else if(ue==="markdown"){let{html:Re}=await W(te,{useRelativeFilePath:!0,isForPreview:!1,hideFrontMatter:!0});te=Re}else ue==="none"?te="":te=`<pre class="language-text"><code>${FM(te)}</code></pre>`}catch(me){te=`<pre class="language-text"><code>${FM(me.toString())}</code></pre>`}return V.result=te,V.running=!1,te}async function vA(p,b){let x=[];for(let T in p)p.hasOwnProperty(T)&&x.push(Qw(T,p,b));return Promise.all(x)}import Lz from"cross-fetch";import{escape as e_}from"html-escaper";import*as $M from"yaml";import Oz from"bit-field/lib/render";import{escape as Dz}from"html-escaper";import Mz from"onml";async function PM(p,b){try{let x=a0(p),T=Oz(x,b);return Mz.stringify(T)}catch(x){return`<pre class="language-text"><code>${Dz(x.toString())}</code></pre>`}}var t_=(p,b)=>{let x=p.class||"";return x.split(" ").indexOf(b)===-1?{...p,class:`${x} ${b}`.trim()}:p},Fz=["mermaid","puml","plantuml","wavedrom","bitfield","bit-field","graphviz","viz","dot","vega","vega-lite"];async function EA({$:p,graphsCache:b,fileDirectoryPath:x,imageDirectoryPath:T,plantumlServer:I,plantumlJarPath:B,kirokiServer:P}){let F=[];p('[data-role="codeBlock"]').each((j,W)=>{let V=p(W);if(V.data("executor"))return;let Q=V.data("normalizedInfo"),ae=!!Q.attributes.kroki||Q.language.startsWith("kroki-");Q.attributes.literate===!1||Q.attributes.cmd===!1||Fz.indexOf(Q.language)===-1&&!ae||Q.attributes.code_block===!0||(V.data("executor","fenced-diagrams"),Q.attributes.literate!==!1&&F.push(Pz({$container:V,normalizedInfo:Q,$:p,graphsCache:b,fileDirectoryPath:x,imageDirectoryPath:T,plantumlServer:I,plantumlJarPath:B,isKroki:ae,kirokiServer:P})))}),await Promise.all(F)}async function Pz({$container:p,normalizedInfo:b,$:x,graphsCache:T,fileDirectoryPath:I,plantumlServer:B,plantumlJarPath:P,isKroki:F,kirokiServer:j}){let W=null,V=p.text(),Q=La(JSON.stringify(b)+V),ae=T[Q];if(F)if(ae)W=ae;else{let pe=j||"https://kroki.io",Z=typeof b.attributes.kroki=="string"?b.attributes.kroki:b.language.replace(/^kroki-/,"");try{let ue=await(await Lz(`${pe}/${Z}/${b.attributes.output??"svg"}`,{method:"POST",body:V,headers:{"Content-Type":"text/plain; charset=utf-8"}})).text();W=`<div ${hn(t_(b.attributes,b.language))}>${ue}</div>`,T[Q]=W}catch(te){W=`<pre class="language-text"><code>${e_(te.toString())}</code></pre>`}}else try{switch(b.language){case"mermaid":{W=`<div ${hn(t_(b.attributes,b.language))}>${e_(V)}</div>`;break}case"wavedrom":{W=`<div ${hn(t_(b.attributes,b.language))}><script type="WaveDrom">${V}</script></div>`;break}case"puml":case"plantuml":{let pe=ae;pe||(pe=await Fw({content:V,fileDirectoryPath:I,serverURL:B,plantumlJarPath:P}),T[Q]=pe),W=`<p ${hn(b.attributes)}>${pe}</p>`;break}case"bitfield":case"bit-field":{let pe=ae;pe||(pe=await PM(V,b.attributes),T[Q]=pe),W=`<p ${hn(b.attributes)}>${pe}</p>`;break}case"graphviz":case"viz":case"dot":{let pe=ae;if(!pe){let Z=b.attributes.engine||"dot";pe=await zw(V,{engine:Z}),T[Q]=pe}W=`<p ${hn(b.attributes)}>${pe}</p>`;break}case"vega":case"vega-lite":{if(b.attributes.interactive===!0){let pe=V.trim(),Z;pe[0]!=="{"?Z=$M.parse(pe):Z=JSON.parse(pe),W=$z(e_(JSON.stringify(Z)),b.attributes,b.language)}else{let pe=ae;pe||(pe=await(b.language==="vega"?uh:Bw)(V,I),T[Q]=pe),W=`<p data-processed ${hn(b.attributes)}>${pe}</p>`}break}}}catch(pe){W=x(`<pre class="language-text"><code>${e_(pe.toString())}</code></pre>`)}W!==null&&(b.attributes.output_first===!0?p.before(W):p.after(W)),b.attributes.hide!==!1&&b.attributes.code_block!==!0&&p.data("hiddenByEnhancer",!0)}var $z=(p,b,x)=>`<p ${hn(t_(b,x))}><span style="display: none">${p}</span></p>`;import{escape as Bz}from"html-escaper";var Uz=["math"];async function wA(p,b,x,T){return p('[data-role="codeBlock"]').each((I,B)=>{let P=p(B);if(P.data("executor"))return;let F=P.data("normalizedInfo");if(F.attributes.literate===!1||F.attributes.cmd===!1||Uz.indexOf(F.language)===-1||(P.data("executor","math"),F.attributes.literate===!1))return;let j=P.text(),W=zz(j,F,b,x,T);F.attributes.output_first===!0?P.before(W):P.after(W),F.attributes.hide!==!1&&P.data("hiddenByEnhancer",!0)}),p}var zz=(p,b,x,T,I)=>{let B=null;try{let P=Vw({content:p,displayMode:!0,openTag:T.length?T[0][0]:"",closeTag:T.length?T[0][1]:"",renderingOption:x,katexConfig:I});B=`<p ${hn(b.attributes)}>${P}</p>`}catch(P){B=`<pre class="language-text"><code>${Bz(P.toString())}</code></pre>`}return B};async function _A(p,b,x){p("img, a").each((T,I)=>{let B="src";I.name==="a"&&(B="href");let P=p(I),F=P.attr(B);P.attr(B,x(F,b.useRelativeFilePath,b.fileDirectoryPath))})}var zM=[{key:"vega",version:"5.25.0"},{key:"vega-lite",version:"5.16.1"},{key:"vega-embed",version:"6.23.0"}],Xw=class p{constructor({filePath:b,notebook:x}){this.graphsCache={};this.codeChunksData={};this.filesCache={};this.isPreviewInPresentationMode=!1;this.filePath=b,this.notebook=x,this.fileDirectoryPath=qe.dirname(this.filePath),this.projectDirectoryPath=this.notebook.notebookPath||this.fileDirectoryPath,this.fs=this.notebook.fs,this.headings=[],this.tocHTML=""}get protocolsWhiteListRegExp(){let b=(this.notebook.config.protocolsWhiteList??ch().protocolsWhiteList??"").split(",").map(x=>x.trim());return new RegExp("^("+b.join("|")+")")}cacheCodeChunkResult(b,x){let T=this.codeChunksData[b];T&&(T.result=UM.AES.decrypt(x,"crossnote").toString(UM.enc.Utf8))}generateScriptsForPreview(b=!1,x={},T=null){let I="";if(I+="<script>var exports = undefined</script>",I+=`<script type="text/javascript" src="${vn(qe.resolve(Et(),"./dependencies/mermaid/mermaid.min.js"),T)}" charset="UTF-8"></script>`,I+=`<script type="module">
    import zenuml from 'https://cdn.jsdelivr.net/npm/@mermaid-js/mermaid-zenuml@0.1.0/dist/mermaid-zenuml.esm.min.mjs';
    await mermaid.registerExternalDiagrams([zenuml]);
  </script>`,I+=`<script type="text/javascript" src="${vn(qe.resolve(Et(),"./dependencies/wavedrom/skins/default.js"),T)}" charset="UTF-8"></script>`,I+=`<script type="text/javascript" src="${vn(qe.resolve(Et(),"./dependencies/wavedrom/skins/narrow.js"),T)}" charset="UTF-8"></script>`,I+=`<script type="text/javascript" src="${vn(qe.resolve(Et(),"./dependencies/wavedrom/wavedrom.min.js"),T)}" charset="UTF-8"></script>`,this.notebook.config.mathRenderingOption==="MathJax"||this.notebook.config.usePandocParser){let P=BM({...this.notebook.config.mathjaxConfig});P.tex=P.tex||{},P.tex.inlineMath=this.notebook.config.mathInlineDelimiters,P.tex.displayMath=this.notebook.config.mathBlockDelimiters,P.startup=P.startup||{},b||(P.startup.typeset=!1,P.startup.elements=[".hidden-preview"]),I+=`<script type="text/javascript"> window.MathJax = (${JSON.stringify(P)}); </script>`,I+=`<script type="text/javascript" async src="${this.notebook.config.mathjaxV3ScriptSrc}" charset="UTF-8"></script>`}let B="";if(b){I+=`<script src='${vn(qe.resolve(Et(),"./dependencies/reveal/js/reveal.js"),T)}'></script>`;let P=x.presentation||{};typeof P!="object"&&(P={});let F=P.dependencies||[];F instanceof Array||(F=[]),P.dependencies=F,B+=`
        await Reveal.initialize(${JSON.stringify({margin:.1,...P})})
        // NOTE: We have to add the promise below otherwise
        // initPresentationEvents in preview.ts will have problem slide to the correct slide.
        await new Promise((resolve)=> setTimeout(resolve, 200))
      `}return I+=`<script>
var MERMAID_CONFIG = (${JSON.stringify(this.notebook.config.mermaidConfig)});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "${this.notebook.config.mermaidTheme}"
}
mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
} else {
  // The line below will cause mermaid bug in preview.
  // mermaid.init(null, document.querySelectorAll('.mermaid'))
}
</script>`,b&&(B+=`
  WaveDrom.ProcessAll()
    `),zM.forEach(({key:P})=>{I+=`<script src="${vn(qe.resolve(Et(),`./dependencies/${P}/${P}.min.js`),T)}" charset="UTF-8"></script>`}),b&&(B+=`
      var vegaEls = document.querySelectorAll('.vega, .vega-lite');
      function reportVegaError(el, error) {
        el.innerHTML = '<pre class="language-text"><code>' + error.toString() + '</code></pre>'
      }
      for (var i = 0; i < vegaEls.length; i++) {
        const vegaEl = vegaEls[i]
        if (vegaEl.hasAttribute("data-processed")) {
          continue;
        }
        try {
          var spec = JSON.parse(vegaEl.textContent);
          vegaEmbed(vegaEl, spec, { actions: false, renderer: 'svg' })
          .catch(function(error) {
            reportVegaError(vegaEl, error);
          })
        } catch (error) {
          reportVegaError(vegaEl, error);
        }
      }`),B=`<script>
window["initRevealPresentation"] = async function() {
  ${B}
}    
</script>`,I+B}static{this.AutoPrismThemeMap={"atom-dark.css":"atom-dark.css","atom-light.css":"atom-light.css","atom-material.css":"atom-material.css","github-dark.css":"github-dark.css","github-light.css":"github.css","gothic.css":"github.css","medium.css":"github.css","monokai.css":"monokai.css","newsprint.css":"pen-paper-coffee.css","night.css":"darcula.css","one-dark.css":"one-dark.css","one-light.css":"one-light.css","solarized-light.css":"solarized-light.css","solarized-dark.css":"solarized-dark.css","vue.css":"vue.css"}}static{this.AutoPrismThemeMapForPresentation={"beige.css":"pen-paper-coffee.css","black.css":"one-dark.css","blood.css":"monokai.css","league.css":"okaidia.css","moon.css":"funky.css","night.css":"atom-dark.css","serif.css":"github.css","simple.css":"github.css","sky.css":"default.css","solarized.css":"solarized-light.css","white.css":"default.css"}}getPrismTheme(b=!1,x={}){if(this.notebook.config.codeBlockTheme==="auto.css")if(b){let T=x.presentation&&typeof x.presentation=="object"&&x.presentation.theme?x.presentation.theme:this.notebook.config.revealjsTheme;return p.AutoPrismThemeMapForPresentation[T]??"default.css"}else return p.AutoPrismThemeMap[this.notebook.config.previewTheme]??"default.css";else return this.notebook.config.codeBlockTheme}generateStylesForPreview(b=!1,x={},T=null){let I="";return this.notebook.config.mathRenderingOption==="KaTeX"&&!this.notebook.config.usePandocParser&&(I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),"./dependencies/katex/katex.min.css"),T)}">`),I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),"./dependencies/font-awesome/css/all.min.css"),T)}">`,b?(I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),"./dependencies/reveal/css/reveal.css"),T)}" >`,I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),`./dependencies/reveal/css/theme/${x.presentation&&typeof x.presentation=="object"&&x.presentation.theme?x.presentation.theme:this.notebook.config.revealjsTheme}`),T)}" >`):I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),`./styles/preview_theme/${this.notebook.config.previewTheme}`),T)}">`,I+=`<link rel="stylesheet" href="${vn(qe.resolve(Et(),`./styles/prism_theme/${this.getPrismTheme(b,x)}`),T)}">`,I+=`<link rel="stylesheet" media="screen" href="${vn(qe.resolve(Et(),"./styles/style-template.css"),T)}">`,I+=`<link rel="stylesheet" media="screen" href="${vn(qe.resolve(Et(),"./styles/markdown-it-admonition.css"),T)}">`,I+=`<style>${this.notebook.config.globalCss}</style>`,I}generateJSAndCssFilesForPreview(b=[],x=null){let T="";return b.forEach(I=>{let B=I;I[0]==="/"?B=vn(qe.resolve(this.projectDirectoryPath.fsPath,"."+I),x):I.match(/^file:\/\//)||I.match(/^https?:\/\//)||(B=vn(qe.resolve(this.fileDirectoryPath,I),x)),B.endsWith(".js")?T+=`<script type="text/javascript" src="${B}"></script>`:T+=`<link rel="stylesheet" href="${B}">`}),T}async generateHTMLTemplateForPreview({inputString:b="",body:x="",webviewScript:T="",scripts:I="",styles:B="",head:P=`<base href="${this.filePath}">`,config:F,vscodePreviewPanel:j=null,contentSecurityPolicy:W="",isVSCodeWebExtension:V}){b||(b=await this.fs.readFile(this.filePath));let Q="";T||(T=vn(qe.resolve(Et(),"./webview/preview.js"),j),Q=vn(qe.resolve(Et(),"./webview/preview.css"),j)),x||(x="");let{yamlConfig:ae,JSAndCssFiles:pe,html:Z}=await this.parseMD(b,{isForPreview:!0,useRelativeFilePath:!1,hideFrontMatter:!1,vscodePreviewPanel:j}),te=ae.isPresentationMode;return`<!DOCTYPE html>
      <html>
      <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <meta id="crossnote-data" data-config="${Ol(JSON.stringify({...this.notebook.config,...F}))}" data-time="${Date.now()}">
        <meta charset="UTF-8">
        ${W?`<meta
          http-equiv="Content-Security-Policy"
          content="${W}"
        />`:""}
        ${this.generateStylesForPreview(te,ae,j)}
        <link rel="stylesheet" href="${Q}">
        ${B}
        ${this.notebook.config.previewTheme==="none.css"&&j?`<style>
  html, body {
    background-color: var(--vscode-editor-background);
    color: var(--vscode-editor-foreground);
  }

  pre code {
    color: var(--vscode-editor-foreground);
    tab-size: 4;
  }  
  </style>
`:""}
        <link rel="stylesheet" href="${vn(qe.resolve(Et(),"./styles/preview.css"),j)}">
        ${this.generateJSAndCssFilesForPreview(pe,j)}
        ${await this.resolvePathsInHeader(this.notebook.config.includeInHeader)}
        ${P}
      </head>
      <body class="preview-container ${V?"vscode-web-extension":""}" data-html="${Ol(Z)}" ${te?"data-presentation-mode":""}>
        ${x}
      </body>
      ${this.generateScriptsForPreview(te,ae,j)}
      ${I}
      <script src="${T}"></script>
      </html>`}async generateHTMLTemplateForExport(b,x={},T){let I=x.id||"",B=x.class||[];typeof B=="string"&&(B=[B]),B=B.join(" ");let P="";if(this.notebook.config.mathRenderingOption==="MathJax"||this.notebook.config.usePandocParser){let Se=BM({...this.notebook.config.mathjaxConfig});Se.tex=Se.tex||{},Se.tex.inlineMath=this.notebook.config.mathInlineDelimiters,Se.tex.displayMath=this.notebook.config.mathBlockDelimiters,T.offline?P=`
        <script type="text/javascript">
          window.MathJax = (${JSON.stringify(Se)});
        </script>
        <script type="text/javascript" async src="${this.notebook.config.mathjaxV3ScriptSrc}" charset="UTF-8"></script>
        `:P=`
        <script type="text/javascript">
          window.MathJax = (${JSON.stringify(Se)});
        </script>
        <script type="text/javascript" async src="${this.notebook.config.mathjaxV3ScriptSrc}"></script>
        `}else this.notebook.config.mathRenderingOption==="KaTeX"?T.offline?P=`<link rel="stylesheet" href="file:///${qe.resolve(Et(),"./dependencies/katex/katex.min.css")}">`:P=`<link rel="stylesheet" href="https://${this.notebook.config.jsdelivrCdnHost}/npm/katex@0.16.9/dist/katex.min.css">`:P="";let F="";b.indexOf('<i class="fa')>=0&&(T.offline?F=`<link rel="stylesheet" href="file:///${qe.resolve(Et(),"./dependencies/font-awesome/css/all.min.css")}">`:F=`<link rel="stylesheet" href="https://${this.notebook.config.jsdelivrCdnHost}/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">`);let j="",W="";b.indexOf(' class="mermaid')>=0&&(T.offline?j=`<script type="text/javascript" src="file:///${qe.resolve(Et(),"./dependencies/mermaid/mermaid.min.js")}" charset="UTF-8"></script>`:j=`<script src="https://${this.notebook.config.jsdelivrCdnHost}/npm/mermaid@10.6.0/dist/mermaid.min.js"></script>`,W+=`<script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.
${b.match(/zenuml/i)?`import zenuml from 'https://${this.notebook.config.jsdelivrCdnHost}/npm/@mermaid-js/mermaid-zenuml@0.1.0/dist/mermaid-zenuml.esm.min.mjs';
await mermaid.registerExternalDiagrams([zenuml])`:""}

var MERMAID_CONFIG = (${JSON.stringify(this.notebook.config.mermaidConfig)});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "${this.notebook.config.mermaidTheme}"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>`);let V="",Q="";b.indexOf(' class="wavedrom')>=0&&(T.offline?(V+=`<script type="text/javascript" src="file:///${qe.resolve(Et(),"./dependencies/wavedrom/skins/default.js")}" charset="UTF-8"></script>`,V+=`<script type="text/javascript" src="file:///${qe.resolve(Et(),"./dependencies/wavedrom/skins/narrow.js")}" charset="UTF-8"></script>`,V+=`<script type="text/javascript" src="file:///${qe.resolve(Et(),"./dependencies/wavedrom/wavedrom.min.js")}" charset="UTF-8"></script>`):(V+=`<script type="text/javascript" src="https://${this.notebook.config.jsdelivrCdnHost}/npm/wavedrom@3.3.0/skins/default.js"></script>`,V+=`<script type="text/javascript" src="https://${this.notebook.config.jsdelivrCdnHost}/npm/wavedrom@3.3.0/skins/narrow.js"></script>`,V+=`<script type="text/javascript" src="https://${this.notebook.config.jsdelivrCdnHost}/npm/wavedrom@3.3.0/wavedrom.min.js"></script>`),Q="<script>WaveDrom.ProcessAll()</script>");let ae="",pe="";(b.indexOf(' class="vega')>=0||b.indexOf(' class="vega-lite')>=0)&&(zM.forEach(({key:Se,version:ke})=>{ae+=T.offline?`<script type="text/javascript" src="file:///${qe.resolve(Et(),`./dependencies/${Se}/${Se}.min.js`)}" charset="UTF-8"></script>`:`<script type="text/javascript" src="https://${this.notebook.config.jsdelivrCdnHost}/npm/${Se}@${ke}/build/${Se}.js"></script>`}),pe+=`<script>
      var vegaEls = document.querySelectorAll('.vega, .vega-lite');
      function reportVegaError(el, error) {
        el.innerHTML = '<pre class="language-text"><code>' + error.toString() + '</code></pre>'
      }
      for (var i = 0; i < vegaEls.length; i++) {
        const vegaEl = vegaEls[i]
        if (vegaEl.hasAttribute("data-processed")) {
          continue;
        }
        try {
          var spec = JSON.parse(vegaEl.textContent);
          vegaEmbed(vegaEl, spec, { actions: false, renderer: 'svg' })
          .catch(function(error) {
            reportVegaError(vegaEl, error);
          })
        } catch (error) {
          reportVegaError(vegaEl, error);
        }
      }
      </script>`);let Z="",te="",ue="";if(x.isPresentationMode){T.offline?Z=`
        <script src='file:///${qe.resolve(Et(),"./dependencies/reveal/js/reveal.js")}'></script>`:Z=`
        <script src='https://${this.notebook.config.jsdelivrCdnHost}/npm/reveal.js@4.6.0/dist/reveal.js'></script>`;let Se=x.presentation||{},ke=Se.dependencies||[];Se.enableSpeakerNotes&&(T.offline?ke.push({src:qe.resolve(Et(),"./dependencies/reveal/plugin/notes/notes.js"),async:!0}):ke.push({src:"revealjs_deps/notes.js",async:!0})),Se.dependencies=ke,te=`
      <style>
      ${await this.fs.readFile(qe.resolve(Et(),"./dependencies/reveal/css/reveal.css"))}
      ${T.isForPrint?await this.fs.readFile(qe.resolve(Et(),"./dependencies/reveal/css/print/pdf.css")):""}
      </style>
      `,ue=`
      <script>
        Reveal.initialize(${JSON.stringify({margin:.1,...Se})})
      </script>
      `}let he="";T.isForPrince&&(he="prince");let me=qe.basename(this.filePath);me=me.slice(0,me.length-qe.extname(me).length),x.title&&(me=x.title);let Re="";try{if(Re+=!this.notebook.config.printBackground&&!x.print_background&&!x.isPresentationMode?await this.fs.readFile(qe.resolve(Et(),"./styles/prism_theme/github.css")):await this.fs.readFile(qe.resolve(Et(),`./styles/prism_theme/${this.getPrismTheme(x.isPresentationMode,x)}`)),x.isPresentationMode){let Se=x.presentation&&typeof x.presentation=="object"&&x.presentation.theme?x.presentation.theme:this.notebook.config.revealjsTheme;T.offline?te+=`<link rel="stylesheet" href="file:///${qe.resolve(Et(),`./dependencies/reveal/css/theme/${Se}`)}">`:te+=`<link rel="stylesheet" href="https://${this.notebook.config.jsdelivrCdnHost}/npm/reveal.js@4.6.0/dist/theme/${Se}">`}else Re+=!this.notebook.config.printBackground&&!x.print_background?await this.fs.readFile(qe.resolve(Et(),"./styles/preview_theme/github-light.css")):await this.fs.readFile(qe.resolve(Et(),`./styles/preview_theme/${this.notebook.config.previewTheme}`));Re+=await this.fs.readFile(qe.resolve(Et(),"./styles/style-template.css")),b.indexOf("admonition")>0&&(Re+=await this.fs.readFile(qe.resolve(Et(),"./styles/markdown-it-admonition.css")))}catch{Re=""}let Ne=this.notebook.config.globalCss,Le="",ze="",Ee="";if(this.notebook.config.enableScriptExecution&&!x.isPresentationMode&&!T.isForPrint&&(!("html"in x)||x.html&&x.html.toc!==!1)&&(Le=`<div class="md-sidebar-toc">${this.tocHTML}</div>`,Ee='<a id="sidebar-toc-btn">\u2261</a>',ze=`
<script>
${x.html&&x.html.toc?"document.body.setAttribute('html-show-sidebar-toc', true)":""}
var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      `),b.indexOf("task-list-item-checkbox")>=0){let Se=Dl.load("<div>"+b+"</div>");Se(".task-list-item-checkbox").each((ke,We)=>{let De=Se(We).parent();De[0].name.match(/^li$/i)||(De=De.parent()),De[0].name.match(/^li$/i)&&De.addClass("task-list-item")}),b=Se.html()}let ye=Re+`
`+Ne,be="";if(ye=ye.replace(/@import\s+url\(([^)]+)\)\s*;/g,Se=>(be+=Se+`
`,"")),ye=be+ye,b=`
  <!DOCTYPE html>
  <html>
    <head>
      <title>${me}</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      ${te}
      ${P}
      ${F}
      ${Z}
      ${j}
      ${V}
      ${ae}
      <style>
      ${ye}
      </style>
      ${await this.resolvePathsInHeader(this.notebook.config.includeInHeader)}
    </head>
    <body ${T.isForPrint?"":'for="html-export"'} ${x.isPresentationMode?"data-presentation-mode":""}>
      <div class="crossnote markdown-preview ${he} ${B}" ${x.isPresentationMode?"data-presentation-mode":""} ${I?`id="${I}"`:""}>
      ${b}
      </div>
      ${Le}
      ${Ee}
    </body>
    ${ue}
    ${W}
    ${Q}
    ${pe}
    ${ze}
  </html>
    `,T.embedLocalImages||T.embedSVG){let Se=Dl.load(b);T.embedLocalImages&&await Jw(Se,this.notebook,this.resolveFilePath.bind(this)),T.embedSVG&&await gA(Se,this.notebook,this.resolveFilePath.bind(this)),b=Se.html()}return b.trim()}async openInBrowser({runAllCodeChunks:b=!1}){let x=await this.fs.readFile(this.filePath),T,I;({html:T,yamlConfig:I}=await this.parseMD(x,{useRelativeFilePath:!1,hideFrontMatter:!0,isForPreview:!1,runAllCodeChunks:b})),T=await this.generateHTMLTemplateForExport(T,I,{isForPrint:!1,isForPrince:!1,offline:!0,embedLocalImages:!1});let B=await Yo({prefix:"crossnote",suffix:".html"});Xn.writeFileSync(B.fd,T),Cd(B.path)}async htmlExport({offline:b=!1,runAllCodeChunks:x=!1}){let T=await this.fs.readFile(this.filePath),I,B;({html:I,yamlConfig:B}=await this.parseMD(T,{useRelativeFilePath:!0,hideFrontMatter:!0,isForPreview:!1,runAllCodeChunks:x}));let P=B.html||{};"offline"in P&&(b=P.offline);let F=P.embed_local_images,j=!0;"embed_svg"in P&&(j=P.embed_svg);let W=this.filePath,V=qe.extname(W);if(W=W.replace(new RegExp(V+"$"),".html"),I=await this.generateHTMLTemplateForExport(I,B,{isForPrint:!1,isForPrince:!1,embedLocalImages:F,offline:b,embedSVG:j}),!b&&I.indexOf('[{"src":"revealjs_deps/notes.js","async":true}]')>=0){let Q=qe.resolve(qe.dirname(W),"revealjs_deps");Xn.existsSync(Q)||Xn.mkdirSync(Q),Xn.createReadStream(qe.resolve(Et(),"./dependencies/reveal/plugin/notes/notes.js")).pipe(Xn.createWriteStream(qe.resolve(Q,"notes.js"))),Xn.createReadStream(qe.resolve(Et(),"./dependencies/reveal/plugin/notes/notes.html")).pipe(Xn.createWriteStream(qe.resolve(Q,"notes.html")))}return await this.fs.writeFile(W,I),W}async chromeExport({fileType:b="pdf",runAllCodeChunks:x=!1,openFileAfterGeneration:T=!1}){let I=await this.fs.readFile(this.filePath),B,P;({html:B,yamlConfig:P}=await this.parseMD(I,{useRelativeFilePath:!1,hideFrontMatter:!0,isForPreview:!1,runAllCodeChunks:x}));let F=this.filePath,j=qe.extname(F);F=F.replace(new RegExp(j+"$"),"."+b),B=await this.generateHTMLTemplateForExport(B,P,{isForPrint:!0,isForPrince:!1,embedLocalImages:!1,offline:!0});let W="";try{if(W=this.notebook.config.chromePath,!W){let he=(await import("chrome-paths")).default;W=he.chrome||he.chromeCanary||he.chromium}}catch{W=""}if(!W)throw new Error("Chrome executable path is not set.");let Q=await(await import("puppeteer-core/lib/cjs/puppeteer/puppeteer-core.js")).launch({args:this.notebook.config.puppeteerArgs||[],executablePath:W,headless:!0}),ae=await Yo({prefix:"crossnote",suffix:".html"});Xn.writeFileSync(ae.fd,B);let pe=await Q.newPage(),Z="file:///"+ae.path+(P.isPresentationMode?"?print-pdf":"");await pe.goto(Z);let te={path:F,...P.isPresentationMode?{}:{margin:{top:"1cm",bottom:"1cm",left:"1cm",right:"1cm"}},printBackground:this.notebook.config.printBackground,...P.chrome||P.puppeteer||{}},ue=0;return P.chrome&&P.chrome.timeout?ue=P.chrome.timeout:P.puppeteer&&P.puppeteer.timeout&&(ue=P.puppeteer.timeout),ue&&typeof ue=="number"?await pe.waitForTimeout(ue):this.notebook.config.puppeteerWaitForTimeout&&this.notebook.config.puppeteerWaitForTimeout>0&&await pe.waitForTimeout(this.notebook.config.puppeteerWaitForTimeout),b==="pdf"?await pe.pdf(te):(te.fullPage=!0,await pe.screenshot(te)),Q.close(),T&&Cd(F),F}async princeExport({runAllCodeChunks:b=!1,openFileAfterGeneration:x=!1}){let T=await this.fs.readFile(this.filePath),I,B;({html:I,yamlConfig:B}=await this.parseMD(T,{useRelativeFilePath:!1,hideFrontMatter:!0,isForPreview:!1,runAllCodeChunks:b}));let P=this.filePath,F=qe.extname(P);P=P.replace(new RegExp(F+"$"),".pdf"),I=await this.generateHTMLTemplateForExport(I,B,{isForPrint:!0,isForPrince:!0,embedLocalImages:!1,offline:!0});let j=await Yo({prefix:"crossnote",suffix:".html"});return Xn.writeFileSync(j.fd,I),B.isPresentationMode?"file:///"+j.path+"?print-pdf":(await pM(j.path,P),x&&Cd(P),P)}async eBookDownloadImages(b,x){let T=[];(qe.extname(x)===".epub"||qe.extname("dest")===".mobi")&&b("img").each((B,P)=>{let F=b(P);(F.attr("src")||"").match(/^https?:\/\//)&&T.push(F)});let I=T.map(B=>new Promise(P=>{let F=B.attr("src"),j=Math.random().toString(36).substr(2,9)+"_"+qe.basename(F);j=qe.resolve(this.fileDirectoryPath,j),jz(F).pipe(Xn.createWriteStream(j)).on("finish",()=>(B.attr("src","file:///"+j),P(j)))}));return Promise.all(I)}async eBookExport({fileType:b="epub",runAllCodeChunks:x=!1}){let T=await this.fs.readFile(this.filePath),I=b==="pdf",B,P;({html:B,yamlConfig:P}=await this.parseMD(T,{useRelativeFilePath:!1,hideFrontMatter:!0,isForPreview:!1,runAllCodeChunks:x,emojiToSvg:I}));let F=this.filePath,j=qe.extname(F);F=F.replace(new RegExp(j+"$"),"."+b.toLowerCase());let W=P.ebook||{};if(!W)throw new Error("eBook config not found. Please insert ebook front-matter to your markdown file.");if(W.cover){let ye=W.cover;W.cover=Ms(this.resolveFilePath(ye,!1))}let V=Dl.load(`<div>${B}</div>`),Q=[],ae=new Vo,pe=V("div > ul").last();if(pe.length){if(W.include_toc===!1){let ye=pe.prev();ye.length&&ye[0].name.match(/^h\d$/i)&&ye.remove()}V("h1, h2, h3, h4, h5, h6").each((ye,be)=>{let Se=V(be),ke=parseInt(Se[0].name.slice(1),10)-1;Se.attr("ebook-toc-level-"+(ke+1),""),Se.attr("heading",Se.html())}),Z(pe,0),W.include_toc===!1&&pe.remove()}function Z(ye,be){ye.children("li").each((Se,ke)=>{let We=V(ke),Pe=We.children("a").first();if(!Pe.length){We.children().length>=1&&Z(We.children().last(),be+1);return}let De=decodeURIComponent(Pe.attr("href")),lt=Pe.html()??"",gt=ae.generateId("ebook-heading-"+lt);Q.push({level:be,filePath:De,heading:lt,id:gt}),Pe.attr("href","#"+gt),We.children().length>1&&Z(We.children().last(),be+1)})}let te=Q.map(({heading:ye,id:be,level:Se,filePath:ke},We)=>new Promise((Pe,De)=>{if(ke=Ms(ke),ke.match(/^https?:\/\//))return Pe({heading:ye,id:be,level:Se,filePath:ke,html:"",offset:We});Xn.readFile(ke,{encoding:"utf-8"},(lt,gt)=>{if(lt)return De(lt.toString());let kt=qe.dirname(this.filePath);gt=gt.replace(/(!\[[^\]]*\]\()(\.[^)\s]*)/g,(an,cn,Gt)=>{let _t=qe.resolve(qe.dirname(ke),Gt),St=qe.relative(kt,_t);return cn+St}),this.parseMD(gt,{useRelativeFilePath:!1,isForPreview:!1,hideFrontMatter:!0,emojiToSvg:I,fileDirectoryPath:qe.dirname(ke)}).then(({html:an})=>Pe({heading:ye,id:be,level:Se,filePath:ke,html:an,offset:We}))})})),ue=V.html().replace(/^<div>(.+)<\/div>$/,"$1"),he=await Promise.all(te);he=he.sort((ye,be)=>ye.offset-be.offset),he.forEach(({heading:ye,id:be,level:Se,html:ke})=>{let We=Dl.load(`<div>${ke}</div>`);We("a").each((Pe,De)=>{let lt=We(De),gt=lt.attr("href");gt.startsWith("file://")&&he.forEach(kt=>{kt.filePath===Ms(gt)&&lt.attr("href","#"+kt.id)})}),ue+=`<div id="${be}" ebook-toc-level-${Se+1} heading="${ye}">${We.html()}</div>`}),V=Dl.load(ue);let me=await this.eBookDownloadImages(V,F);if(qe.extname(F)===".html"){if(W.cover){let ye=W.cover[0]==="/"?"file:///"+W.cover:W.cover;V(":root").children().first().prepend(`<img style="display:block; margin-bottom: 24px;" src="${ye}">`)}await Jw(V,this.notebook,this.resolveFilePath.bind(this))}ue=V.html();let Re=W.title||"no title",Ne="";ue.indexOf('class="katex"')>0&&(qe.extname(F)===".html"&&W.html&&W.html.cdn?Ne=`<link rel="stylesheet" href="https://${this.notebook.config.jsdelivrCdnHost}/npm/katex@0.16.9/dist/katex.min.css">`:Ne=`<link rel="stylesheet" href="file:///${qe.resolve(Et(),"./dependencies/katex/katex.min.css")}">`);let Le="";try{Le=(await Promise.all([await this.fs.readFile(qe.resolve(Et(),"./styles/style-template.css")),await this.fs.readFile(qe.resolve(Et(),`./styles/prism_theme/${p.AutoPrismThemeMap[W.theme||this.notebook.config.previewTheme]}`)),await this.fs.readFile(qe.resolve(Et(),"./styles/twemoji.css")),await this.fs.readFile(qe.resolve(Et(),`./styles/preview_theme/${W.theme||this.notebook.config.previewTheme}`)),ue.indexOf("admonition")>0?await this.fs.readFile(qe.resolve(Et(),"./styles/markdown-it-admonition.css")):""])).join("")}catch{Le=""}let ze="";try{ze=this.notebook.config.globalCss}catch{}if(B=`
<!DOCTYPE html>
<html>
  <head>
    <title>${Re}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    ${Le}
    ${ze}
    </style>
    ${Ne}
    ${await this.resolvePathsInHeader(this.notebook.config.includeInHeader)}
  </head>
  <body ${qe.extname(F)===".html"?'for="html-export"':""}>
    <div class="crossnote markdown-preview">
    ${ue}
    </div>
  </body>
</html>
`,qe.extname(F)===".html")return await this.fs.writeFile(F,B),F;function Ee(){me.forEach(ye=>{Xn.unlink(ye,()=>{})})}try{let ye=await Yo({prefix:"crossnote",suffix:".html"});return Xn.writeFileSync(ye.fd,B),await ED(ye.path,F,W),Ee(),F}catch(ye){throw Ee(),ye}}async pandocExport({runAllCodeChunks:b=!1,openFileAfterGeneration:x=!1}){let T=await this.fs.readFile(this.filePath);this.notebook.config.parserConfig.onWillParseMarkdown&&(T=await this.notebook.config.parserConfig.onWillParseMarkdown(T)),b&&await this.parseMD(T,{useRelativeFilePath:!0,isForPreview:!1,hideFrontMatter:!1,runAllCodeChunks:b});let I={};if(T.startsWith("---")){let P=T.indexOf(`
---`);if(P>0){let F=T.slice(0,P+4);I=this.processFrontMatter(F,!1).data}}let B=await fM(T,{fileDirectoryPath:this.fileDirectoryPath,projectDirectoryPath:this.projectDirectoryPath.fsPath,sourceFilePath:this.filePath,protocolsWhiteListRegExp:this.protocolsWhiteListRegExp,filesCache:this.filesCache,codeChunksData:this.codeChunksData,graphsCache:this.graphsCache,notebook:this.notebook},I);return x&&Cd(B),B}async markdownExport({runAllCodeChunks:b=!1}){let x=await this.fs.readFile(this.filePath);b&&await this.parseMD(x,{useRelativeFilePath:!0,isForPreview:!1,hideFrontMatter:!1,runAllCodeChunks:b});let T={};if(x.startsWith("---")){let B=x.indexOf(`
---`);if(B>0){let P=x.slice(0,B+4);x=x.replace(P,""),T=this.processFrontMatter(P,!1).data}}let I={};return T.markdown&&(I={...T.markdown}),I.image_dir||(I.image_dir=this.notebook.config.imageFolderPath),I.path||(this.filePath.match(/\.src\./)?I.path=this.filePath.replace(/\.src\./,"."):I.path=this.filePath.replace(new RegExp(qe.extname(this.filePath)),"_"+qe.extname(this.filePath)),I.path=qe.basename(I.path)),(I.ignore_from_front_matter||!("ignore_from_front_matter"in I))&&delete T.markdown,T.export_on_save&&delete T.export_on_save,Object.keys(T).length&&(x=`---
`+GM.stringify(T)+`---
`+x),await lM(x,{projectDirectoryPath:this.projectDirectoryPath.fsPath,fileDirectoryPath:this.fileDirectoryPath,protocolsWhiteListRegExp:this.protocolsWhiteListRegExp,filesCache:this.filesCache,codeChunksData:this.codeChunksData,graphsCache:this.graphsCache,notebook:this.notebook},I)}exportOnSave(b){let x=ZS();for(let T in b)if(T==="html")this.htmlExport({});else if(!x&&T==="prince")this.princeExport({openFileAfterGeneration:!1});else if(!x&&T==="puppeteer"||T==="chrome"){let I=b[T],B=this.chromeExport;B=B.bind(this),I===!0?B({fileType:"pdf",openFileAfterGeneration:!1}):typeof I=="string"?B({fileType:I,openFileAfterGeneration:!1}):I instanceof Array&&I.forEach(P=>{B({fileType:P,openFileAfterGeneration:!1})})}else if(!x&&T==="pandoc")this.pandocExport({openFileAfterGeneration:!1});else if(!x&&T==="ebook"){let I=b[T];I===!0?this.eBookExport({fileType:"epub"}):typeof I=="string"?this.eBookExport({fileType:I}):I instanceof Array&&I.forEach(B=>{this.eBookExport({fileType:B})})}}resolveFilePath(b="",x,T=""){return b.match(this.protocolsWhiteListRegExp)||b.startsWith("data:image/")||b[0]==="#"?b:b[0]==="/"?x?qe.relative(T||this.fileDirectoryPath,qe.resolve(this.projectDirectoryPath.fsPath,"."+b)):vn(qe.resolve(this.projectDirectoryPath.fsPath,"."+b),this.vscodePreviewPanel):x?b:vn(qe.resolve(T||this.fileDirectoryPath,b),this.vscodePreviewPanel)}async resolvePathsInHeader(b){let x=Dl.load(b),T=x("script");for(let I=0;I<T.length;I++){let B=x(T[I]),P=B.attr("src");if(P&&!P.match(/^https?:\/\//)&&P.startsWith("/")){let F=qe.join(this.notebook.notebookPath.fsPath,"."+P);try{let j=await this.fs.readFile(F);B.html(j),B.removeAttr("src")}catch(j){console.error(j)}}}return x.html()}clearCaches(){this.filesCache={},this.codeChunksData={},this.graphsCache={}}frontMatterToTable(b){if(b instanceof Array){let x="<tbody><tr>";return b.forEach(T=>x+=`<td>${this.frontMatterToTable(T)}</td>`),x+="</tr></tbody>",`<table>${x}</table>`}else if(typeof b=="object"){let x="<thead><tr>",T="<tbody><tr>";for(let I in b)b.hasOwnProperty(I)&&(x+=`<th>${Ol(I)}</th>`,T+=`<td>${this.frontMatterToTable(b[I])}</td>`);return x+="</tr></thead>",T+="</tr></tbody>",`<table>${x}${T}</table>`}else return Ol(b)}processFrontMatter(b,x=!1){if(b){let T=Rw(b);if(this.notebook.config.usePandocParser)return{content:b,table:"",data:T||{}};if(x||(this.notebook.config.frontMatterRenderingOption??"")[0]==="n")return{content:"",table:"",data:T};if((this.notebook.config.frontMatterRenderingOption??"")[0]==="t"){let I;return typeof T=="object"?I=this.frontMatterToTable(T):I='<pre class="language-text"><code>Failed to parse YAML.</code></pre>',{content:"",table:I,data:T}}else return{content:b.replace(/^---/,"```yaml").replace(/\n---$/,"\n```\n"),table:"",data:T}}else return{content:b,table:"",data:{}}}parseSlides(b,x,T){let I=b.split(/^\s*(?:<p[^>]*>)?<span>\[CROSSNOTESLIDE\]<\/span>(?:<\/p>)?\s*/gm),B=I[0];I=I.slice(1);let P="",F=0,j=-1,W=0;for(;F<I.length;){let Q=I[F],ae=x[F];"data-background-image"in ae&&(ae["data-background-image"]=this.resolveFilePath(ae["data-background-image"],T)),"data-background-video"in ae&&(ae["data-background-video"]=this.resolveFilePath(ae["data-background-video"],T)),"data-background-iframe"in ae&&(ae["data-background-iframe"]=this.resolveFilePath(ae["data-background-iframe"],T));let pe=hn(ae,!1),Z=ae.class||"",te=ae.id?`id="${ae.id}"`:"";ae.vertical?W+=1:(j+=1,F>0&&x[F-1].vertical&&(P+="</section>",W=0),F<I.length-1&&x[F+1].vertical&&(P+="<section>")),P+=`<section ${pe} ${te}  class="slide ${Z}" data-source-line="${ae.lineNo}" data-h="${j}" data-v="${W}">${Q}</section>`,F+=1}F>0&&x[F-1].vertical&&(P+="</section>");let V=Dl.load(P);return V("li").each((Q,ae)=>{let pe=V(ae),te=(pe.html()??"").trim().split(`
`)[0].match(/<!--(.+?)-->/);if(te){let ue=te[1].replace(/\.element:/,"").trim(),he=Vr(ue);for(let me in he)he.hasOwnProperty(me)&&pe.attr(me,he[me])}}),`
    <div style="display:none;">${B}</div>
    <div class="reveal">
      <div class="slides">
        ${V.html()}
      </div>
    </div>
    `}async pandocRender(b="",x){let T;switch(this.notebook.config.mathRenderingOption){case"MathJax":T="--mathjax";break;case"KaTeX":T="--katex";break;default:T=""}x=x||[],x=["--from="+this.notebook.config.pandocMarkdownFlavor,"--to=html",T].concat(x).filter(V=>V.length);let I="",B=b.split(`
`),P=0,F=!1,j=0;for(;P<B.length;){let V=B[P],Q=V.match(/(^\s*)```/);if(Q){if(F=!F,F){let ae=V.slice(Q[0].length).trim();ae||(ae="text");let pe=Hw(ae),Z=jw(pe);j=Q[1].length,I+=`${Q[1]}\`\`\`{.text data-role="codeBlock" data-info="${Ol(ae)}" data-parsed-info="${Ol(JSON.stringify(pe))}" data-normalized-info="${Ol(JSON.stringify(Z))}"}
`}else Q[1].length===j?I+=`${Q[1]}\`\`\`
`:(F=!F,I+=V+`
`);P+=1;continue}I+=V+`
`,P+=1}let W=this.notebook.config.pandocPath;return await new Promise((V,Q)=>{try{Gz(W,x,{cwd:this.fileDirectoryPath,maxBuffer:1/0},(pe,Z,te)=>pe?Q(pe):V(te?'<pre class="language-text"><code>'+Ol(te)+"</code></pre>"+Z:Z)).stdin?.end(I,"utf-8")}catch(ae){let pe=ae.toString();return pe.indexOf("Error: write EPIPE")>=0&&(pe=`"pandoc" is required to be installed.
Check "http://pandoc.org/installing.html" website.`),Q(pe)}})}async parseMD(b,x){b||(b=await this.fs.readFile(this.filePath)),this.vscodePreviewPanel=x.vscodePreviewPanel,this.notebook.config.parserConfig.onWillParseMarkdown&&(b=await this.notebook.config.parserConfig.onWillParseMarkdown(b));let{outputString:T,slideConfigs:I,tocBracketEnabled:B,JSAndCssFiles:P,headings:F,frontMatterString:j}=await Rd(b,{fileDirectoryPath:x.fileDirectoryPath||this.fileDirectoryPath,projectDirectoryPath:this.projectDirectoryPath.fsPath,forPreview:x.isForPreview,usePandocParser:this.notebook.config.usePandocParser,protocolsWhiteListRegExp:this.protocolsWhiteListRegExp,useRelativeFilePath:x.useRelativeFilePath,filesCache:this.filesCache,notebook:this.notebook}),W=this.processFrontMatter(j,x.hideFrontMatter),V=W.table,Q=W.data||{};typeof Q!="object"&&(Q={}),T=W.content+T;let ae;if(this.notebook.config.usePandocParser)try{let Re=Q.pandoc_args||[];Re instanceof Array||(Re=[]),Re.find(Le=>Le.includes("pandoc-citeproc")||Le.includes("--defaults"))===void 0&&(Q.bibliography||Q.references)&&Re.push("--citeproc"),Re=this.notebook.config.pandocArguments.concat(Re),ae=await this.pandocRender(T,Re)}catch(Re){ae=`<pre class="language-text"><code>${Ol(Re.toString())}</code></pre>`}else x.isForPreview?ae=this.notebook.md.render(T):ae=this.notebook.initMarkdownIt({...this.notebook.md.options,sourceMap:!1}).render(T);let pe=Q.toc||{},Z=pe.depth_from||1,te=pe.depth_to||6,ue=pe.ordered,he=this.notebook.initMarkdownIt({...this.notebook.md.options,sourceMap:!1});this.tocHTML=_D(F,he,{ordered:ue,depthFrom:Z,depthTo:te,tab:"  "}),this.headings=F,B&&(ae=ae.replace(/^\s*(?:<p[^>]*>)?<span>\[CROSSNOTETOC\]<\/span>(?:<\/p>)?\s*/gm,Re=>{let Ne=Re.match(/data-source-line="(\d+)"/),Le=Ne?Ne[1]:"";return Le?`<div data-source-line="${Le}">${this.tocHTML}</div>`:this.tocHTML}));let me=Dl.load(ae);return await wA(me,this.notebook.config.mathRenderingOption,this.notebook.config.mathBlockDelimiters,this.notebook.config.katexConfig),await EA({$:me,graphsCache:this.graphsCache,fileDirectoryPath:x.fileDirectoryPath||this.fileDirectoryPath,imageDirectoryPath:Ms(this.resolveFilePath(this.notebook.config.imageFolderPath,!1)),plantumlServer:this.notebook.config.plantumlServer,plantumlJarPath:this.notebook.config.plantumlJarPath,kirokiServer:this.notebook.config.krokiServer}),await yA(me,this.codeChunksData,x,this.generateRunOptions()),await mA(me),await _A(me,x,this.resolveFilePath.bind(this)),this.notebook.config.enableExtendedTableSyntax&&await bA(me),ae=V+`
`+me("head").html()+me("body").html(),I.length&&(ae=this.parseSlides(ae,I,x.useRelativeFilePath),Q&&(Q.isPresentationMode=!0)),this.notebook.config.parserConfig.onDidParseMarkdown&&(ae=await this.notebook.config.parserConfig.onDidParseMarkdown(ae)),x.runAllCodeChunks?(await vA(this.codeChunksData,this.generateRunOptions()),x.runAllCodeChunks=!1,this.parseMD(b,x)):(x.isForPreview&&(this.isPreviewInPresentationMode=!!I.length),x.triggeredBySave&&Q.export_on_save&&this.exportOnSave(Q.export_on_save),this.notebook.config.enableScriptExecution||(P=[]),{html:ae,markdown:b,tocHTML:this.tocHTML,yamlConfig:Q,JSAndCssFiles:P})}runCodeChunks(){return vA(this.codeChunksData,this.generateRunOptions())}runCodeChunk(b){return Qw(b,this.codeChunksData,this.generateRunOptions())}async modifySource(b,x,T){let I=()=>(b.running=!1,x),B=await this.notebook.fs.readFile(T);if(!B)return I();let P=async(Q,ae)=>{let pe=ae.length,Z=0;for(let te=Q+1;te<Q+6&&te<pe;te++)if(ae[te].startsWith("<!-- code_chunk_output -->")){Z=te;break}if(Z){let te=Z+1;for(;te<pe&&!ae[te].startsWith("<!-- /code_chunk_output -->");)te+=1;let ue="";for(let me=Z+2;me<te-1;me++)ue+=ae[me]+`
`;if(ue===x+`
`)return"";let he=[...ae.slice(0,Z+2),x,...ae.slice(te-1)];return await this.notebook.fs.writeFile(T,he.join(`
`)),""}else{let te=[...ae.slice(0,Q+1),`
<!-- code_chunk_output -->

${x}

<!-- /code_chunk_output -->
`,...ae.slice(Q+1)];return await this.notebook.fs.writeFile(T,te.join(`
`)),""}},F=B.split(`
`)||[],j=F.length,W=0,V=b.normalizedInfo.attributes.code_chunk_offset;for(let Q=0;Q<j;Q++){let ae=F[Q];if(ae.match(/^```(.+)"?cmd"?\s*[=\s}]/))if(W===V){for(Q=Q+1;Q<j&&!F[Q].match(/^```\s*/);)Q+=1;await P(Q,F);break}else W++;else if(ae.match(/@import\s+(.+)"?cmd"?\s*[=\s}]/))if(W===V){await P(Q,F);break}else W++}return I()}generateRunOptions(){return{enableScriptExecution:this.notebook.config.enableScriptExecution,fileDirectoryPath:this.fileDirectoryPath,filePath:this.filePath,imageFolderPath:this.notebook.config.imageFolderPath,latexEngine:this.notebook.config.latexEngine,modifySource:this.modifySource.bind(this),parseMD:this.parseMD.bind(this),headings:this.headings}}};var mj={addFileProtocol:vn,getCrossnoteBuildDirectory:Et,openFile:Cd,setCrossnoteBuildDirectory:mD,useExternalAddFileProtocolFunction:gD,uploadImage:YS};export{Vo as HeadingIdGenerator,AM as IS_NODE,Xw as MarkdownEngine,IM as Notebook,iz as PreviewMode,dA as getDefaultKatexConfig,cA as getDefaultMathjaxConfig,uA as getDefaultMermaidConfig,ch as getDefaultNotebookConfig,fA as getDefaultParserConfig,pA as loadConfigsInDirectory,Rd as transformMarkdown,mj as utility,hA as wrapNodeFSAsApi};
